!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=261)}([function(t,e,n){"use strict";function r(t){this.content=t}r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),a=i.content.slice();return-1==o?a.push(n||t,e):(a[o+1]=e,n&&(a[o]=n)),new r(a)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var i=r;n.d(e,"a",(function(){return tt})),n.d(e,"b",(function(){return ft})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return X})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return C})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return Z})),n.d(e,"j",(function(){return d}));var o=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},a={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};o.prototype.nodesBetween=function(t,e,n,r,i){void 0===r&&(r=0);for(var o=0,a=0;a<e;o++){var s=this.content[o],c=a+s.nodeSize;if(c>t&&!1!==n(s,r+a,i,o)&&s.content.size){var u=a+1;s.nodesBetween(Math.max(0,t-u),Math.min(s.content.size,e-u),n,r+u)}a=c}},o.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},o.prototype.textBetween=function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf&&r?(i+="function"==typeof r?r(a):r,o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i},o.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new o(r,this.size+t.size)},o.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var i=0,a=0;a<e;i++){var s=this.content[i],c=a+s.nodeSize;c>t&&((a<t||c>e)&&(s=s.isText?s.cut(Math.max(0,t-a),Math.min(s.text.length,e-a)):s.cut(Math.max(0,t-a-1),Math.min(s.content.size,e-a-1))),n.push(s),r+=s.nodeSize),a=c}return new o(n,r)},o.prototype.cutByIndex=function(t,e){return t==e?o.empty:0==t&&e==this.content.length?this:new o(this.content.slice(t,e))},o.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new o(r,i)},o.prototype.addToStart=function(t){return new o([t].concat(this.content),this.size+t.nodeSize)},o.prototype.addToEnd=function(t){return new o(this.content.concat(t),this.size+t.nodeSize)},o.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},a.firstChild.get=function(){return this.content.length?this.content[0]:null},a.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},a.childCount.get=function(){return this.content.length},o.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},o.prototype.maybeChild=function(t){return this.content[t]},o.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},o.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var i=0;;i++){if(i==e.childCount||i==n.childCount)return e.childCount==n.childCount?null:r;var o=e.child(i),a=n.child(i);if(o!=a){if(!o.sameMarkup(a))return r;if(o.isText&&o.text!=a.text){for(var s=0;o.text[s]==a.text[s];s++)r++;return r}if(o.content.size||a.content.size){var c=t(o.content,a.content,r+1);if(null!=c)return c}r+=o.nodeSize}else r+=o.nodeSize}}(this,t,e)},o.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,i){for(var o=e.childCount,a=n.childCount;;){if(0==o||0==a)return o==a?null:{a:r,b:i};var s=e.child(--o),c=n.child(--a),u=s.nodeSize;if(s!=c){if(!s.sameMarkup(c))return{a:r,b:i};if(s.isText&&s.text!=c.text){for(var l=0,f=Math.min(s.text.length,c.text.length);l<f&&s.text[s.text.length-l-1]==c.text[c.text.length-l-1];)l++,r--,i--;return{a:r,b:i}}if(s.content.size||c.content.size){var d=t(s.content,c.content,r-1,i-1);if(d)return d}r-=u,i-=u}else r-=u,i-=u}}(this,t,e,n)},o.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?c(n+1,i):c(n,r);r=i}},o.prototype.toString=function(){return"<"+this.toStringInner()+">"},o.prototype.toStringInner=function(){return this.content.join(", ")},o.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},o.fromJSON=function(t,e){if(!e)return o.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new o(e.map(t.nodeFromJSON))},o.fromArray=function(t){if(!t.length)return o.empty;for(var e,n=0,r=0;r<t.length;r++){var i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new o(e||t,n)},o.from=function(t){if(!t)return o.empty;if(t instanceof o)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new o([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(o.prototype,a);var s={index:0,offset:0};function c(t,e){return s.index=t,s.offset=e,s}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!u(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e&&u(t[i],e[i])))return!1;for(var o in e)if(!(o in t))return!1}return!0}o.empty=new o([],0);var l=function(t,e){this.type=t,this.attrs=e};function f(t){var e=Error.call(this,t);return e.__proto__=f.prototype,e}l.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e},l.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},l.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},l.prototype.eq=function(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)},l.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},l.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},l.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},l.setFrom=function(t){if(!t||0==t.length)return l.none;if(t instanceof l)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},l.none=[],f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f.prototype.name="ReplaceError";var d=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},h={size:{configurable:!0}};function p(t,e,n){if(n.openStart>t.depth)throw new f("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new f("Inconsistent open depths");return function t(e,n,r,i){var a=e.index(i),s=e.node(i);if(a==n.index(i)&&i<e.depth-r.openStart){var c=t(e,n,r,i+1);return s.copy(s.content.replaceChild(a,c))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=i||n.depth!=i){var u=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),i=n-1;i>=0;i--)r=e.node(i).copy(o.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),l=u.start,f=u.end;return b(s,function t(e,n,r,i,a){var s=e.depth>a&&v(e,n,a+1),c=i.depth>a&&v(r,i,a+1),u=[];y(null,e,a,u),s&&c&&n.index(a)==r.index(a)?(m(s,c),g(b(s,t(e,n,r,i,a+1)),u)):(s&&g(b(s,w(e,n,a+1)),u),y(n,r,a,u),c&&g(b(c,w(r,i,a+1)),u));return y(i,null,a,u),new o(u)}(e,l,f,n,i))}var d=e.parent,h=d.content;return b(d,h.cut(0,e.parentOffset).append(r.content).append(h.cut(n.parentOffset)))}return b(s,w(e,n,i))}(t,e,n,0)}function m(t,e){if(!e.type.compatibleContent(t.type))throw new f("Cannot join "+e.type.name+" onto "+t.type.name)}function v(t,e,n){var r=t.node(n);return m(r,e.node(n)),r}function g(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,r){var i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(g(t.nodeAfter,r),o++));for(var s=o;s<a;s++)g(i.child(s),r);e&&e.depth==n&&e.textOffset&&g(e.nodeBefore,r)}function b(t,e){if(!t.type.validContent(e))throw new f("Invalid content for node "+t.type.name);return t.copy(e)}function w(t,e,n){var r=[];(y(null,t,n,r),t.depth>n)&&g(b(v(t,e,n+1),w(t,e,n+1)),r);return y(e,null,n,r),new o(r)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},d.prototype.insertAt=function(t,e){var n=function t(e,n,r,i){var o=e.findIndex(n),a=o.index,s=o.offset,c=e.maybeChild(a);if(s==n||c.isText)return i&&!i.canReplace(a,a,r)?null:e.cut(0,n).append(r).append(e.cut(n));var u=t(c.content,n-s-1,r);return u&&e.replaceChild(a,c.copy(u))}(this.content,t+this.openStart,e,null);return n&&new d(n,this.openStart,this.openEnd)},d.prototype.removeBetween=function(t,e){return new d(function t(e,n,r){var i=e.findIndex(n),o=i.index,a=i.offset,s=e.maybeChild(o),c=e.findIndex(r),u=c.index,l=c.offset;if(a==n||s.isText){if(l!=r&&!e.child(u).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(o!=u)throw new RangeError("Removing non-flat range");return e.replaceChild(o,s.copy(t(s.content,n-a-1,r-a-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},d.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},d.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},d.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},d.fromJSON=function(t,e){if(!e)return d.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new d(o.fromJSON(t,e.content),n,r)},d.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,i=t.firstChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.firstChild)n++;for(var o=t.lastChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.lastChild)r++;return new d(t,n,r)},Object.defineProperties(d.prototype,h),d.empty=new d(o.empty,0,0);var k=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},x={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};k.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},x.parent.get=function(){return this.node(this.depth)},x.doc.get=function(){return this.node(0)},k.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},k.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},k.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},k.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},k.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},k.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},k.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},x.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},x.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},x.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},k.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r},k.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return l.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||r&&o[a].isInSet(r.marks)||(o=o[a--].removeFromSet(o));return o},k.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n},k.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},k.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new C(this,t,n)},k.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},k.prototype.max=function(t){return t.pos>this.pos?t:this},k.prototype.min=function(t){return t.pos<this.pos?t:this},k.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},k.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,i=e,o=t;;){var a=o.content.findIndex(i),s=a.index,c=a.offset,u=i-c;if(n.push(o,s,r+c),!u)break;if((o=o.child(s)).isText)break;i=u-1,r+=c+1}return new k(e,n,i)},k.resolveCached=function(t,e){for(var n=0;n<S.length;n++){var r=S[n];if(r.pos==e&&r.doc==t)return r}var i=S[E]=k.resolve(t,e);return E=(E+1)%_,i},Object.defineProperties(k.prototype,x);var S=[],E=0,_=12,C=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},M={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};M.start.get=function(){return this.$from.before(this.depth+1)},M.end.get=function(){return this.$to.after(this.depth+1)},M.parent.get=function(){return this.$from.node(this.depth)},M.startIndex.get=function(){return this.$from.index(this.depth)},M.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(C.prototype,M);var A=Object.create(null),T=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||o.empty,this.marks=r||l.none},O={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};O.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},O.childCount.get=function(){return this.content.childCount},T.prototype.child=function(t){return this.content.child(t)},T.prototype.maybeChild=function(t){return this.content.maybeChild(t)},T.prototype.forEach=function(t){this.content.forEach(t)},T.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},T.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},O.textContent.get=function(){return this.textBetween(0,this.content.size,"")},T.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},O.firstChild.get=function(){return this.content.firstChild},O.lastChild.get=function(){return this.content.lastChild},T.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},T.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},T.prototype.hasMarkup=function(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||A)&&l.sameSet(this.marks,n||l.none)},T.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},T.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},T.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},T.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return d.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new d(s,r.depth-o,i.depth-o)},T.prototype.replace=function(t,e,n){return p(this.resolve(t),this.resolve(e),n)},T.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(!(e=e.maybeChild(r)))return null;if(i==t||e.isText)return e;t-=i+1}},T.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},T.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}},T.prototype.resolve=function(t){return k.resolveCached(this,t)},T.prototype.resolveNoCache=function(t){return k.resolve(this,t)},T.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},O.isBlock.get=function(){return this.type.isBlock},O.isTextblock.get=function(){return this.type.isTextblock},O.inlineContent.get=function(){return this.type.inlineContent},O.isInline.get=function(){return this.type.isInline},O.isText.get=function(){return this.type.isText},O.isLeaf.get=function(){return this.type.isLeaf},O.isAtom.get=function(){return this.type.isAtom},T.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),I(this.marks,t)},T.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},T.prototype.canReplace=function(t,e,n,r,i){void 0===n&&(n=o.empty),void 0===r&&(r=0),void 0===i&&(i=n.childCount);var a=this.contentMatchAt(t).matchFragment(n,r,i),s=a&&a.matchFragment(this.content,e);if(!s||!s.validEnd)return!1;for(var c=r;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},T.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd},T.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},T.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=l.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!l.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},T.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},T.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=o.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(T.prototype,O);var D=function(t){function e(e,n,r,i){if(t.call(this,e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):I(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(T);function I(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var N=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},P={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};N.parse=function(t,e){var n=new L(t,e);if(null==n.next)return N.empty;var r=B(n);n.next&&n.err("Unexpected trailing text");var i=function(t){var e=Object.create(null);return function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var o=i.indexOf(n),a=o>-1&&i[o+1];q(t,r).forEach((function(t){a||i.push(n,a=[]),-1==a.indexOf(t)&&a.push(t)}))}}))}));for(var o=e[r.join(",")]=new N(r.indexOf(t.length-1)>-1),a=0;a<i.length;a+=2){var s=i[a+1].sort(F);o.next.push(i[a],e[s.join(",")]||n(s))}return o}(q(t,0))}(function(t){var e=[[]];return i(function t(e,o){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,o))}),[]);if("seq"==e.type)for(var a=0;;a++){var s=t(e.exprs[a],o);if(a==e.exprs.length-1)return s;i(s,o=n())}else{if("star"==e.type){var c=n();return r(o,c),i(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var u=n();return i(t(e.expr,o),u),i(t(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(o)].concat(t(e.expr,o));if("range"==e.type){for(var l=o,f=0;f<e.min;f++){var d=n();i(t(e.expr,l),d),l=d}if(-1==e.max)i(t(e.expr,l),l);else for(var h=e.min;h<e.max;h++){var p=n();r(l,p),i(t(e.expr,l),p),l=p}return[r(l)]}if("name"==e.type)return[r(o,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,a=[],s=0;s<i.next.length;s+=2){var c=i.next[s],u=i.next[s+1];a.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(u)&&r.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i},N.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},N.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r},P.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},P.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},N.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},N.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function i(a,s){var c=a.matchFragment(t,n);if(c&&(!e||c.validEnd))return o.from(s.map((function(t){return t.createAndFill()})));for(var u=0;u<a.next.length;u+=2){var l=a.next[u],f=a.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(f)){r.push(f);var d=i(f,s.concat(l));if(d)return d}}}(this,[])},N.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},N.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<i.next.length;s+=2){var c=i.next[s];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!i.next[s+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},P.edgeCount.get=function(){return this.next.length>>1},N.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},N.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i+=2)r+=(i?", ":"")+e.next[i].name+"->"+t.indexOf(e.next[i+1]);return r})).join("\n")},Object.defineProperties(N.prototype,P),N.empty=new N(!0);var L=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},R={next:{configurable:!0}};function B(t){var e=[];do{e.push(j(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function j(t){var e=[];do{e.push(U(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function U(t){for(var e=function(t){if(t.eat("(")){var e=B(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var a=n[o];a.groups.indexOf(e)>-1&&i.push(a)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=H(t,e)}return e}function z(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function H(t,e){var n=z(t),r=n;return t.eat(",")&&(r="}"!=t.next?z(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function F(t,e){return e-t}function q(t,e){var n=[];return function e(r){var i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var a=i[o],s=a.term,c=a.to;s||-1!=n.indexOf(c)||e(c)}}(e),n.sort(F)}function V(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function $(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function K(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new G(t[n]);return e}R.next.get=function(){return this.tokens[this.pos]},L.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},L.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(L.prototype,R);var W=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=K(n.attrs),this.defaultAttrs=V(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},J={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};J.isInline.get=function(){return!this.isBlock},J.isTextblock.get=function(){return this.isBlock&&this.inlineContent},J.isLeaf.get=function(){return this.contentMatch==N.empty},J.isAtom.get=function(){return this.isLeaf||this.spec.atom},W.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},W.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},W.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:$(this.attrs,t)},W.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new T(this,this.computeAttrs(t),o.from(e),l.setFrom(n))},W.prototype.createChecked=function(t,e,n){if(e=o.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new T(this,this.computeAttrs(t),e,l.setFrom(n))},W.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=o.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e).fillBefore(o.empty,!0);return i?new T(this,t,e.append(i),l.setFrom(n)):null},W.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},W.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},W.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},W.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:l.empty:t},W.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new W(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(W.prototype,J);var G=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Y={isRequired:{configurable:!0}};Y.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(G.prototype,Y);var X=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=K(r.attrs),this.rank=e,this.excluded=null;var i=V(this.attrs);this.instance=i&&new l(this,i)};X.prototype.create=function(t){return!t&&this.instance?this.instance:new l(this,$(this.attrs,t))},X.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,i){return n[t]=new X(t,r++,e,i)})),n},X.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},X.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},X.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Z=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=i.from(t.nodes),this.spec.marks=i.from(t.marks),this.nodes=W.compile(this.spec.nodes,this),this.marks=X.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var o=this.nodes[r],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=N.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet="_"==s?null:s?Q(this,s.split(" ")):""!=s&&o.inlineContent?null:[]}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:Q(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(var s in t.marks){var c=t.marks[s];("_"==i||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}Z.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof W))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},Z.prototype.text=function(t,e){var n=this.nodes.text;return new D(n,n.defaultAttrs,t,l.setFrom(e))},Z.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},Z.prototype.nodeFromJSON=function(t){return T.fromJSON(this,t)},Z.prototype.markFromJSON=function(t){return l.fromJSON(this,t)},Z.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var tt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};tt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new at(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},tt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new at(this,e,!0);return n.addAll(t,null,e.from,e.to),d.maxOpen(n.finish())},tt.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(ct(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o}return i}}},tt.prototype.matchStyle=function(t,e,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i];if(!(0!=o.style.indexOf(t)||o.context&&!n.matchesContext(o.context)||o.style.length>t.length&&(61!=o.style.charCodeAt(t.length)||o.style.slice(t.length+1)!=e))){if(o.getAttrs){var a=o.getAttrs(e);if(!1===a)continue;o.attrs=a}return o}}},tt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r];if((null==i.priority?50:i.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=ut(t)),t.mark=e}))};for(var i in t.marks)r(i);var o;for(var a in t.nodes)o=void 0,(o=t.nodes[a].spec.parseDOM)&&o.forEach((function(t){n(t=ut(t)),t.node=a}));return e},tt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new tt(t,tt.schemaRules(t)))};var et={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rt={ol:!0,ul:!0};function it(t){return(t?1:0)|("full"===t?2:0)}var ot=function(t,e,n,r,i,o,a){this.type=t,this.attrs=e,this.solid=i,this.match=o||(4&a?null:t.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=l.none,this.pendingMarks=r,this.stashMarks=[]};ot.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(o.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},ot.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=o.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(o.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},ot.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},ot.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):lt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},ot.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!et.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var at=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,i=e.topNode,o=it(e.preserveWhitespace)|(n?4:0);r=i?new ot(i.type,i.attrs,l.none,l.none,!0,e.topMatch||i.type.contentMatch,o):new ot(n?null:t.schema.topNodeType,null,l.none,l.none,!0,null,o),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},st={top:{configurable:!0},currentPos:{configurable:!0}};function ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ut(t){var e={};for(var n in t)e[n]=t[n];return e}function lt(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(i.allowsMarkType(t)){var o=[],a=function(t){o.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),i=r.type,s=r.next;if(i==e)return!0;if(o.indexOf(s)<0&&a(s))return!0}};return a(i.contentMatch)?{v:!0}:void 0}};for(var i in n){var o=r(i);if(o)return o.v}}st.top.get=function(){return this.nodes[this.open]},at.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}},at.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},at.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();rt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&rt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:nt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,a=this.top,s=this.needsBlock;if(et.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,i,!1===i.consuming?n:null)},at.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},at.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},at.prototype.readStyles=function(t){var e=l.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e},at.prototype.addElementByRule=function(t,e,n){var r,i,o,a=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return a.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},at.prototype.addAll=function(t,e,n,r){for(var i=n||0,o=n?t.childNodes[n]:t.firstChild,a=null==r?null:t.childNodes[r];o!=a;o=o.nextSibling,++i)this.findAtPoint(t,i),this.addDOM(o),e&&et.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,i)},at.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0},at.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},at.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},at.prototype.enterInner=function(t,e,n,r){this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t,e);var o=null==r?-5&i.options:it(r);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new ot(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++},at.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},at.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},at.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},st.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},at.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},at.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},at.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},at.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},at.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),a=function(t,s){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;s>=o;s--)if(a(t-1,s))return!0;return!1}var u=s>0||0==s&&i?e.nodes[s].type:r&&s>=o?r.node(s-o).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;s--}return!0};return a(n.length-1,this.open)},at.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}},at.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},at.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(at.prototype,st);var ft=function(t,e){this.nodes=t||{},this.marks=e||{}};function dt(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ht(t){return t.document||window.document}ft.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=ht(e).createDocumentFragment());var i=n,o=null;return t.forEach((function(t){if(o||t.marks.length){o||(o=[]);for(var n=0,a=0;n<o.length&&a<t.marks.length;){var s=t.marks[a];if(r.marks[s.type.name]){if(!s.eq(o[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<o.length;)i=o.pop(),o.pop();for(;a<t.marks.length;){var c=t.marks[a++],u=r.serializeMark(c,t.isInline,e);u&&(o.push(c,i),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(r.serializeNodeInner(t,e))})),n},ft.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=ft.renderSpec(ht(e),this.nodes[t.type.name](t)),r=n.dom,i=n.contentDOM;if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,i,e):this.serializeFragment(t.content,e,i)}return r},ft.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n},ft.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&ft.renderSpec(ht(n),r(t,e))},ft.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],i=r.indexOf(" ");i>0&&(n=r.slice(0,i),r=r.slice(i+1));var o=null,a=n?t.createElementNS(n,r):t.createElement(r),s=e[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var u in c=2,s)if(null!=s[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),s[u]):a.setAttribute(u,s[u])}for(var f=c;f<e.length;f++){var d=e[f];if(0===d){if(f<e.length-1||f>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var h=ft.renderSpec(t,d,n),p=h.dom,m=h.contentDOM;if(a.appendChild(p),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:a,contentDOM:o}},ft.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new ft(this.nodesFromSchema(t),this.marksFromSchema(t)))},ft.nodesFromSchema=function(t){var e=dt(t.nodes);return e.text||(e.text=function(t){return t.text}),e},ft.marksFromSchema=function(t){return dt(t.marks)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return x})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return u}));var r=n(0),i=n(2),o=Object.create(null),a=function(t,e,n){this.ranges=n||[new c(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},s={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};s.anchor.get=function(){return this.$anchor.pos},s.head.get=function(){return this.$head.pos},s.from.get=function(){return this.$from.pos},s.to.get=function(){return this.$to.pos},s.$from.get=function(){return this.ranges[0].$from},s.$to.get=function(){return this.ranges[0].$to},s.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(t,e){void 0===e&&(e=r.j.empty);for(var n=e.content.lastChild,i=null,o=0;o<e.openEnd;o++)i=n,n=n.lastChild;for(var a=t.steps.length,s=this.ranges,c=0;c<s.length;c++){var u=s[c],l=u.$from,f=u.$to,d=t.mapping.slice(a);t.replaceRange(d.map(l.pos),d.map(f.pos),c?r.j.empty:e),0==c&&v(t,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}},a.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],a=o.$from,s=o.$to,c=t.mapping.slice(n),u=c.map(a.pos),l=c.map(s.pos);i?t.deleteRange(u,l):(t.replaceRangeWith(u,l,e),v(t,n,e.isInline?-1:1))}},a.findFrom=function(t,e,n){var r=t.parent.inlineContent?new u(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?m(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):m(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}},a.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new h(t.node(0))},a.atStart=function(t){return m(t,t,0,0,1)||new h(t)},a.atEnd=function(t){return m(t,t,t.content.size,t.childCount,-1)||new h(t)},a.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=o[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},a.jsonID=function(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e},a.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,s),a.prototype.visible=!0;var c=function(t,e){this.$from=t,this.$to=e},u=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var i=n.resolve(r.map(this.head));if(!i.parent.inlineContent)return t.near(i);var o=n.resolve(r.map(this.anchor));return new e(o.parent.inlineContent?o:i,i)},e.prototype.replace=function(e,n){if(void 0===n&&(n=r.j.empty),t.prototype.replace.call(this,e,n),n==r.j.empty){var i=this.$from.marksAcross(this.$to);i&&e.ensureMarks(i)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new l(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,i){var o=n.pos-r.pos;if(i&&!o||(i=o>=0?1:-1),!r.parent.inlineContent){var a=t.findFrom(r,i,!0)||t.findFrom(r,-i,!0);if(!a)return t.near(r,i);r=a.$head}return n.parent.inlineContent||(0==o?n=r:(n=(t.findFrom(n,-i,!0)||t.findFrom(n,i,!0)).$anchor).pos<r.pos!=o<0&&(n=r)),new e(n,r)},Object.defineProperties(e.prototype,n),e}(a);a.jsonID("text",u);var l=function(t,e){this.anchor=t,this.head=e};l.prototype.map=function(t){return new l(t.map(this.anchor),t.map(this.head))},l.prototype.resolve=function(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))};var f=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var i=r.mapResult(this.anchor),o=i.deleted,a=i.pos,s=n.resolve(a);return o?t.near(s):new e(s)},e.prototype.content=function(){return new r.j(r.c.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new d(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(a);f.prototype.visible=!1,a.jsonID("node",f);var d=function(t){this.anchor=t};d.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new l(r,r):new d(r)},d.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&f.isSelectable(n)?new f(e):a.near(e)};var h=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=r.j.empty),n==r.j.empty){e.delete(0,e.doc.content.size);var i=t.atStart(e.doc);i.eq(e.selection)||e.setSelection(i)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return p},e}(a);a.jsonID("all",h);var p={map:function(){return this},resolve:function(t){return new h(t)}};function m(t,e,n,r,i,o){if(e.inlineContent)return u.create(t,n);for(var a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var s=e.child(a);if(s.isAtom){if(!o&&f.isSelectable(s))return f.create(t,n-(i<0?s.nodeSize:0))}else{var c=m(t,s,n+i,i<0?s.childCount:0,i,o);if(c)return c}n+=s.nodeSize*i}}function v(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,s=t.steps[r];if(s instanceof i.c||s instanceof i.b)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(a.near(t.doc.resolve(o),n))}}var g=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return r.d.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.d.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(i.e);function y(t,e){return e&&t?t.bind(e):t}var b=function(t,e,n){this.name=t,this.init=y(e.init,n),this.apply=y(e.apply,n)},w=[new b("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new b("selection",{init:function(t,e){return t.selection||a.atStart(e.doc)},apply:function(t){return t.selection}}),new b("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],k=function(t,e){var n=this;this.schema=t,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new b(t.key,t.spec.state,t))}))},x=function(t){this.config=t},S={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};S.schema.get=function(){return this.config.schema},S.plugins.get=function(){return this.config.plugins},x.prototype.apply=function(t){return this.applyTransaction(t).state},x.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},x.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=r?r[o].n:0,c=r?r[o].state:this,u=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<o?{state:n,n:e.length}:{state:this,n:0})}e.push(u),n=n.applyInner(u),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}},x.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new x(this.config),n=this.config.fields,r=0;r<n.length;r++){var i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}for(var o=0;o<E.length;o++)E[o](this,t,e);return e},S.tr.get=function(){return new g(this)},x.create=function(t){for(var e=new k(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new x(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},x.prototype.reconfigure=function(t){for(var e=new k(this.schema,t.plugins),n=e.fields,r=new x(e),i=0;i<n.length;i++){var o=n[i].name;r[o]=this.hasOwnProperty(o)?this[o]:n[i].init(t,r)}return r},x.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e},x.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new k(t.schema,t.plugins),o=new x(i);return i.fields.forEach((function(i){if("doc"==i.name)o.doc=r.f.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=a.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var s in n){var c=n[s],u=c.spec.state;if(c.key==i.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(e,s))return void(o[i.name]=u.fromJSON.call(c,t,e[s],o))}o[i.name]=i.init(t,o)}})),o},x.addApplyListener=function(t){E.push(t)},x.removeApplyListener=function(t){var e=E.indexOf(t);e>-1&&E.splice(e,1)},Object.defineProperties(x.prototype,S);var E=[];var _=function(t){this.props={},t.props&&function t(e,n,r){for(var i in e){var o=e[i];o instanceof Function?o=o.bind(n):"handleDOMEvents"==i&&(o=t(o,n,{})),r[i]=o}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:M("plugin")};_.prototype.getState=function(t){return t[this.key]};var C=Object.create(null);function M(t){return t in C?t+"$"+ ++C[t]:(C[t]=0,t+"$")}var A=function(t){void 0===t&&(t="key"),this.key=M(t)};A.prototype.get=function(t){return t.config.pluginsByKey[this.key]},A.prototype.getState=function(t){return t[this.key]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return M})),n.d(e,"i",(function(){return k})),n.d(e,"j",(function(){return C})),n.d(e,"k",(function(){return w}));var r=n(0),i=Math.pow(2,16);function o(t){return 65535&t}var a=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},s=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};s.prototype.recover=function(t){var e=0,n=o(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)},s.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},s.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},s.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,s=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var u=this.ranges[c]-(this.inverted?r:0);if(u>t)break;var l=this.ranges[c+o],f=this.ranges[c+s],d=u+l;if(t<=d){var h=u+r+((l?t==u?-1:t==d?1:e:e)<0?0:f);if(n)return h;var p=t==(e<0?u:d)?null:c/3+(t-u)*i;return new a(h,e<0?t!=u:t!=d,p)}r+=f-l}return n?t+r:new a(t+r)},s.prototype.touches=function(t,e){for(var n=0,r=o(e),i=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>t)break;var u=this.ranges[s+i];if(t<=c+u&&s==3*r)return!0;n+=this.ranges[s+a]-u}return!1},s.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),c=this.ranges[r+e],u=this.ranges[r+n];t(a,a+c,s,s+u),i+=u-c}},s.prototype.invert=function(){return new s(this.ranges,!this.inverted)},s.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},s.offset=function(t){return 0==t?s.empty:new s(t<0?[0,-t,0]:[0,0,t])},s.empty=new s([]);var c=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function u(t){var e=Error.call(this,t);return e.__proto__=u.prototype,e}c.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new c(this.maps,this.mirror,t,e)},c.prototype.copy=function(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},c.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},c.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},c.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},c.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},c.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},c.prototype.invert=function(){var t=new c;return t.appendMappingInverted(this),t},c.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},c.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},c.prototype._map=function(t,e,n){for(var r=!1,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(t,e);if(null!=o.recover){var s=this.getMirror(i);if(null!=s&&s>i&&s<this.to){i=s,t=this.maps[s].recover(o.recover);continue}}o.deleted&&(r=!0),t=o.pos}return n?t:new a(t,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var l=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new c},f={before:{configurable:!0},docChanged:{configurable:!0}};function d(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},l.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new u(e.failed);return this},l.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},f.docChanged.get=function(){return this.steps.length>0},l.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(l.prototype,f);var h=Object.create(null),p=function(){};p.prototype.apply=function(t){return d()},p.prototype.getMap=function(){return s.empty},p.prototype.invert=function(t){return d()},p.prototype.map=function(t){return d()},p.prototype.merge=function(t){return null},p.prototype.toJSON=function(){return d()},p.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},p.jsonID=function(t,e){if(t in h)throw new RangeError("Duplicate use of step JSON ID "+t);return h[t]=e,e.prototype.jsonID=t,e};var m=function(t,e){this.doc=t,this.failed=e};m.ok=function(t){return new m(t,null)},m.fail=function(t){return new m(null,t)},m.fromReplace=function(t,e,n,i){try{return m.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.h)return m.fail(t.message);throw t}};var v=function(t){function e(e,n,r,i){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&y(t,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new s([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?r.j.empty:new r.j(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var i=this.slice.size+t.slice.size==0?r.j.empty:new r.j(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),i,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,r.j.fromJSON(t,n.slice),!!n.structure)},e}(p);p.jsonID("replace",v);var g=function(t){function e(e,n,r,i,o,a,s){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=a,this.structure=!!s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(y(t,this.from,this.gapFrom)||y(t,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?m.fromReplace(t,this.from,this.to,n):m.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return n.deleted&&r.deleted||i<n.pos||o>r.pos?null:new e(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,r.j.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(p);function y(t,e,n){for(var r=t.resolve(e),i=n-e,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var a=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function b(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function w(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!b(r,i,o))break}}function k(t,e,n,r){void 0===r&&(r=t);var i=function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;var a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}(t,e),o=i&&function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:e).contentMatch,c=r;s&&c<i;c++)s=s.matchType(n.child(c).type);if(!s||!s.validEnd)return null;return a}(r,e);return o?i.map(x).concat({type:e,attrs:n}).concat(o.map(x)):null}function x(t){return{type:t,attrs:null}}function S(t,e,n,r){void 0===n&&(n=1);var i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var s=i.depth-1,c=n-2;s>o;s--,c--){var u=i.node(s),l=i.index(s);if(u.type.spec.isolating)return!1;var f=u.content.cutByIndex(l,u.childCount),d=r&&r[c]||u;if(d!=u&&(f=f.replaceChild(0,d.type.create(d.attrs))),!u.canReplace(l+1,u.childCount)||!d.type.validContent(f))return!1}var h=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(h,h,p?p.type:i.node(o+1).type)}function E(t,e){var n=t.resolve(e),r=n.index();return _(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function _(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function C(t,e,n){void 0===n&&(n=-1);for(var r=t.resolve(e),i=r.depth;;i--){var o=void 0,a=void 0,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&_(o,a)&&r.node(i).canReplace(s,s+1))return e;if(0==i)break;e=n<0?r.before(i):r.after(i)}}function M(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(c>0?1:0),l=r.node(s),f=!1;if(1==a)f=l.canReplace(u,u,i);else{var d=l.contentMatchAt(u).findWrapping(i.firstChild.type);f=d&&l.canReplaceWith(u,u,d[0])}if(f)return 0==c?r.pos:c<0?r.before(s+1):r.after(s+1)}return null}function A(t,e,n){for(var i=[],o=0;o<t.childCount;o++){var a=t.child(o);a.content.size&&(a=a.copy(A(a.content,e,a))),a.isInline&&(a=e(a,n,o)),i.push(a)}return r.c.fromArray(i)}p.jsonID("replaceAround",g),l.prototype.lift=function(t,e){for(var n=t.$from,i=t.$to,o=t.depth,a=n.before(o+1),s=i.after(o+1),c=a,u=s,l=r.c.empty,f=0,d=o,h=!1;d>e;d--)h||n.index(d)>0?(h=!0,l=r.c.from(n.node(d).copy(l)),f++):c--;for(var p=r.c.empty,m=0,v=o,y=!1;v>e;v--)y||i.after(v+1)<i.end(v)?(y=!0,p=r.c.from(i.node(v).copy(p)),m++):u++;return this.step(new g(c,u,a,s,new r.j(l.append(p),f,m),l.size-f,!0))},l.prototype.wrap=function(t,e){for(var n=r.c.empty,i=e.length-1;i>=0;i--)n=r.c.from(e[i].type.create(e[i].attrs,n));var o=t.start,a=t.end;return this.step(new g(o,a,o,a,new r.j(n,0,0),e.length,!0))},l.prototype.setBlockType=function(t,e,n,i){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,i)&&function(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(o.doc,o.mapping.slice(a).map(e),n)){o.clearIncompatible(o.mapping.slice(a).map(e,1),n);var s=o.mapping.slice(a),c=s.map(e,1),u=s.map(e+t.nodeSize,1);return o.step(new g(c,u,c+1,u-1,new r.j(r.c.from(n.create(i,null,t.marks)),0,0),1,!0)),!1}})),this},l.prototype.setNodeMarkup=function(t,e,n,i){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var a=e.create(n,null,i||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,a);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new g(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new r.j(r.c.from(a),0,0),1,!0))},l.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var i=this.doc.resolve(t),o=r.c.empty,a=r.c.empty,s=i.depth,c=i.depth-e,u=e-1;s>c;s--,u--){o=r.c.from(i.node(s).copy(o));var l=n&&n[u];a=r.c.from(l?l.type.create(l.attrs,a):i.node(s).copy(a))}return this.step(new v(t,t,new r.j(o.append(a),e,e),!0))},l.prototype.join=function(t,e){void 0===e&&(e=1);var n=new v(t-e,t+e,r.j.empty,!0);return this.step(n)};var T=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=t.resolve(this.from),o=i.node(i.sharedDepth(this.to)),a=new r.j(A(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,a)},e.prototype.invert=function(){return new O(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(p);p.jsonID("addMark",T);var O=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),i=new r.j(A(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return m.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new T(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(p);function D(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}p.jsonID("removeMark",O),l.prototype.addMark=function(t,e,n){var r=this,i=[],o=[],a=null,s=null;return this.doc.nodesBetween(t,e,(function(r,c,u){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var f=Math.max(c,t),d=Math.min(c+r.nodeSize,e),h=n.addToSet(l),p=0;p<l.length;p++)l[p].isInSet(h)||(a&&a.to==f&&a.mark.eq(l[p])?a.to=d:i.push(a=new O(f,d,l[p])));s&&s.to==f?s.to=d:o.push(s=new T(f,d,n))}}})),i.forEach((function(t){return r.step(t)})),o.forEach((function(t){return r.step(t)})),this},l.prototype.removeMark=function(t,e,n){var i=this;void 0===n&&(n=null);var o=[],a=0;return this.doc.nodesBetween(t,e,(function(i,s){if(i.isInline){a++;var c=null;if(n instanceof r.e)for(var u,l=i.marks;u=n.isInSet(l);)(c||(c=[])).push(u),l=u.removeFromSet(l);else n?n.isInSet(i.marks)&&(c=[n]):c=i.marks;if(c&&c.length)for(var f=Math.min(s+i.nodeSize,e),d=0;d<c.length;d++){for(var h=c[d],p=void 0,m=0;m<o.length;m++){var v=o[m];v.step==a-1&&h.eq(o[m].style)&&(p=v)}p?(p.to=f,p.step=a):o.push({style:h,from:Math.max(s,t),to:f,step:a})}}})),o.forEach((function(t){return i.step(new O(t.from,t.to,t.style))})),this},l.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var i=this.doc.nodeAt(t),o=[],a=t+1,s=0;s<i.childCount;s++){var c=i.child(s),u=a+c.nodeSize,l=n.matchType(c.type,c.attrs);if(l){n=l;for(var f=0;f<c.marks.length;f++)e.allowsMarkType(c.marks[f].type)||this.step(new O(a,u,c.marks[f]))}else o.push(new v(a,u,r.j.empty));a=u}if(!n.validEnd){var d=n.fillBefore(r.c.empty,!0);this.replace(a,a,new r.j(d,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},l.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=r.j.empty);var i=function(t,e,n,i){if(void 0===n&&(n=e),void 0===i&&(i=r.j.empty),e==n&&!i.size)return null;var o=t.resolve(e),a=t.resolve(n);return D(o,a,i)?new v(e,n,i):new I(o,a,i).fit()}(this.doc,t,e,n);return i&&this.step(i),this},l.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new r.j(r.c.from(n),0,0))},l.prototype.delete=function(t,e){return this.replace(t,e,r.j.empty)},l.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var I=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=r.c.empty;for(var a=t.depth;a>0;a--)this.placed=r.c.from(t.node(a).copy(this.placed))},N={depth:{configurable:!0}};function P(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(P(t.firstChild.content,e-1,n)))}function L(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(L(t.lastChild.content,e-1,n)))}function R(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function B(t,e,n){if(e<=0)return t;var i=t.content;return e>1&&(i=i.replaceChild(0,B(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.c.empty,!0)))),t.copy(i)}function j(t,e,n,r,i){var o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=r.fillBefore(o.content,!0,a);return s&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function U(t,e,n,i,o){if(e<n){var a=t.firstChild;t=t.replaceChild(0,a.copy(U(a.content,e+1,n,i,a)))}if(e>i){var s=o.contentMatchAt(0),c=s.fillBefore(t).append(t);t=c.append(s.matchFragment(c).fillBefore(r.c.empty,!0))}return t}function z(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}N.depth.get=function(){return this.frontier.length-1},I.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(e<0?this.$to:i.doc.resolve(e));if(!o)return null;for(var a=this.placed,s=i.depth,c=o.depth;s&&c&&1==a.childCount;)a=a.firstChild.content,s--,c--;var u=new r.j(a,s,c);return e>-1?new g(i.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||i.pos!=this.$to.pos?new v(i.pos,o.pos,u):void 0},I.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,i=(e?(n=R(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var a=this.frontier[o],s=a.type,c=a.match,u=void 0,l=void 0;if(1==t&&(i?c.matchType(i.type)||(l=c.fillBefore(r.c.from(i),!1)):s.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:l};if(2==t&&i&&(u=c.findWrapping(i.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&c.matchType(n.type))break}},I.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=R(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r.j(e,n+1,Math.max(i,o.size+n>=e.size-i?n+1:0)),!0)},I.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,i=t.openEnd,o=R(e,n);if(o.childCount<=1&&n>0){var a=e.size-n<=n+o.size;this.unplaced=new r.j(P(e,n-1,1),n-1,a?n-1:i)}else this.unplaced=new r.j(P(e,n,1),n,i)},I.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,i=t.parent,o=t.inject,a=t.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var c=this.unplaced,u=i?i.content:c.content,l=c.openStart-e,f=0,d=[],h=this.frontier[n],p=h.match,m=h.type;if(o){for(var v=0;v<o.childCount;v++)d.push(o.child(v));p=p.matchFragment(o)}for(var g=u.size+e-(c.content.size-c.openEnd);f<u.childCount;){var y=u.child(f),b=p.matchType(y.type);if(!b)break;(++f>1||0==l||y.content.size)&&(p=b,d.push(B(y.mark(m.allowedMarks(y.marks)),1==f?l:0,f==u.childCount?g:-1)))}var w=f==u.childCount;w||(g=-1),this.placed=L(this.placed,n,r.c.from(d)),this.frontier[n].match=p,w&&g<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,x=u;k<g;k++){var S=x.lastChild;this.frontier.push({type:S.type,match:S.contentMatchAt(S.childCount)}),x=S.content}this.unplaced=w?0==e?r.j.empty:new r.j(P(c.content,e-1,1),e-1,g<0?c.openEnd:e-1):new r.j(P(c.content,e,f),c.openStart,c.openEnd)},I.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!j(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},I.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=j(t,e,i,r,o);if(a){for(var s=e-1;s>=0;s--){var c=this.frontier[s],u=c.match,l=j(t,s,c.type,u,!0);if(!l||l.childCount)continue t}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}},I.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=L(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t},I.prototype.openFrontierNode=function(t,e,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=L(this.placed,this.depth,r.c.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},I.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(r.c.empty,!0);t.childCount&&(this.placed=L(this.placed,this.frontier.length,t))},Object.defineProperties(I.prototype,N),l.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var i=this.doc.resolve(t),o=this.doc.resolve(e);if(D(i,o,n))return this.step(new v(t,e,n));var a=z(i,this.doc.resolve(e));0==a[a.length-1]&&a.pop();var s=-(i.depth+1);a.unshift(s);for(var c=i.depth,u=i.pos-1;c>0;c--,u--){var l=i.node(c).type.spec;if(l.defining||l.isolating)break;a.indexOf(c)>-1?s=c:i.before(c)==u&&a.splice(1,0,-c)}for(var f=a.indexOf(s),d=[],h=n.openStart,p=n.content,m=0;;m++){var g=p.firstChild;if(d.push(g),m==n.openStart)break;p=g.content}h>0&&d[h-1].type.spec.defining&&i.node(f).type!=d[h-1].type?h-=1:h>=2&&d[h-1].isTextblock&&d[h-2].type.spec.defining&&i.node(f).type!=d[h-2].type&&(h-=2);for(var y=n.openStart;y>=0;y--){var b=(y+h+1)%(n.openStart+1),w=d[b];if(w)for(var k=0;k<a.length;k++){var x=a[(k+f)%a.length],S=!0;x<0&&(S=!1,x=-x);var E=i.node(x-1),_=i.index(x-1);if(E.canReplaceWith(_,_,w.type,w.marks))return this.replace(i.before(x),S?o.after(x):e,new r.j(U(n.content,0,n.openStart,b),b,n.openEnd))}}for(var C=this.steps.length,M=a.length-1;M>=0&&(this.replace(t,e,n),!(this.steps.length>C));M--){var A=a[M];A<0||(t=i.before(A),e=o.after(A))}return this},l.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var i=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}(this.doc,t,n.type);null!=i&&(t=e=i)}return this.replaceRange(t,e,new r.j(r.c.from(n),0,0))},l.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),i=z(n,r),o=0;o<i.length;o++){var a=i[o],s=o==i.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){var r=n(6),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=a),o(i,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]});e.__esModule=!0,e.defaultHandshakeAttemptsInterval=e.defaultHandshakeMaxAttempts=e.monitorWindowError=e.errorWindowClosed=e.dispatchedErrorEvent=e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createIframe=e.createFullScreenIframe=e.PermWrite=e.PermRead=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.permTypeToString=e.permCategoryToString=e.PermType=e.PermCategory=e.Permission=e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var i=n(236);r(e,i,"getPathDomain"),r(e,i,"getParentPath"),r(e,i,"sanitizePath");var o=n(237);r(e,o,"Permission"),r(e,o,"PermCategory"),r(e,o,"PermType"),r(e,o,"permCategoryToString"),r(e,o,"permTypeToString"),r(e,o,"PermDiscoverable"),r(e,o,"PermHidden"),r(e,o,"PermLegacySkyID"),r(e,o,"PermRead"),r(e,o,"PermWrite");var a=n(112);r(e,a,"createFullScreenIframe"),r(e,a,"createIframe"),r(e,a,"ensureUrl"),r(e,a,"removeAdjacentChars"),r(e,a,"trimSuffix");var s=n(238);r(e,s,"dispatchedErrorEvent"),r(e,s,"errorWindowClosed"),r(e,s,"monitorWindowError"),e.defaultHandshakeMaxAttempts=150,e.defaultHandshakeAttemptsInterval=100},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(23),i=n(150),o=n(151);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=d(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(c.isBuffer(e)){var n=0|h(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):d(t,e);if("Buffer"===e.type&&o(e.data))return d(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function f(t,e){if(l(e),t=s(t,e<0?0:0|h(e)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function d(t,e){var n=e.length<0?0:0|h(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return A(this,e,n);case"base64":return _(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,a=1,s=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+c>s&&(n=s-c),o=n;o>=0;o--){for(var f=!0,d=0;d<c;d++)if(u(t,o+d)!==u(e,d)){f=!1;break}if(f)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return F(z(e,t.length-n),t,n,r)}function k(t,e,n,r){return F(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return k(t,e,n,r)}function S(t,e,n,r){return F(H(e),t,n,r)}function E(t,e,n,r){return F(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function _(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,c,u=t[i],l=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(c=(15&u)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,n){return u(null,t,e,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},c.allocUnsafe=function(t){return f(null,t)},c.allocUnsafeSlow=function(t){return f(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},c.byteLength=p,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):m.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,n,r,i){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),l=t.slice(e,n),f=0;f<s;++f)if(u[f]!==l[f]){o=u[f],a=l[f];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return k(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function A(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function O(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function I(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function P(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function L(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return o||L(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||L(t,0,n,8),i.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=c.prototype;else{var i=e-t;n=new c(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},c.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||D(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),i.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),i.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||I(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);I(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||I(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:z(new c(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(15))},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]});e.__esModule=!0,e.defaultHandshakeAttemptsInterval=e.defaultHandshakeMaxAttempts=e.monitorWindowError=e.errorWindowClosed=e.dispatchedErrorEvent=e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createIframe=e.createFullScreenIframe=e.PermWrite=e.PermRead=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.permTypeToString=e.permCategoryToString=e.PermType=e.PermCategory=e.Permission=e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var i=n(258);r(e,i,"getPathDomain"),r(e,i,"getParentPath"),r(e,i,"sanitizePath");var o=n(259);r(e,o,"Permission"),r(e,o,"PermCategory"),r(e,o,"PermType"),r(e,o,"permCategoryToString"),r(e,o,"permTypeToString"),r(e,o,"PermDiscoverable"),r(e,o,"PermHidden"),r(e,o,"PermLegacySkyID"),r(e,o,"PermRead"),r(e,o,"PermWrite");var a=n(121);r(e,a,"createFullScreenIframe"),r(e,a,"createIframe"),r(e,a,"ensureUrl"),r(e,a,"removeAdjacentChars"),r(e,a,"trimSuffix");var s=n(260);r(e,s,"dispatchedErrorEvent"),r(e,s,"errorWindowClosed"),r(e,s,"monitorWindowError"),e.defaultHandshakeMaxAttempts=150,e.defaultHandshakeAttemptsInterval=100},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a=n(189).Buffer}catch(t){}function s(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function c(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=s(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=s(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(t,l,l+r,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var f=1;for(u=c(t,l,t.length,e),l=0;l<a;l++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,c=a/67108864|0;n.words[0]=s;for(var u=1;u<r;u++){for(var l=c>>>26,f=67108863&c,d=Math.min(u,e.length-1),h=Math.max(0,u-t.length+1);h<=d;h++){var p=u-h|0;l+=(a=(i=0|t.words[p])*(o=0|e.words[h])+f)/67108864|0,f=67108863&a}n.words[u]=0|f,c=0|l}return 0!==c?n.words[u]=0|c:n.length--,n.strip()}o.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],c=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var d=l[t],h=f[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var m=p.modn(h).toString(t);n=(p=p.idivn(h)).isZero()?m+n:u[d-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r(void 0!==a),this.toArrayLike(a,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,c="le"===e,u=new t(o),l=this.clone();if(c){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[s]=a;for(;s<o;s++)u[s]=0}else{for(s=0;s<o-i;s++)u[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),u[o-s-1]=a}return u},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0==(8191&e)&&(n+=13,e>>>=13),0==(127&e)&&(n+=7,e>>>=7),0==(15&e)&&(n+=4,e>>>=4),0==(3&e)&&(n+=2,e>>>=2),0==(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e,n,r;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,r,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=t):(n=t,r=this);for(var o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var h=function(t,e,n){var r,i,o,a=t.words,s=e.words,c=n.words,u=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,m=h>>>13,v=0|a[2],g=8191&v,y=v>>>13,b=0|a[3],w=8191&b,k=b>>>13,x=0|a[4],S=8191&x,E=x>>>13,_=0|a[5],C=8191&_,M=_>>>13,A=0|a[6],T=8191&A,O=A>>>13,D=0|a[7],I=8191&D,N=D>>>13,P=0|a[8],L=8191&P,R=P>>>13,B=0|a[9],j=8191&B,U=B>>>13,z=0|s[0],H=8191&z,F=z>>>13,q=0|s[1],V=8191&q,$=q>>>13,K=0|s[2],W=8191&K,J=K>>>13,G=0|s[3],Y=8191&G,X=G>>>13,Z=0|s[4],Q=8191&Z,tt=Z>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ct=8191&st,ut=st>>>13,lt=0|s[8],ft=8191&lt,dt=lt>>>13,ht=0|s[9],pt=8191&ht,mt=ht>>>13;n.negative=t.negative^e.negative,n.length=19;var vt=(u+(r=Math.imul(f,H))|0)+((8191&(i=(i=Math.imul(f,F))+Math.imul(d,H)|0))<<13)|0;u=((o=Math.imul(d,F))+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(p,H),i=(i=Math.imul(p,F))+Math.imul(m,H)|0,o=Math.imul(m,F);var gt=(u+(r=r+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(d,V)|0))<<13)|0;u=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(g,H),i=(i=Math.imul(g,F))+Math.imul(y,H)|0,o=Math.imul(y,F),r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,$)|0;var yt=(u+(r=r+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(d,W)|0))<<13)|0;u=((o=o+Math.imul(d,J)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,r=Math.imul(w,H),i=(i=Math.imul(w,F))+Math.imul(k,H)|0,o=Math.imul(k,F),r=r+Math.imul(g,V)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,V)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,W)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,J)|0;var bt=(u+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(d,Y)|0))<<13)|0;u=((o=o+Math.imul(d,X)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,H),i=(i=Math.imul(S,F))+Math.imul(E,H)|0,o=Math.imul(E,F),r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(k,V)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(g,W)|0,i=(i=i+Math.imul(g,J)|0)+Math.imul(y,W)|0,o=o+Math.imul(y,J)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,X)|0;var wt=(u+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(d,Q)|0))<<13)|0;u=((o=o+Math.imul(d,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(C,H),i=(i=Math.imul(C,F))+Math.imul(M,H)|0,o=Math.imul(M,F),r=r+Math.imul(S,V)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(E,V)|0,o=o+Math.imul(E,$)|0,r=r+Math.imul(w,W)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(k,W)|0,o=o+Math.imul(k,J)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,X)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var kt=(u+(r=r+Math.imul(f,nt)|0)|0)+((8191&(i=(i=i+Math.imul(f,rt)|0)+Math.imul(d,nt)|0))<<13)|0;u=((o=o+Math.imul(d,rt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(T,H),i=(i=Math.imul(T,F))+Math.imul(O,H)|0,o=Math.imul(O,F),r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(M,V)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(S,W)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(E,W)|0,o=o+Math.imul(E,J)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(p,nt)|0,i=(i=i+Math.imul(p,rt)|0)+Math.imul(m,nt)|0,o=o+Math.imul(m,rt)|0;var xt=(u+(r=r+Math.imul(f,ot)|0)|0)+((8191&(i=(i=i+Math.imul(f,at)|0)+Math.imul(d,ot)|0))<<13)|0;u=((o=o+Math.imul(d,at)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(I,H),i=(i=Math.imul(I,F))+Math.imul(N,H)|0,o=Math.imul(N,F),r=r+Math.imul(T,V)|0,i=(i=i+Math.imul(T,$)|0)+Math.imul(O,V)|0,o=o+Math.imul(O,$)|0,r=r+Math.imul(C,W)|0,i=(i=i+Math.imul(C,J)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,J)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,X)|0)+Math.imul(E,Y)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,tt)|0,r=r+Math.imul(g,nt)|0,i=(i=i+Math.imul(g,rt)|0)+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var St=(u+(r=r+Math.imul(f,ct)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(d,ct)|0))<<13)|0;u=((o=o+Math.imul(d,ut)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(L,H),i=(i=Math.imul(L,F))+Math.imul(R,H)|0,o=Math.imul(R,F),r=r+Math.imul(I,V)|0,i=(i=i+Math.imul(I,$)|0)+Math.imul(N,V)|0,o=o+Math.imul(N,$)|0,r=r+Math.imul(T,W)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(O,W)|0,o=o+Math.imul(O,J)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,tt)|0)+Math.imul(E,Q)|0,o=o+Math.imul(E,tt)|0,r=r+Math.imul(w,nt)|0,i=(i=i+Math.imul(w,rt)|0)+Math.imul(k,nt)|0,o=o+Math.imul(k,rt)|0,r=r+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(p,ct)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(m,ct)|0,o=o+Math.imul(m,ut)|0;var Et=(u+(r=r+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,dt)|0)+Math.imul(d,ft)|0))<<13)|0;u=((o=o+Math.imul(d,dt)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(j,H),i=(i=Math.imul(j,F))+Math.imul(U,H)|0,o=Math.imul(U,F),r=r+Math.imul(L,V)|0,i=(i=i+Math.imul(L,$)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(I,W)|0,i=(i=i+Math.imul(I,J)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,J)|0,r=r+Math.imul(T,Y)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(O,Y)|0,o=o+Math.imul(O,X)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,r=r+Math.imul(S,nt)|0,i=(i=i+Math.imul(S,rt)|0)+Math.imul(E,nt)|0,o=o+Math.imul(E,rt)|0,r=r+Math.imul(w,ot)|0,i=(i=i+Math.imul(w,at)|0)+Math.imul(k,ot)|0,o=o+Math.imul(k,at)|0,r=r+Math.imul(g,ct)|0,i=(i=i+Math.imul(g,ut)|0)+Math.imul(y,ct)|0,o=o+Math.imul(y,ut)|0,r=r+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,dt)|0)+Math.imul(m,ft)|0,o=o+Math.imul(m,dt)|0;var _t=(u+(r=r+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,mt)|0)+Math.imul(d,pt)|0))<<13)|0;u=((o=o+Math.imul(d,mt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(j,V),i=(i=Math.imul(j,$))+Math.imul(U,V)|0,o=Math.imul(U,$),r=r+Math.imul(L,W)|0,i=(i=i+Math.imul(L,J)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,J)|0,r=r+Math.imul(I,Y)|0,i=(i=i+Math.imul(I,X)|0)+Math.imul(N,Y)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(O,Q)|0,o=o+Math.imul(O,tt)|0,r=r+Math.imul(C,nt)|0,i=(i=i+Math.imul(C,rt)|0)+Math.imul(M,nt)|0,o=o+Math.imul(M,rt)|0,r=r+Math.imul(S,ot)|0,i=(i=i+Math.imul(S,at)|0)+Math.imul(E,ot)|0,o=o+Math.imul(E,at)|0,r=r+Math.imul(w,ct)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(k,ct)|0,o=o+Math.imul(k,ut)|0,r=r+Math.imul(g,ft)|0,i=(i=i+Math.imul(g,dt)|0)+Math.imul(y,ft)|0,o=o+Math.imul(y,dt)|0;var Ct=(u+(r=r+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;u=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(j,W),i=(i=Math.imul(j,J))+Math.imul(U,W)|0,o=Math.imul(U,J),r=r+Math.imul(L,Y)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,X)|0,r=r+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,r=r+Math.imul(T,nt)|0,i=(i=i+Math.imul(T,rt)|0)+Math.imul(O,nt)|0,o=o+Math.imul(O,rt)|0,r=r+Math.imul(C,ot)|0,i=(i=i+Math.imul(C,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,r=r+Math.imul(S,ct)|0,i=(i=i+Math.imul(S,ut)|0)+Math.imul(E,ct)|0,o=o+Math.imul(E,ut)|0,r=r+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,dt)|0)+Math.imul(k,ft)|0,o=o+Math.imul(k,dt)|0;var Mt=(u+(r=r+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(y,pt)|0))<<13)|0;u=((o=o+Math.imul(y,mt)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,r=Math.imul(j,Y),i=(i=Math.imul(j,X))+Math.imul(U,Y)|0,o=Math.imul(U,X),r=r+Math.imul(L,Q)|0,i=(i=i+Math.imul(L,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(I,nt)|0,i=(i=i+Math.imul(I,rt)|0)+Math.imul(N,nt)|0,o=o+Math.imul(N,rt)|0,r=r+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(O,ot)|0,o=o+Math.imul(O,at)|0,r=r+Math.imul(C,ct)|0,i=(i=i+Math.imul(C,ut)|0)+Math.imul(M,ct)|0,o=o+Math.imul(M,ut)|0,r=r+Math.imul(S,ft)|0,i=(i=i+Math.imul(S,dt)|0)+Math.imul(E,ft)|0,o=o+Math.imul(E,dt)|0;var At=(u+(r=r+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,mt)|0)+Math.imul(k,pt)|0))<<13)|0;u=((o=o+Math.imul(k,mt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(j,Q),i=(i=Math.imul(j,tt))+Math.imul(U,Q)|0,o=Math.imul(U,tt),r=r+Math.imul(L,nt)|0,i=(i=i+Math.imul(L,rt)|0)+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(I,ot)|0,i=(i=i+Math.imul(I,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,r=r+Math.imul(T,ct)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(O,ct)|0,o=o+Math.imul(O,ut)|0,r=r+Math.imul(C,ft)|0,i=(i=i+Math.imul(C,dt)|0)+Math.imul(M,ft)|0,o=o+Math.imul(M,dt)|0;var Tt=(u+(r=r+Math.imul(S,pt)|0)|0)+((8191&(i=(i=i+Math.imul(S,mt)|0)+Math.imul(E,pt)|0))<<13)|0;u=((o=o+Math.imul(E,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(j,nt),i=(i=Math.imul(j,rt))+Math.imul(U,nt)|0,o=Math.imul(U,rt),r=r+Math.imul(L,ot)|0,i=(i=i+Math.imul(L,at)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,at)|0,r=r+Math.imul(I,ct)|0,i=(i=i+Math.imul(I,ut)|0)+Math.imul(N,ct)|0,o=o+Math.imul(N,ut)|0,r=r+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,dt)|0)+Math.imul(O,ft)|0,o=o+Math.imul(O,dt)|0;var Ot=(u+(r=r+Math.imul(C,pt)|0)|0)+((8191&(i=(i=i+Math.imul(C,mt)|0)+Math.imul(M,pt)|0))<<13)|0;u=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(j,ot),i=(i=Math.imul(j,at))+Math.imul(U,ot)|0,o=Math.imul(U,at),r=r+Math.imul(L,ct)|0,i=(i=i+Math.imul(L,ut)|0)+Math.imul(R,ct)|0,o=o+Math.imul(R,ut)|0,r=r+Math.imul(I,ft)|0,i=(i=i+Math.imul(I,dt)|0)+Math.imul(N,ft)|0,o=o+Math.imul(N,dt)|0;var Dt=(u+(r=r+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((o=o+Math.imul(O,mt)|0)+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,r=Math.imul(j,ct),i=(i=Math.imul(j,ut))+Math.imul(U,ct)|0,o=Math.imul(U,ut),r=r+Math.imul(L,ft)|0,i=(i=i+Math.imul(L,dt)|0)+Math.imul(R,ft)|0,o=o+Math.imul(R,dt)|0;var It=(u+(r=r+Math.imul(I,pt)|0)|0)+((8191&(i=(i=i+Math.imul(I,mt)|0)+Math.imul(N,pt)|0))<<13)|0;u=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(j,ft),i=(i=Math.imul(j,dt))+Math.imul(U,ft)|0,o=Math.imul(U,dt);var Nt=(u+(r=r+Math.imul(L,pt)|0)|0)+((8191&(i=(i=i+Math.imul(L,mt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Pt=(u+(r=Math.imul(j,pt))|0)+((8191&(i=(i=Math.imul(j,mt))+Math.imul(U,pt)|0))<<13)|0;return u=((o=Math.imul(U,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,c[0]=vt,c[1]=gt,c[2]=yt,c[3]=bt,c[4]=wt,c[5]=kt,c[6]=xt,c[7]=St,c[8]=Et,c[9]=_t,c[10]=Ct,c[11]=Mt,c[12]=At,c[13]=Tt,c[14]=Ot,c[15]=Dt,c[16]=It,c[17]=Nt,c[18]=Pt,0!==u&&(c[19]=u,n.length++),n};function p(t,e,n){return(new m).mulp(t,e,n)}function m(t,e){this.x=t,this.y=e}Math.imul||(h=d),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?h(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++){var l=o-u,f=(0|t.words[l])*(0|e.words[u]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,t,e):p(this,t,e)},m.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},m.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},m.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},m.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,c=Math.cos(2*Math.PI/s),u=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=c,d=u,h=0;h<a;h++){var p=n[l+h],m=r[l+h],v=n[l+h+a],g=r[l+h+a],y=f*v-d*g;g=f*g+d*v,v=y,n[l+h]=p+v,r[l+h]=m+g,n[l+h+a]=p-v,r[l+h+a]=m-g,h!==s&&(y=c*f-u*d,d=c*d+u*f,f=y)}},m.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},m.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0==(-8192&o))},m.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},m.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),c=new Array(r),u=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,u,r),this.transform(a,o,s,c,r,i),this.transform(u,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-c[h]*f[h];c[h]=s[h]*f[h]+c[h]*l[h],s[h]=p}return this.conjugate(s,c,r),this.transform(s,c,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),p(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"==typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,c=(0|this.words[e])-s<<n;this.words[e]=c|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,c=n;if(i-=a,i=Math.max(0,i),c){for(var u=0;u<a;u++)c.words[u]=this.words[u];c.length=a}if(0===a);else if(this.length>a)for(this.length-=a,u=0;u<this.length;u++)this.words[u]=this.words[u+a];else this.words[0]=0,this.length=1;var l=0;for(u=this.length-1;u>=0&&(0!==l||u>=i);u--){var f=0|this.words[u];this.words[u]=l<<26-o|f>>>o,l=f&s}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o,a=t.length+n;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+s;var c=(0|t.words[i])*e;s=((o-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=(this.length,t.length),r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,c=r.length-i.length;if("mod"!==e){(s=new o(null)).length=c+1,s.words=new Array(s.length);for(var u=0;u<s.length;u++)s.words[u]=0}var l=r.clone()._ishlnsubmul(i,1,c);0===l.negative&&(r=l,s&&(s.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),c=new o(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var l=n.clone(),f=e.clone();!e.isZero();){for(var d=0,h=1;0==(e.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||c.isOdd())&&(s.iadd(l),c.isub(f)),s.iushrn(1),c.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(c)):(n.isub(e),s.isub(i),c.isub(a))}return{a:s,b:c,gcd:n.iushln(u)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),c=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,l=1;0==(e.words[0]&l)&&u<26;++u,l<<=1);if(u>0)for(e.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(c),a.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);e.cmp(n)>=0?(e.isub(n),a.isub(s)):(n.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new x(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function g(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function k(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},g.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},g.prototype.split=function(t,e){t.iushrn(this.n,0,e)},g.prototype.imulK=function(t){return t.imul(this.k)},i(y,g),y.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(b,g),i(w,g),i(k,g),k.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new b;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new k}return v[t]=e,e},x.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){r(0==(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},x.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),c=s.redNeg(),u=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,u).cmp(c);)l.redIAdd(c);for(var f=this.pow(l,i),d=this.pow(t,i.addn(1).iushrn(1)),h=this.pow(t,i),p=a;0!==h.cmp(s);){for(var m=h,v=0;0!==m.cmp(s);v++)m=m.redSqr();r(v<p);var g=this.pow(f,new o(1).iushln(p-v-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=v}return d},x.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},x.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,c=e.bitLength()%26;for(0===c&&(c=26),r=e.length-1;r>=0;r--){for(var u=e.words[r],l=c-1;l>=0;l--){var f=u>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}c=26}return i},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new S(t)},i(S,x),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,n(188)(t))},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=e(),s=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function m(t,e,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^n[r+o];return(1&a-1>>>8)-1}function v(t,e,n,r){return m(t,e,n,r,16)}function g(t,e,n,r){return m(t,e,n,r,32)}function y(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=o,x=a,S=s,E=c,_=u,C=l,M=f,A=d,T=h,O=p,D=m,I=v,N=g,P=y,L=b,R=w,B=0;B<20;B+=2)k^=(i=(N^=(i=(T^=(i=(_^=(i=k+N|0)<<7|i>>>25)+k|0)<<9|i>>>23)+_|0)<<13|i>>>19)+T|0)<<18|i>>>14,C^=(i=(x^=(i=(P^=(i=(O^=(i=C+x|0)<<7|i>>>25)+C|0)<<9|i>>>23)+O|0)<<13|i>>>19)+P|0)<<18|i>>>14,D^=(i=(M^=(i=(S^=(i=(L^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,R^=(i=(I^=(i=(A^=(i=(E^=(i=R+I|0)<<7|i>>>25)+R|0)<<9|i>>>23)+E|0)<<13|i>>>19)+A|0)<<18|i>>>14,k^=(i=(E^=(i=(S^=(i=(x^=(i=k+E|0)<<7|i>>>25)+k|0)<<9|i>>>23)+x|0)<<13|i>>>19)+S|0)<<18|i>>>14,C^=(i=(_^=(i=(A^=(i=(M^=(i=C+_|0)<<7|i>>>25)+C|0)<<9|i>>>23)+M|0)<<13|i>>>19)+A|0)<<18|i>>>14,D^=(i=(O^=(i=(T^=(i=(I^=(i=D+O|0)<<7|i>>>25)+D|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,R^=(i=(L^=(i=(P^=(i=(N^=(i=R+L|0)<<7|i>>>25)+R|0)<<9|i>>>23)+N|0)<<13|i>>>19)+P|0)<<18|i>>>14;k=k+o|0,x=x+a|0,S=S+s|0,E=E+c|0,_=_+u|0,C=C+l|0,M=M+f|0,A=A+d|0,T=T+h|0,O=O+p|0,D=D+m|0,I=I+v|0,N=N+g|0,P=P+y|0,L=L+b|0,R=R+w|0,t[0]=k>>>0&255,t[1]=k>>>8&255,t[2]=k>>>16&255,t[3]=k>>>24&255,t[4]=x>>>0&255,t[5]=x>>>8&255,t[6]=x>>>16&255,t[7]=x>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=_>>>0&255,t[17]=_>>>8&255,t[18]=_>>>16&255,t[19]=_>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=M>>>0&255,t[25]=M>>>8&255,t[26]=M>>>16&255,t[27]=M>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255,t[32]=T>>>0&255,t[33]=T>>>8&255,t[34]=T>>>16&255,t[35]=T>>>24&255,t[36]=O>>>0&255,t[37]=O>>>8&255,t[38]=O>>>16&255,t[39]=O>>>24&255,t[40]=D>>>0&255,t[41]=D>>>8&255,t[42]=D>>>16&255,t[43]=D>>>24&255,t[44]=I>>>0&255,t[45]=I>>>8&255,t[46]=I>>>16&255,t[47]=I>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=P>>>0&255,t[53]=P>>>8&255,t[54]=P>>>16&255,t[55]=P>>>24&255,t[56]=L>>>0&255,t[57]=L>>>8&255,t[58]=L>>>16&255,t[59]=L>>>24&255,t[60]=R>>>0&255,t[61]=R>>>8&255,t[62]=R>>>16&255,t[63]=R>>>24&255}(t,e,n,r)}function b(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=0;k<20;k+=2)o^=(i=(g^=(i=(h^=(i=(u^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(f^=(i=(s^=(i=(b^=(i=m+f|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(v^=(i=(d^=(i=(c^=(i=w+v|0)<<7|i>>>25)+w|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,m^=(i=(p^=(i=(h^=(i=(v^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(b^=(i=(y^=(i=(g^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+g|0)<<13|i>>>19)+y|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=d>>>0&255,t[21]=d>>>8&255,t[22]=d>>>16&255,t[23]=d>>>24&255,t[24]=h>>>0&255,t[25]=h>>>8&255,t[26]=h>>>16&255,t[27]=h>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(t,e,n,r,i,o,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(y(l,u,a,w),c=0;c<64;c++)t[e+c]=n[r+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,e+=64,r+=64}if(i>0)for(y(l,u,a,w),c=0;c<i;c++)t[e+c]=n[r+c]^l[c];return 0}function x(t,e,n,r,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(y(c,s,i,w),a=0;a<64;a++)t[e+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(y(c,s,i,w),a=0;a<n;a++)t[e+a]=c[a];return 0}function S(t,e,n,r,i){var o=new Uint8Array(32);b(o,r,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return x(t,e,n,a,o)}function E(t,e,n,r,i,o,a){var s=new Uint8Array(32);b(s,o,a,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return k(t,e,n,r,i,c,s)}var _=function(t){var e,n,r,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,n,r,i,o){var a=new _(o);return a.update(n,r,i),a.finish(t,e),0}function M(t,e,n,r,i,o){var a=new Uint8Array(16);return C(a,0,n,r,i,o),v(t,e,a,0)}function A(t,e,n,r,i){var o;if(n<32)return-1;for(E(t,0,e,0,n,r,i),C(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function T(t,e,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(S(a,0,32,r,i),0!==M(e,16,e,32,n-32,a))return-1;for(E(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function O(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function D(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function I(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function N(t,n){var r,i,o,a=e(),s=e();for(r=0;r<16;r++)s[r]=n[r];for(D(s),D(s),D(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,I(s,a,1-o)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function P(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return N(n,t),N(r,e),g(n,0,r,0)}function L(t){var e=new Uint8Array(32);return N(e,t),1&e[0]}function R(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function B(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function j(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function U(t,e,n){var r,i,o=0,a=0,s=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,k=0,x=0,S=0,E=0,_=0,C=0,M=0,A=0,T=0,O=0,D=0,I=0,N=0,P=0,L=0,R=n[0],B=n[1],j=n[2],U=n[3],z=n[4],H=n[5],F=n[6],q=n[7],V=n[8],$=n[9],K=n[10],W=n[11],J=n[12],G=n[13],Y=n[14],X=n[15];o+=(r=e[0])*R,a+=r*B,s+=r*j,c+=r*U,u+=r*z,l+=r*H,f+=r*F,d+=r*q,h+=r*V,p+=r*$,m+=r*K,v+=r*W,g+=r*J,y+=r*G,b+=r*Y,w+=r*X,a+=(r=e[1])*R,s+=r*B,c+=r*j,u+=r*U,l+=r*z,f+=r*H,d+=r*F,h+=r*q,p+=r*V,m+=r*$,v+=r*K,g+=r*W,y+=r*J,b+=r*G,w+=r*Y,k+=r*X,s+=(r=e[2])*R,c+=r*B,u+=r*j,l+=r*U,f+=r*z,d+=r*H,h+=r*F,p+=r*q,m+=r*V,v+=r*$,g+=r*K,y+=r*W,b+=r*J,w+=r*G,k+=r*Y,x+=r*X,c+=(r=e[3])*R,u+=r*B,l+=r*j,f+=r*U,d+=r*z,h+=r*H,p+=r*F,m+=r*q,v+=r*V,g+=r*$,y+=r*K,b+=r*W,w+=r*J,k+=r*G,x+=r*Y,S+=r*X,u+=(r=e[4])*R,l+=r*B,f+=r*j,d+=r*U,h+=r*z,p+=r*H,m+=r*F,v+=r*q,g+=r*V,y+=r*$,b+=r*K,w+=r*W,k+=r*J,x+=r*G,S+=r*Y,E+=r*X,l+=(r=e[5])*R,f+=r*B,d+=r*j,h+=r*U,p+=r*z,m+=r*H,v+=r*F,g+=r*q,y+=r*V,b+=r*$,w+=r*K,k+=r*W,x+=r*J,S+=r*G,E+=r*Y,_+=r*X,f+=(r=e[6])*R,d+=r*B,h+=r*j,p+=r*U,m+=r*z,v+=r*H,g+=r*F,y+=r*q,b+=r*V,w+=r*$,k+=r*K,x+=r*W,S+=r*J,E+=r*G,_+=r*Y,C+=r*X,d+=(r=e[7])*R,h+=r*B,p+=r*j,m+=r*U,v+=r*z,g+=r*H,y+=r*F,b+=r*q,w+=r*V,k+=r*$,x+=r*K,S+=r*W,E+=r*J,_+=r*G,C+=r*Y,M+=r*X,h+=(r=e[8])*R,p+=r*B,m+=r*j,v+=r*U,g+=r*z,y+=r*H,b+=r*F,w+=r*q,k+=r*V,x+=r*$,S+=r*K,E+=r*W,_+=r*J,C+=r*G,M+=r*Y,A+=r*X,p+=(r=e[9])*R,m+=r*B,v+=r*j,g+=r*U,y+=r*z,b+=r*H,w+=r*F,k+=r*q,x+=r*V,S+=r*$,E+=r*K,_+=r*W,C+=r*J,M+=r*G,A+=r*Y,T+=r*X,m+=(r=e[10])*R,v+=r*B,g+=r*j,y+=r*U,b+=r*z,w+=r*H,k+=r*F,x+=r*q,S+=r*V,E+=r*$,_+=r*K,C+=r*W,M+=r*J,A+=r*G,T+=r*Y,O+=r*X,v+=(r=e[11])*R,g+=r*B,y+=r*j,b+=r*U,w+=r*z,k+=r*H,x+=r*F,S+=r*q,E+=r*V,_+=r*$,C+=r*K,M+=r*W,A+=r*J,T+=r*G,O+=r*Y,D+=r*X,g+=(r=e[12])*R,y+=r*B,b+=r*j,w+=r*U,k+=r*z,x+=r*H,S+=r*F,E+=r*q,_+=r*V,C+=r*$,M+=r*K,A+=r*W,T+=r*J,O+=r*G,D+=r*Y,I+=r*X,y+=(r=e[13])*R,b+=r*B,w+=r*j,k+=r*U,x+=r*z,S+=r*H,E+=r*F,_+=r*q,C+=r*V,M+=r*$,A+=r*K,T+=r*W,O+=r*J,D+=r*G,I+=r*Y,N+=r*X,b+=(r=e[14])*R,w+=r*B,k+=r*j,x+=r*U,S+=r*z,E+=r*H,_+=r*F,C+=r*q,M+=r*V,A+=r*$,T+=r*K,O+=r*W,D+=r*J,I+=r*G,N+=r*Y,P+=r*X,w+=(r=e[15])*R,a+=38*(x+=r*j),s+=38*(S+=r*U),c+=38*(E+=r*z),u+=38*(_+=r*H),l+=38*(C+=r*F),f+=38*(M+=r*q),d+=38*(A+=r*V),h+=38*(T+=r*$),p+=38*(O+=r*K),m+=38*(D+=r*W),v+=38*(I+=r*J),g+=38*(N+=r*G),y+=38*(P+=r*Y),b+=38*(L+=r*X),o=(r=(o+=38*(k+=r*B))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=c,t[4]=u,t[5]=l,t[6]=f,t[7]=d,t[8]=h,t[9]=p,t[10]=m,t[11]=v,t[12]=g,t[13]=y,t[14]=b,t[15]=w}function z(t,e){U(t,e,e)}function H(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)z(i,i),2!==r&&4!==r&&U(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function F(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)z(i,i),1!==r&&U(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function q(t,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=e(),l=e(),f=e(),d=e(),h=e(),p=e();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,R(s,r),o=0;o<16;o++)l[o]=s[o],d[o]=u[o]=f[o]=0;for(u[0]=d[0]=1,o=254;o>=0;--o)I(u,l,i=a[o>>>3]>>>(7&o)&1),I(f,d,i),B(h,u,f),j(u,u,f),B(f,l,d),j(l,l,d),z(d,h),z(p,u),U(u,f,u),U(f,l,h),B(h,u,f),j(u,u,f),z(l,u),j(f,d,p),U(u,f,c),B(u,u,d),U(f,f,u),U(u,d,p),U(d,l,s),z(l,h),I(u,l,i),I(f,d,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=f[o],s[o+48]=l[o],s[o+64]=d[o];var m=s.subarray(32),v=s.subarray(16);return H(m,m),U(v,v,m),N(t,v),0}function V(t,e){return q(t,e,o)}function $(t,e){return r(e,32),V(t,e)}function K(t,e,n){var r=new Uint8Array(32);return q(r,n,e),b(t,i,r,w)}_.prototype.blocks=function(t,e,n){for(var r,i,o,a,s,c,u,l,f,d,h,p,m,v,g,y,b,w,k,x=this.fin?0:2048,S=this.h[0],E=this.h[1],_=this.h[2],C=this.h[3],M=this.h[4],A=this.h[5],T=this.h[6],O=this.h[7],D=this.h[8],I=this.h[9],N=this.r[0],P=this.r[1],L=this.r[2],R=this.r[3],B=this.r[4],j=this.r[5],U=this.r[6],z=this.r[7],H=this.r[8],F=this.r[9];n>=16;)d=f=0,d+=(S+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*N,d+=(E+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*F),d+=(_+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*H),d+=(C+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*z),f=(d+=(M+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*U))>>>13,d&=8191,d+=(A+=s>>>1&8191)*(5*j),d+=(T+=8191&(s>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*B),d+=(O+=8191&(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*R),d+=(D+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*L),h=f+=(d+=(I+=l>>>5|x)*(5*P))>>>13,h+=S*P,h+=E*N,h+=_*(5*F),h+=C*(5*H),f=(h+=M*(5*z))>>>13,h&=8191,h+=A*(5*U),h+=T*(5*j),h+=O*(5*B),h+=D*(5*R),f+=(h+=I*(5*L))>>>13,h&=8191,p=f,p+=S*L,p+=E*P,p+=_*N,p+=C*(5*F),f=(p+=M*(5*H))>>>13,p&=8191,p+=A*(5*z),p+=T*(5*U),p+=O*(5*j),p+=D*(5*B),m=f+=(p+=I*(5*R))>>>13,m+=S*R,m+=E*L,m+=_*P,m+=C*N,f=(m+=M*(5*F))>>>13,m&=8191,m+=A*(5*H),m+=T*(5*z),m+=O*(5*U),m+=D*(5*j),v=f+=(m+=I*(5*B))>>>13,v+=S*B,v+=E*R,v+=_*L,v+=C*P,f=(v+=M*N)>>>13,v&=8191,v+=A*(5*F),v+=T*(5*H),v+=O*(5*z),v+=D*(5*U),g=f+=(v+=I*(5*j))>>>13,g+=S*j,g+=E*B,g+=_*R,g+=C*L,f=(g+=M*P)>>>13,g&=8191,g+=A*N,g+=T*(5*F),g+=O*(5*H),g+=D*(5*z),y=f+=(g+=I*(5*U))>>>13,y+=S*U,y+=E*j,y+=_*B,y+=C*R,f=(y+=M*L)>>>13,y&=8191,y+=A*P,y+=T*N,y+=O*(5*F),y+=D*(5*H),b=f+=(y+=I*(5*z))>>>13,b+=S*z,b+=E*U,b+=_*j,b+=C*B,f=(b+=M*R)>>>13,b&=8191,b+=A*L,b+=T*P,b+=O*N,b+=D*(5*F),w=f+=(b+=I*(5*H))>>>13,w+=S*H,w+=E*z,w+=_*U,w+=C*j,f=(w+=M*B)>>>13,w&=8191,w+=A*R,w+=T*L,w+=O*P,w+=D*N,k=f+=(w+=I*(5*F))>>>13,k+=S*F,k+=E*H,k+=_*z,k+=C*U,f=(k+=M*j)>>>13,k&=8191,k+=A*B,k+=T*R,k+=O*L,k+=D*P,S=d=8191&(f=(f=((f+=(k+=I*N)>>>13)<<2)+f|0)+(d&=8191)|0),E=h+=f>>>=13,_=p&=8191,C=m&=8191,M=v&=8191,A=g&=8191,T=y&=8191,O=b&=8191,D=w&=8191,I=k&=8191,e+=16,n-=16;this.h[0]=S,this.h[1]=E,this.h[2]=_,this.h[3]=C,this.h[4]=M,this.h[5]=A,this.h[6]=T,this.h[7]=O,this.h[8]=D,this.h[9]=I},_.prototype.finish=function(t,e){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},_.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var W=A,J=T;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,n,r){for(var i,o,a,s,c,u,l,f,d,h,p,m,v,g,y,b,w,k,x,S,E,_,C,M,A,T,O=new Int32Array(16),D=new Int32Array(16),I=t[0],N=t[1],P=t[2],L=t[3],R=t[4],B=t[5],j=t[6],U=t[7],z=e[0],H=e[1],F=e[2],q=e[3],V=e[4],$=e[5],K=e[6],W=e[7],J=0;r>=128;){for(x=0;x<16;x++)S=8*x+J,O[x]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],D[x]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(x=0;x<80;x++)if(i=I,o=N,a=P,s=L,c=R,u=B,l=j,U,d=z,h=H,p=F,m=q,v=V,g=$,y=K,W,C=65535&(_=W),M=_>>>16,A=65535&(E=U),T=E>>>16,C+=65535&(_=(V>>>14|R<<18)^(V>>>18|R<<14)^(R>>>9|V<<23)),M+=_>>>16,A+=65535&(E=(R>>>14|V<<18)^(R>>>18|V<<14)^(V>>>9|R<<23)),T+=E>>>16,C+=65535&(_=V&$^~V&K),M+=_>>>16,A+=65535&(E=R&B^~R&j),T+=E>>>16,C+=65535&(_=G[2*x+1]),M+=_>>>16,A+=65535&(E=G[2*x]),T+=E>>>16,E=O[x%16],M+=(_=D[x%16])>>>16,A+=65535&E,T+=E>>>16,A+=(M+=(C+=65535&_)>>>16)>>>16,C=65535&(_=k=65535&C|M<<16),M=_>>>16,A=65535&(E=w=65535&A|(T+=A>>>16)<<16),T=E>>>16,C+=65535&(_=(z>>>28|I<<4)^(I>>>2|z<<30)^(I>>>7|z<<25)),M+=_>>>16,A+=65535&(E=(I>>>28|z<<4)^(z>>>2|I<<30)^(z>>>7|I<<25)),T+=E>>>16,M+=(_=z&H^z&F^H&F)>>>16,A+=65535&(E=I&N^I&P^N&P),T+=E>>>16,f=65535&(A+=(M+=(C+=65535&_)>>>16)>>>16)|(T+=A>>>16)<<16,b=65535&C|M<<16,C=65535&(_=m),M=_>>>16,A=65535&(E=s),T=E>>>16,M+=(_=k)>>>16,A+=65535&(E=w),T+=E>>>16,N=i,P=o,L=a,R=s=65535&(A+=(M+=(C+=65535&_)>>>16)>>>16)|(T+=A>>>16)<<16,B=c,j=u,U=l,I=f,H=d,F=h,q=p,V=m=65535&C|M<<16,$=v,K=g,W=y,z=b,x%16==15)for(S=0;S<16;S++)E=O[S],C=65535&(_=D[S]),M=_>>>16,A=65535&E,T=E>>>16,E=O[(S+9)%16],C+=65535&(_=D[(S+9)%16]),M+=_>>>16,A+=65535&E,T+=E>>>16,w=O[(S+1)%16],C+=65535&(_=((k=D[(S+1)%16])>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25)),M+=_>>>16,A+=65535&(E=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7),T+=E>>>16,w=O[(S+14)%16],M+=(_=((k=D[(S+14)%16])>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26))>>>16,A+=65535&(E=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6),T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,O[S]=65535&A|T<<16,D[S]=65535&C|M<<16;C=65535&(_=z),M=_>>>16,A=65535&(E=I),T=E>>>16,E=t[0],M+=(_=e[0])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[0]=I=65535&A|T<<16,e[0]=z=65535&C|M<<16,C=65535&(_=H),M=_>>>16,A=65535&(E=N),T=E>>>16,E=t[1],M+=(_=e[1])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[1]=N=65535&A|T<<16,e[1]=H=65535&C|M<<16,C=65535&(_=F),M=_>>>16,A=65535&(E=P),T=E>>>16,E=t[2],M+=(_=e[2])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[2]=P=65535&A|T<<16,e[2]=F=65535&C|M<<16,C=65535&(_=q),M=_>>>16,A=65535&(E=L),T=E>>>16,E=t[3],M+=(_=e[3])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[3]=L=65535&A|T<<16,e[3]=q=65535&C|M<<16,C=65535&(_=V),M=_>>>16,A=65535&(E=R),T=E>>>16,E=t[4],M+=(_=e[4])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[4]=R=65535&A|T<<16,e[4]=V=65535&C|M<<16,C=65535&(_=$),M=_>>>16,A=65535&(E=B),T=E>>>16,E=t[5],M+=(_=e[5])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[5]=B=65535&A|T<<16,e[5]=$=65535&C|M<<16,C=65535&(_=K),M=_>>>16,A=65535&(E=j),T=E>>>16,E=t[6],M+=(_=e[6])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[6]=j=65535&A|T<<16,e[6]=K=65535&C|M<<16,C=65535&(_=W),M=_>>>16,A=65535&(E=U),T=E>>>16,E=t[7],M+=(_=e[7])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[7]=U=65535&A|T<<16,e[7]=W=65535&C|M<<16,J+=128,r-=128}return r}function X(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,p(a,n-8,s/536870912|0,s<<3),Y(i,o,a,n),r=0;r<8;r++)p(t,8*r,i[r],o[r]);return 0}function Z(t,n){var r=e(),i=e(),o=e(),a=e(),s=e(),c=e(),u=e(),f=e(),d=e();j(r,t[1],t[0]),j(d,n[1],n[0]),U(r,r,d),B(i,t[0],t[1]),B(d,n[0],n[1]),U(i,i,d),U(o,t[3],n[3]),U(o,o,l),U(a,t[2],n[2]),B(a,a,a),j(s,i,r),j(c,a,o),B(u,a,o),B(f,i,r),U(t[0],s,c),U(t[1],f,u),U(t[2],u,c),U(t[3],s,f)}function Q(t,e,n){var r;for(r=0;r<4;r++)I(t[r],e[r],n)}function tt(t,n){var r=e(),i=e(),o=e();H(o,n[2]),U(r,n[0],o),U(i,n[1],o),N(t,i),t[31]^=L(r)<<7}function et(t,e,n){var r,i;for(O(t[0],a),O(t[1],s),O(t[2],s),O(t[3],a),i=255;i>=0;--i)Q(t,e,r=n[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),Q(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];O(r[0],f),O(r[1],d),O(r[2],s),U(r[3],f,d),et(t,r,n)}function rt(t,n,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||r(n,32),X(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,nt(s,a),tt(t,s),o=0;o<32;o++)n[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*it[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*it[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*it[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function at(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,n)}function st(t,n,r,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[e(),e(),e(),e()];X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var d=r+64;for(o=0;o<r;o++)t[64+o]=n[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for(X(u,t.subarray(32),r+32),at(u),nt(f,u),tt(t,f),o=32;o<64;o++)t[o]=i[o];for(X(c,t,r+64),at(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=c[o]*s[a];return ot(t.subarray(32),l),d}function ct(t,n,r,i){var o,c=new Uint8Array(32),l=new Uint8Array(64),f=[e(),e(),e(),e()],d=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),i=e(),o=e(),c=e(),l=e(),f=e(),d=e();return O(t[2],s),R(t[1],n),z(o,t[1]),U(c,o,u),j(o,o,t[2]),B(c,t[2],c),z(l,c),z(f,l),U(d,f,l),U(r,d,o),U(r,r,c),F(r,r),U(r,r,o),U(r,r,c),U(r,r,c),U(t[0],r,c),z(i,t[0]),U(i,i,c),P(i,o)&&U(t[0],t[0],h),z(i,t[0]),U(i,i,c),P(i,o)?-1:(L(t[0])===n[31]>>7&&j(t[0],a,t[0]),U(t[3],t[0],t[1]),0)}(d,i))return-1;for(o=0;o<r;o++)t[o]=n[o];for(o=0;o<32;o++)t[o+32]=i[o];if(X(l,t,r),at(l),et(f,d,l),nt(d,n.subarray(32)),Z(f,d),tt(c,f),r-=64,g(n,0,c,0)){for(o=0;o<r;o++)t[o]=0;return-1}for(o=0;o<r;o++)t[o]=n[o+64];return r}function ut(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function lt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ft(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:x,crypto_onetimeauth:C,crypto_onetimeauth_verify:M,crypto_verify_16:v,crypto_verify_32:g,crypto_secretbox:A,crypto_secretbox_open:T,crypto_scalarmult:q,crypto_scalarmult_base:V,crypto_box_beforenm:K,crypto_box_afternm:W,crypto_box:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),W(t,e,n,r,a)},crypto_box_open:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),J(t,e,n,r,a)},crypto_box_keypair:$,crypto_hash:X,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:N,unpack25519:R,M:U,A:B,S:z,Z:j,pow2523:F,add:Z,set25519:O,modL:ot,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){lt(t,e,n),ut(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return A(i,r,r.length,e,n),i.subarray(16)},t.secretbox.open=function(t,e,n){lt(t,e,n),ut(n,e);for(var r=new Uint8Array(16+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+16]=t[o];return r.length<32?null:0!==T(i,r,r.length,e,n)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(lt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return q(n,t,e),n},t.scalarMult.base=function(t){if(lt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return V(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){lt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return K(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(lt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(lt(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return st(n,t,t.length,e),n},t.sign.open=function(t,e){if(lt(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ct(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if(lt(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(r=0;r<64;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+64]=t[r];return ct(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(lt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(lt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){lt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return lt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)e.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)t[r]=i[r];ft(i)}))}else(e=n(234))&&e.randomBytes&&t.setPRNG((function(t,n){var r,i=e.randomBytes(n);for(r=0;r<n;r++)t[r]=i[r];ft(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return m})),n.d(e,"h",(function(){return y})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return g}));var r=n(2),i=n(0),o=n(1);function a(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function s(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function c(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function u(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var i=l(r);if(!i)return!1;var a=i.nodeAfter;if(v(t,i,e))return!0;if(0==r.parent.content.size&&(s(a,"start")||o.c.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(s(a,"start")?o.f.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):o.c.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}return!(!a.isAtom||i.depth!=r.depth-1)&&(e&&e(t.tr.delete(i.pos,i.pos+a.nodeSize).scrollIntoView()),!0)}function l(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function f(t,e){var n=t.selection,r=n.$head,i=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(i))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function d(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function h(t,e){var n=t.selection,r=n.$head,i=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(i))return!1;var a=r.node(-1),s=r.indexAfter(-1),c=d(a.contentMatchAt(s));if(!a.canReplaceWith(s,s,c))return!1;if(e){var u=r.after(),l=t.tr.replaceWith(u,u,c.createAndFill());l.setSelection(o.f.near(l.doc.resolve(u),1)),e(l.scrollIntoView())}return!0}function p(t,e){var n=t.selection,i=n.$from,a=n.$to;if(t.selection instanceof o.c&&t.selection.node.isBlock)return!(!i.parentOffset||!Object(r.g)(t.doc,i.pos))&&(e&&e(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(e){var s=a.parentOffset==a.parent.content.size,c=t.tr;(t.selection instanceof o.h||t.selection instanceof o.a)&&c.deleteSelection();var u=0==i.depth?null:d(i.node(-1).contentMatchAt(i.indexAfter(-1))),l=s&&u?[{type:u}]:null,f=Object(r.g)(c.doc,c.mapping.map(i.pos),1,l);if(l||f||!Object(r.g)(c.doc,c.mapping.map(i.pos),1,u&&[{type:u}])||(l=[{type:u}],f=!0),f&&(c.split(c.mapping.map(i.pos),1,l),!s&&!i.parentOffset&&i.parent.type!=u)){var h=c.mapping.map(i.before()),p=c.doc.resolve(h);i.node(-1).canReplaceWith(p.index(),p.index()+1,u)&&c.setNodeMarkup(c.mapping.map(i.before()),u)}e(c.scrollIntoView())}return!0}function m(t,e){return e&&e(t.tr.setSelection(new o.a(t.doc))),!0}function v(t,e,n){var a,c,u=e.nodeBefore,l=e.nodeAfter;if(u.type.spec.isolating||l.type.spec.isolating)return!1;if(function(t,e,n){var i=e.nodeBefore,o=e.nodeAfter,a=e.index();return!!(i&&o&&i.type.compatibleContent(o.type))&&(!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(a,a+1)||!o.isTextblock&&!Object(r.f)(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;var f=e.parent.canReplace(e.index(),e.index()+1);if(f&&(a=(c=u.contentMatchAt(u.childCount)).findWrapping(l.type))&&c.matchType(a[0]||l.type).validEnd){if(n){for(var d=e.pos+l.nodeSize,h=i.c.empty,p=a.length-1;p>=0;p--)h=i.c.from(a[p].create(null,h));h=i.c.from(u.copy(h));var m=t.tr.step(new r.b(e.pos-1,d,e.pos,d,new i.j(h,1,0),a.length,!0)),v=d+2*a.length;Object(r.f)(m.doc,v)&&m.join(v),n(m.scrollIntoView())}return!0}var g=o.f.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),b=y&&Object(r.k)(y);if(null!=b&&b>=e.depth)return n&&n(t.tr.lift(y,b).scrollIntoView()),!0;if(f&&s(l,"start",!0)&&s(u,"end")){for(var w=u,k=[];k.push(w),!w.isTextblock;)w=w.lastChild;for(var x=l,S=1;!x.isTextblock;x=x.firstChild)S++;if(w.canReplace(w.childCount,w.childCount,x.content)){if(n){for(var E=i.c.empty,_=k.length-1;_>=0;_--)E=i.c.from(k[_].copy(E));n(t.tr.step(new r.b(e.pos-k.length,e.pos+l.nodeSize,e.pos+S,e.pos+l.nodeSize-S,new i.j(E,k.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function g(t,e){return function(n,i){var o=n.selection,a=o.$from,s=o.$to,c=a.blockRange(s),u=c&&Object(r.i)(c,t,e);return!!u&&(i&&i(n.tr.wrap(c,u).scrollIntoView()),!0)}}function y(t,e){return function(n,r){var i=n.selection,o=i.from,a=i.to,s=!1;return n.doc.nodesBetween(o,a,(function(r,i){if(s)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)s=!0;else{var o=n.doc.resolve(i),a=o.index();s=o.parent.canReplaceWith(a,a+1,t)}})),!!s&&(r&&r(n.tr.setBlockType(o,a,t,e).scrollIntoView()),!0)}}function b(t,e){return function(n,r){var i=n.selection,o=i.empty,a=i.$cursor,s=i.ranges;if(o&&!a||!function(t,e,n){for(var r=function(r){var i=e[r],o=i.$from,a=i.$to,s=0==o.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(o.pos,a.pos,(function(t){if(s)return!1;s=t.inlineContent&&t.type.allowsMarkType(n)})),s)return{v:!0}},i=0;i<e.length;i++){var o=r(i);if(o)return o.v}return!1}(n.doc,s,t))return!1;if(r)if(a)t.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{for(var c=!1,u=n.tr,l=0;!c&&l<s.length;l++){var f=s[l],d=f.$from,h=f.$to;c=n.doc.rangeHasMark(d.pos,h.pos,t)}for(var p=0;p<s.length;p++){var m=s[p],v=m.$from,g=m.$to;if(c)u.removeMark(v.pos,g.pos,t);else{var y=v.pos,b=g.pos,w=v.nodeAfter,k=g.nodeBefore,x=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,S=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;y+x<b&&(y+=x,b-=S),u.addMark(y,b,t.create(e))}}r(u.scrollIntoView())}return!0}}function w(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}var k=w(a,(function(t,e,n){var i=t.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",t):i.parentOffset>0))return!1;var a=c(i);if(!a){var u=i.blockRange(),l=u&&Object(r.k)(u);return null!=l&&(e&&e(t.tr.lift(u,l).scrollIntoView()),!0)}var f=a.nodeBefore;if(!f.type.spec.isolating&&v(t,a,e))return!0;if(0==i.parent.content.size&&(s(f,"end")||o.c.isSelectable(f))){if(e){var d=t.tr.deleteRange(i.before(),i.after());d.setSelection(s(f,"end")?o.f.findFrom(d.doc.resolve(d.mapping.map(a.pos,-1)),-1):o.c.create(d.doc,a.pos-f.nodeSize)),e(d.scrollIntoView())}return!0}return!(!f.isAtom||a.depth!=i.depth-1)&&(e&&e(t.tr.delete(a.pos-f.nodeSize,a.pos).scrollIntoView()),!0)}),(function(t,e,n){var r=t.selection,i=r.$head,a=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):i.parentOffset>0)return!1;a=c(i)}var s=a&&a.nodeBefore;return!(!s||!o.c.isSelectable(s))&&(e&&e(t.tr.setSelection(o.c.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)})),x=w(a,u,(function(t,e,n){var r=t.selection,i=r.$head,a=i;if(!r.empty)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):i.parentOffset<i.parent.content.size)return!1;a=l(i)}var s=a&&a.nodeAfter;return!(!s||!o.c.isSelectable(s))&&(e&&e(t.tr.setSelection(o.c.create(t.doc,a.pos)).scrollIntoView()),!0)})),S={Enter:w(f,(function(t,e){var n=t.selection,r=n.$from,i=n.$to;if(n instanceof o.a||r.parent.inlineContent||i.parent.inlineContent)return!1;var a=d(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){var s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(s,a.createAndFill());c.setSelection(o.h.create(c.doc,s+1)),e(c.scrollIntoView())}return!0}),(function(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(Object(r.g)(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}var o=n.blockRange(),a=o&&Object(r.k)(o);return null!=a&&(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}),p),"Mod-Enter":h,Backspace:k,"Mod-Backspace":k,"Shift-Backspace":k,Delete:x,"Mod-Delete":x,"Mod-a":m},E={"Ctrl-h":S.Backspace,"Alt-Backspace":S["Mod-Backspace"],"Ctrl-d":S.Delete,"Ctrl-Alt-Backspace":S["Mod-Delete"],"Alt-Delete":S["Mod-Delete"],"Alt-d":S["Mod-Delete"]};for(var _ in S)E[_]=S[_];var C=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?E:S},function(t,e,n){!function(t){"use strict";var e=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=e(),s=e([1]),c=e([56129,1]),u=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function m(t,e,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^n[r+o];return(1&a-1>>>8)-1}function v(t,e,n,r){return m(t,e,n,r,16)}function g(t,e,n,r){return m(t,e,n,r,32)}function y(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=o,x=a,S=s,E=c,_=u,C=l,M=f,A=d,T=h,O=p,D=m,I=v,N=g,P=y,L=b,R=w,B=0;B<20;B+=2)k^=(i=(N^=(i=(T^=(i=(_^=(i=k+N|0)<<7|i>>>25)+k|0)<<9|i>>>23)+_|0)<<13|i>>>19)+T|0)<<18|i>>>14,C^=(i=(x^=(i=(P^=(i=(O^=(i=C+x|0)<<7|i>>>25)+C|0)<<9|i>>>23)+O|0)<<13|i>>>19)+P|0)<<18|i>>>14,D^=(i=(M^=(i=(S^=(i=(L^=(i=D+M|0)<<7|i>>>25)+D|0)<<9|i>>>23)+L|0)<<13|i>>>19)+S|0)<<18|i>>>14,R^=(i=(I^=(i=(A^=(i=(E^=(i=R+I|0)<<7|i>>>25)+R|0)<<9|i>>>23)+E|0)<<13|i>>>19)+A|0)<<18|i>>>14,k^=(i=(E^=(i=(S^=(i=(x^=(i=k+E|0)<<7|i>>>25)+k|0)<<9|i>>>23)+x|0)<<13|i>>>19)+S|0)<<18|i>>>14,C^=(i=(_^=(i=(A^=(i=(M^=(i=C+_|0)<<7|i>>>25)+C|0)<<9|i>>>23)+M|0)<<13|i>>>19)+A|0)<<18|i>>>14,D^=(i=(O^=(i=(T^=(i=(I^=(i=D+O|0)<<7|i>>>25)+D|0)<<9|i>>>23)+I|0)<<13|i>>>19)+T|0)<<18|i>>>14,R^=(i=(L^=(i=(P^=(i=(N^=(i=R+L|0)<<7|i>>>25)+R|0)<<9|i>>>23)+N|0)<<13|i>>>19)+P|0)<<18|i>>>14;k=k+o|0,x=x+a|0,S=S+s|0,E=E+c|0,_=_+u|0,C=C+l|0,M=M+f|0,A=A+d|0,T=T+h|0,O=O+p|0,D=D+m|0,I=I+v|0,N=N+g|0,P=P+y|0,L=L+b|0,R=R+w|0,t[0]=k>>>0&255,t[1]=k>>>8&255,t[2]=k>>>16&255,t[3]=k>>>24&255,t[4]=x>>>0&255,t[5]=x>>>8&255,t[6]=x>>>16&255,t[7]=x>>>24&255,t[8]=S>>>0&255,t[9]=S>>>8&255,t[10]=S>>>16&255,t[11]=S>>>24&255,t[12]=E>>>0&255,t[13]=E>>>8&255,t[14]=E>>>16&255,t[15]=E>>>24&255,t[16]=_>>>0&255,t[17]=_>>>8&255,t[18]=_>>>16&255,t[19]=_>>>24&255,t[20]=C>>>0&255,t[21]=C>>>8&255,t[22]=C>>>16&255,t[23]=C>>>24&255,t[24]=M>>>0&255,t[25]=M>>>8&255,t[26]=M>>>16&255,t[27]=M>>>24&255,t[28]=A>>>0&255,t[29]=A>>>8&255,t[30]=A>>>16&255,t[31]=A>>>24&255,t[32]=T>>>0&255,t[33]=T>>>8&255,t[34]=T>>>16&255,t[35]=T>>>24&255,t[36]=O>>>0&255,t[37]=O>>>8&255,t[38]=O>>>16&255,t[39]=O>>>24&255,t[40]=D>>>0&255,t[41]=D>>>8&255,t[42]=D>>>16&255,t[43]=D>>>24&255,t[44]=I>>>0&255,t[45]=I>>>8&255,t[46]=I>>>16&255,t[47]=I>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=P>>>0&255,t[53]=P>>>8&255,t[54]=P>>>16&255,t[55]=P>>>24&255,t[56]=L>>>0&255,t[57]=L>>>8&255,t[58]=L>>>16&255,t[59]=L>>>24&255,t[60]=R>>>0&255,t[61]=R>>>8&255,t[62]=R>>>16&255,t[63]=R>>>24&255}(t,e,n,r)}function b(t,e,n,r){!function(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,c=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,d=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,h=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,y=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,k=0;k<20;k+=2)o^=(i=(g^=(i=(h^=(i=(u^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(y^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+y|0)<<18|i>>>14,m^=(i=(f^=(i=(s^=(i=(b^=(i=m+f|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(v^=(i=(d^=(i=(c^=(i=w+v|0)<<7|i>>>25)+w|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(s^=(i=(a^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(u^=(i=(d^=(i=(f^=(i=l+u|0)<<7|i>>>25)+l|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,m^=(i=(p^=(i=(h^=(i=(v^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+v|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(b^=(i=(y^=(i=(g^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+g|0)<<13|i>>>19)+y|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=w>>>0&255,t[13]=w>>>8&255,t[14]=w>>>16&255,t[15]=w>>>24&255,t[16]=f>>>0&255,t[17]=f>>>8&255,t[18]=f>>>16&255,t[19]=f>>>24&255,t[20]=d>>>0&255,t[21]=d>>>8&255,t[22]=d>>>16&255,t[23]=d>>>24&255,t[24]=h>>>0&255,t[25]=h>>>8&255,t[26]=h>>>16&255,t[27]=h>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(t,e,n,r,i,o,a){var s,c,u=new Uint8Array(16),l=new Uint8Array(64);for(c=0;c<16;c++)u[c]=0;for(c=0;c<8;c++)u[c]=o[c];for(;i>=64;){for(y(l,u,a,w),c=0;c<64;c++)t[e+c]=n[r+c]^l[c];for(s=1,c=8;c<16;c++)s=s+(255&u[c])|0,u[c]=255&s,s>>>=8;i-=64,e+=64,r+=64}if(i>0)for(y(l,u,a,w),c=0;c<i;c++)t[e+c]=n[r+c]^l[c];return 0}function x(t,e,n,r,i){var o,a,s=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(y(c,s,i,w),a=0;a<64;a++)t[e+a]=c[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(y(c,s,i,w),a=0;a<n;a++)t[e+a]=c[a];return 0}function S(t,e,n,r,i){var o=new Uint8Array(32);b(o,r,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return x(t,e,n,a,o)}function E(t,e,n,r,i,o,a){var s=new Uint8Array(32);b(s,o,a,w);for(var c=new Uint8Array(8),u=0;u<8;u++)c[u]=o[u+16];return k(t,e,n,r,i,c,s)}var _=function(t){var e,n,r,i,o,a,s,c;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),c=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|c<<8),this.r[9]=c>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function C(t,e,n,r,i,o){var a=new _(o);return a.update(n,r,i),a.finish(t,e),0}function M(t,e,n,r,i,o){var a=new Uint8Array(16);return C(a,0,n,r,i,o),v(t,e,a,0)}function A(t,e,n,r,i){var o;if(n<32)return-1;for(E(t,0,e,0,n,r,i),C(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function T(t,e,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(S(a,0,32,r,i),0!==M(e,16,e,32,n-32,a))return-1;for(E(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function O(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function D(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function I(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function N(t,n){var r,i,o,a=e(),s=e();for(r=0;r<16;r++)s[r]=n[r];for(D(s),D(s),D(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,I(s,a,1-o)}for(r=0;r<16;r++)t[2*r]=255&s[r],t[2*r+1]=s[r]>>8}function P(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return N(n,t),N(r,e),g(n,0,r,0)}function L(t){var e=new Uint8Array(32);return N(e,t),1&e[0]}function R(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function B(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function j(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function U(t,e,n){var r,i,o=0,a=0,s=0,c=0,u=0,l=0,f=0,d=0,h=0,p=0,m=0,v=0,g=0,y=0,b=0,w=0,k=0,x=0,S=0,E=0,_=0,C=0,M=0,A=0,T=0,O=0,D=0,I=0,N=0,P=0,L=0,R=n[0],B=n[1],j=n[2],U=n[3],z=n[4],H=n[5],F=n[6],q=n[7],V=n[8],$=n[9],K=n[10],W=n[11],J=n[12],G=n[13],Y=n[14],X=n[15];o+=(r=e[0])*R,a+=r*B,s+=r*j,c+=r*U,u+=r*z,l+=r*H,f+=r*F,d+=r*q,h+=r*V,p+=r*$,m+=r*K,v+=r*W,g+=r*J,y+=r*G,b+=r*Y,w+=r*X,a+=(r=e[1])*R,s+=r*B,c+=r*j,u+=r*U,l+=r*z,f+=r*H,d+=r*F,h+=r*q,p+=r*V,m+=r*$,v+=r*K,g+=r*W,y+=r*J,b+=r*G,w+=r*Y,k+=r*X,s+=(r=e[2])*R,c+=r*B,u+=r*j,l+=r*U,f+=r*z,d+=r*H,h+=r*F,p+=r*q,m+=r*V,v+=r*$,g+=r*K,y+=r*W,b+=r*J,w+=r*G,k+=r*Y,x+=r*X,c+=(r=e[3])*R,u+=r*B,l+=r*j,f+=r*U,d+=r*z,h+=r*H,p+=r*F,m+=r*q,v+=r*V,g+=r*$,y+=r*K,b+=r*W,w+=r*J,k+=r*G,x+=r*Y,S+=r*X,u+=(r=e[4])*R,l+=r*B,f+=r*j,d+=r*U,h+=r*z,p+=r*H,m+=r*F,v+=r*q,g+=r*V,y+=r*$,b+=r*K,w+=r*W,k+=r*J,x+=r*G,S+=r*Y,E+=r*X,l+=(r=e[5])*R,f+=r*B,d+=r*j,h+=r*U,p+=r*z,m+=r*H,v+=r*F,g+=r*q,y+=r*V,b+=r*$,w+=r*K,k+=r*W,x+=r*J,S+=r*G,E+=r*Y,_+=r*X,f+=(r=e[6])*R,d+=r*B,h+=r*j,p+=r*U,m+=r*z,v+=r*H,g+=r*F,y+=r*q,b+=r*V,w+=r*$,k+=r*K,x+=r*W,S+=r*J,E+=r*G,_+=r*Y,C+=r*X,d+=(r=e[7])*R,h+=r*B,p+=r*j,m+=r*U,v+=r*z,g+=r*H,y+=r*F,b+=r*q,w+=r*V,k+=r*$,x+=r*K,S+=r*W,E+=r*J,_+=r*G,C+=r*Y,M+=r*X,h+=(r=e[8])*R,p+=r*B,m+=r*j,v+=r*U,g+=r*z,y+=r*H,b+=r*F,w+=r*q,k+=r*V,x+=r*$,S+=r*K,E+=r*W,_+=r*J,C+=r*G,M+=r*Y,A+=r*X,p+=(r=e[9])*R,m+=r*B,v+=r*j,g+=r*U,y+=r*z,b+=r*H,w+=r*F,k+=r*q,x+=r*V,S+=r*$,E+=r*K,_+=r*W,C+=r*J,M+=r*G,A+=r*Y,T+=r*X,m+=(r=e[10])*R,v+=r*B,g+=r*j,y+=r*U,b+=r*z,w+=r*H,k+=r*F,x+=r*q,S+=r*V,E+=r*$,_+=r*K,C+=r*W,M+=r*J,A+=r*G,T+=r*Y,O+=r*X,v+=(r=e[11])*R,g+=r*B,y+=r*j,b+=r*U,w+=r*z,k+=r*H,x+=r*F,S+=r*q,E+=r*V,_+=r*$,C+=r*K,M+=r*W,A+=r*J,T+=r*G,O+=r*Y,D+=r*X,g+=(r=e[12])*R,y+=r*B,b+=r*j,w+=r*U,k+=r*z,x+=r*H,S+=r*F,E+=r*q,_+=r*V,C+=r*$,M+=r*K,A+=r*W,T+=r*J,O+=r*G,D+=r*Y,I+=r*X,y+=(r=e[13])*R,b+=r*B,w+=r*j,k+=r*U,x+=r*z,S+=r*H,E+=r*F,_+=r*q,C+=r*V,M+=r*$,A+=r*K,T+=r*W,O+=r*J,D+=r*G,I+=r*Y,N+=r*X,b+=(r=e[14])*R,w+=r*B,k+=r*j,x+=r*U,S+=r*z,E+=r*H,_+=r*F,C+=r*q,M+=r*V,A+=r*$,T+=r*K,O+=r*W,D+=r*J,I+=r*G,N+=r*Y,P+=r*X,w+=(r=e[15])*R,a+=38*(x+=r*j),s+=38*(S+=r*U),c+=38*(E+=r*z),u+=38*(_+=r*H),l+=38*(C+=r*F),f+=38*(M+=r*q),d+=38*(A+=r*V),h+=38*(T+=r*$),p+=38*(O+=r*K),m+=38*(D+=r*W),v+=38*(I+=r*J),g+=38*(N+=r*G),y+=38*(P+=r*Y),b+=38*(L+=r*X),o=(r=(o+=38*(k+=r*B))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=c,t[4]=u,t[5]=l,t[6]=f,t[7]=d,t[8]=h,t[9]=p,t[10]=m,t[11]=v,t[12]=g,t[13]=y,t[14]=b,t[15]=w}function z(t,e){U(t,e,e)}function H(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)z(i,i),2!==r&&4!==r&&U(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function F(t,n){var r,i=e();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)z(i,i),1!==r&&U(i,i,n);for(r=0;r<16;r++)t[r]=i[r]}function q(t,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),u=e(),l=e(),f=e(),d=e(),h=e(),p=e();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,R(s,r),o=0;o<16;o++)l[o]=s[o],d[o]=u[o]=f[o]=0;for(u[0]=d[0]=1,o=254;o>=0;--o)I(u,l,i=a[o>>>3]>>>(7&o)&1),I(f,d,i),B(h,u,f),j(u,u,f),B(f,l,d),j(l,l,d),z(d,h),z(p,u),U(u,f,u),U(f,l,h),B(h,u,f),j(u,u,f),z(l,u),j(f,d,p),U(u,f,c),B(u,u,d),U(f,f,u),U(u,d,p),U(d,l,s),z(l,h),I(u,l,i),I(f,d,i);for(o=0;o<16;o++)s[o+16]=u[o],s[o+32]=f[o],s[o+48]=l[o],s[o+64]=d[o];var m=s.subarray(32),v=s.subarray(16);return H(m,m),U(v,v,m),N(t,v),0}function V(t,e){return q(t,e,o)}function $(t,e){return r(e,32),V(t,e)}function K(t,e,n){var r=new Uint8Array(32);return q(r,n,e),b(t,i,r,w)}_.prototype.blocks=function(t,e,n){for(var r,i,o,a,s,c,u,l,f,d,h,p,m,v,g,y,b,w,k,x=this.fin?0:2048,S=this.h[0],E=this.h[1],_=this.h[2],C=this.h[3],M=this.h[4],A=this.h[5],T=this.h[6],O=this.h[7],D=this.h[8],I=this.h[9],N=this.r[0],P=this.r[1],L=this.r[2],R=this.r[3],B=this.r[4],j=this.r[5],U=this.r[6],z=this.r[7],H=this.r[8],F=this.r[9];n>=16;)d=f=0,d+=(S+=8191&(r=255&t[e+0]|(255&t[e+1])<<8))*N,d+=(E+=8191&(r>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*F),d+=(_+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*H),d+=(C+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*z),f=(d+=(M+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*U))>>>13,d&=8191,d+=(A+=s>>>1&8191)*(5*j),d+=(T+=8191&(s>>>14|(c=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*B),d+=(O+=8191&(c>>>11|(u=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*R),d+=(D+=8191&(u>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*L),h=f+=(d+=(I+=l>>>5|x)*(5*P))>>>13,h+=S*P,h+=E*N,h+=_*(5*F),h+=C*(5*H),f=(h+=M*(5*z))>>>13,h&=8191,h+=A*(5*U),h+=T*(5*j),h+=O*(5*B),h+=D*(5*R),f+=(h+=I*(5*L))>>>13,h&=8191,p=f,p+=S*L,p+=E*P,p+=_*N,p+=C*(5*F),f=(p+=M*(5*H))>>>13,p&=8191,p+=A*(5*z),p+=T*(5*U),p+=O*(5*j),p+=D*(5*B),m=f+=(p+=I*(5*R))>>>13,m+=S*R,m+=E*L,m+=_*P,m+=C*N,f=(m+=M*(5*F))>>>13,m&=8191,m+=A*(5*H),m+=T*(5*z),m+=O*(5*U),m+=D*(5*j),v=f+=(m+=I*(5*B))>>>13,v+=S*B,v+=E*R,v+=_*L,v+=C*P,f=(v+=M*N)>>>13,v&=8191,v+=A*(5*F),v+=T*(5*H),v+=O*(5*z),v+=D*(5*U),g=f+=(v+=I*(5*j))>>>13,g+=S*j,g+=E*B,g+=_*R,g+=C*L,f=(g+=M*P)>>>13,g&=8191,g+=A*N,g+=T*(5*F),g+=O*(5*H),g+=D*(5*z),y=f+=(g+=I*(5*U))>>>13,y+=S*U,y+=E*j,y+=_*B,y+=C*R,f=(y+=M*L)>>>13,y&=8191,y+=A*P,y+=T*N,y+=O*(5*F),y+=D*(5*H),b=f+=(y+=I*(5*z))>>>13,b+=S*z,b+=E*U,b+=_*j,b+=C*B,f=(b+=M*R)>>>13,b&=8191,b+=A*L,b+=T*P,b+=O*N,b+=D*(5*F),w=f+=(b+=I*(5*H))>>>13,w+=S*H,w+=E*z,w+=_*U,w+=C*j,f=(w+=M*B)>>>13,w&=8191,w+=A*R,w+=T*L,w+=O*P,w+=D*N,k=f+=(w+=I*(5*F))>>>13,k+=S*F,k+=E*H,k+=_*z,k+=C*U,f=(k+=M*j)>>>13,k&=8191,k+=A*B,k+=T*R,k+=O*L,k+=D*P,S=d=8191&(f=(f=((f+=(k+=I*N)>>>13)<<2)+f|0)+(d&=8191)|0),E=h+=f>>>=13,_=p&=8191,C=m&=8191,M=v&=8191,A=g&=8191,T=y&=8191,O=b&=8191,D=w&=8191,I=k&=8191,e+=16,n-=16;this.h[0]=S,this.h[1]=E,this.h[2]=_,this.h[3]=C,this.h[4]=M,this.h[5]=A,this.h[6]=T,this.h[7]=O,this.h[8]=D,this.h[9]=I},_.prototype.finish=function(t,e){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},_.prototype.update=function(t,e,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var W=A,J=T;var G=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(t,e,n,r){for(var i,o,a,s,c,u,l,f,d,h,p,m,v,g,y,b,w,k,x,S,E,_,C,M,A,T,O=new Int32Array(16),D=new Int32Array(16),I=t[0],N=t[1],P=t[2],L=t[3],R=t[4],B=t[5],j=t[6],U=t[7],z=e[0],H=e[1],F=e[2],q=e[3],V=e[4],$=e[5],K=e[6],W=e[7],J=0;r>=128;){for(x=0;x<16;x++)S=8*x+J,O[x]=n[S+0]<<24|n[S+1]<<16|n[S+2]<<8|n[S+3],D[x]=n[S+4]<<24|n[S+5]<<16|n[S+6]<<8|n[S+7];for(x=0;x<80;x++)if(i=I,o=N,a=P,s=L,c=R,u=B,l=j,U,d=z,h=H,p=F,m=q,v=V,g=$,y=K,W,C=65535&(_=W),M=_>>>16,A=65535&(E=U),T=E>>>16,C+=65535&(_=(V>>>14|R<<18)^(V>>>18|R<<14)^(R>>>9|V<<23)),M+=_>>>16,A+=65535&(E=(R>>>14|V<<18)^(R>>>18|V<<14)^(V>>>9|R<<23)),T+=E>>>16,C+=65535&(_=V&$^~V&K),M+=_>>>16,A+=65535&(E=R&B^~R&j),T+=E>>>16,C+=65535&(_=G[2*x+1]),M+=_>>>16,A+=65535&(E=G[2*x]),T+=E>>>16,E=O[x%16],M+=(_=D[x%16])>>>16,A+=65535&E,T+=E>>>16,A+=(M+=(C+=65535&_)>>>16)>>>16,C=65535&(_=k=65535&C|M<<16),M=_>>>16,A=65535&(E=w=65535&A|(T+=A>>>16)<<16),T=E>>>16,C+=65535&(_=(z>>>28|I<<4)^(I>>>2|z<<30)^(I>>>7|z<<25)),M+=_>>>16,A+=65535&(E=(I>>>28|z<<4)^(z>>>2|I<<30)^(z>>>7|I<<25)),T+=E>>>16,M+=(_=z&H^z&F^H&F)>>>16,A+=65535&(E=I&N^I&P^N&P),T+=E>>>16,f=65535&(A+=(M+=(C+=65535&_)>>>16)>>>16)|(T+=A>>>16)<<16,b=65535&C|M<<16,C=65535&(_=m),M=_>>>16,A=65535&(E=s),T=E>>>16,M+=(_=k)>>>16,A+=65535&(E=w),T+=E>>>16,N=i,P=o,L=a,R=s=65535&(A+=(M+=(C+=65535&_)>>>16)>>>16)|(T+=A>>>16)<<16,B=c,j=u,U=l,I=f,H=d,F=h,q=p,V=m=65535&C|M<<16,$=v,K=g,W=y,z=b,x%16==15)for(S=0;S<16;S++)E=O[S],C=65535&(_=D[S]),M=_>>>16,A=65535&E,T=E>>>16,E=O[(S+9)%16],C+=65535&(_=D[(S+9)%16]),M+=_>>>16,A+=65535&E,T+=E>>>16,w=O[(S+1)%16],C+=65535&(_=((k=D[(S+1)%16])>>>1|w<<31)^(k>>>8|w<<24)^(k>>>7|w<<25)),M+=_>>>16,A+=65535&(E=(w>>>1|k<<31)^(w>>>8|k<<24)^w>>>7),T+=E>>>16,w=O[(S+14)%16],M+=(_=((k=D[(S+14)%16])>>>19|w<<13)^(w>>>29|k<<3)^(k>>>6|w<<26))>>>16,A+=65535&(E=(w>>>19|k<<13)^(k>>>29|w<<3)^w>>>6),T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,O[S]=65535&A|T<<16,D[S]=65535&C|M<<16;C=65535&(_=z),M=_>>>16,A=65535&(E=I),T=E>>>16,E=t[0],M+=(_=e[0])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[0]=I=65535&A|T<<16,e[0]=z=65535&C|M<<16,C=65535&(_=H),M=_>>>16,A=65535&(E=N),T=E>>>16,E=t[1],M+=(_=e[1])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[1]=N=65535&A|T<<16,e[1]=H=65535&C|M<<16,C=65535&(_=F),M=_>>>16,A=65535&(E=P),T=E>>>16,E=t[2],M+=(_=e[2])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[2]=P=65535&A|T<<16,e[2]=F=65535&C|M<<16,C=65535&(_=q),M=_>>>16,A=65535&(E=L),T=E>>>16,E=t[3],M+=(_=e[3])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[3]=L=65535&A|T<<16,e[3]=q=65535&C|M<<16,C=65535&(_=V),M=_>>>16,A=65535&(E=R),T=E>>>16,E=t[4],M+=(_=e[4])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[4]=R=65535&A|T<<16,e[4]=V=65535&C|M<<16,C=65535&(_=$),M=_>>>16,A=65535&(E=B),T=E>>>16,E=t[5],M+=(_=e[5])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[5]=B=65535&A|T<<16,e[5]=$=65535&C|M<<16,C=65535&(_=K),M=_>>>16,A=65535&(E=j),T=E>>>16,E=t[6],M+=(_=e[6])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[6]=j=65535&A|T<<16,e[6]=K=65535&C|M<<16,C=65535&(_=W),M=_>>>16,A=65535&(E=U),T=E>>>16,E=t[7],M+=(_=e[7])>>>16,A+=65535&E,T+=E>>>16,T+=(A+=(M+=(C+=65535&_)>>>16)>>>16)>>>16,t[7]=U=65535&A|T<<16,e[7]=W=65535&C|M<<16,J+=128,r-=128}return r}function X(t,e,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,e,n),n%=128,r=0;r<n;r++)a[r]=e[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,p(a,n-8,s/536870912|0,s<<3),Y(i,o,a,n),r=0;r<8;r++)p(t,8*r,i[r],o[r]);return 0}function Z(t,n){var r=e(),i=e(),o=e(),a=e(),s=e(),c=e(),u=e(),f=e(),d=e();j(r,t[1],t[0]),j(d,n[1],n[0]),U(r,r,d),B(i,t[0],t[1]),B(d,n[0],n[1]),U(i,i,d),U(o,t[3],n[3]),U(o,o,l),U(a,t[2],n[2]),B(a,a,a),j(s,i,r),j(c,a,o),B(u,a,o),B(f,i,r),U(t[0],s,c),U(t[1],f,u),U(t[2],u,c),U(t[3],s,f)}function Q(t,e,n){var r;for(r=0;r<4;r++)I(t[r],e[r],n)}function tt(t,n){var r=e(),i=e(),o=e();H(o,n[2]),U(r,n[0],o),U(i,n[1],o),N(t,i),t[31]^=L(r)<<7}function et(t,e,n){var r,i;for(O(t[0],a),O(t[1],s),O(t[2],s),O(t[3],a),i=255;i>=0;--i)Q(t,e,r=n[i/8|0]>>(7&i)&1),Z(e,t),Z(t,t),Q(t,e,r)}function nt(t,n){var r=[e(),e(),e(),e()];O(r[0],f),O(r[1],d),O(r[2],s),U(r[3],f,d),et(t,r,n)}function rt(t,n,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||r(n,32),X(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,nt(s,a),tt(t,s),o=0;o<32;o++)n[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*it[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*it[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*it[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function at(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,n)}function st(t,n,r,i){var o,a,s=new Uint8Array(64),c=new Uint8Array(64),u=new Uint8Array(64),l=new Float64Array(64),f=[e(),e(),e(),e()];X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var d=r+64;for(o=0;o<r;o++)t[64+o]=n[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for(X(u,t.subarray(32),r+32),at(u),nt(f,u),tt(t,f),o=32;o<64;o++)t[o]=i[o];for(X(c,t,r+64),at(c),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=u[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=c[o]*s[a];return ot(t.subarray(32),l),d}function ct(t,n,r,i){var o,c=new Uint8Array(32),l=new Uint8Array(64),f=[e(),e(),e(),e()],d=[e(),e(),e(),e()];if(r<64)return-1;if(function(t,n){var r=e(),i=e(),o=e(),c=e(),l=e(),f=e(),d=e();return O(t[2],s),R(t[1],n),z(o,t[1]),U(c,o,u),j(o,o,t[2]),B(c,t[2],c),z(l,c),z(f,l),U(d,f,l),U(r,d,o),U(r,r,c),F(r,r),U(r,r,o),U(r,r,c),U(r,r,c),U(t[0],r,c),z(i,t[0]),U(i,i,c),P(i,o)&&U(t[0],t[0],h),z(i,t[0]),U(i,i,c),P(i,o)?-1:(L(t[0])===n[31]>>7&&j(t[0],a,t[0]),U(t[3],t[0],t[1]),0)}(d,i))return-1;for(o=0;o<r;o++)t[o]=n[o];for(o=0;o<32;o++)t[o+32]=i[o];if(X(l,t,r),at(l),et(f,d,l),nt(d,n.subarray(32)),Z(f,d),tt(c,f),r-=64,g(n,0,c,0)){for(o=0;o<r;o++)t[o]=0;return-1}for(o=0;o<r;o++)t[o]=n[o+64];return r}function ut(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function lt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ft(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:S,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:x,crypto_onetimeauth:C,crypto_onetimeauth_verify:M,crypto_verify_16:v,crypto_verify_32:g,crypto_secretbox:A,crypto_secretbox_open:T,crypto_scalarmult:q,crypto_scalarmult_base:V,crypto_box_beforenm:K,crypto_box_afternm:W,crypto_box:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),W(t,e,n,r,a)},crypto_box_open:function(t,e,n,r,i,o){var a=new Uint8Array(32);return K(a,i,o),J(t,e,n,r,a)},crypto_box_keypair:$,crypto_hash:X,crypto_sign:st,crypto_sign_keypair:rt,crypto_sign_open:ct,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:u,L:it,pack25519:N,unpack25519:R,M:U,A:B,S:z,Z:j,pow2523:F,add:Z,set25519:O,modL:ot,scalarmult:et,scalarbase:nt},t.randomBytes=function(t){var e=new Uint8Array(t);return r(e,t),e},t.secretbox=function(t,e,n){lt(t,e,n),ut(n,e);for(var r=new Uint8Array(32+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+32]=t[o];return A(i,r,r.length,e,n),i.subarray(16)},t.secretbox.open=function(t,e,n){lt(t,e,n),ut(n,e);for(var r=new Uint8Array(16+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+16]=t[o];return r.length<32?null:0!==T(i,r,r.length,e,n)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(lt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var n=new Uint8Array(32);return q(n,t,e),n},t.scalarMult.base=function(t){if(lt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return V(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){lt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var n=new Uint8Array(32);return K(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(lt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return V(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(lt(t,e),64!==e.length)throw new Error("bad secret key size");var n=new Uint8Array(64+t.length);return st(n,t,t.length,e),n},t.sign.open=function(t,e){if(lt(t,e),32!==e.length)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=ct(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if(lt(t,e,n),64!==e.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var r,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(r=0;r<64;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+64]=t[r];return ct(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return rt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(lt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(lt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),n=new Uint8Array(64),r=0;r<32;r++)n[r]=t[r];return rt(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){lt(t);var e=new Uint8Array(64);return X(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return lt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){r=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)e.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)t[r]=i[r];ft(i)}))}else(e=n(257))&&e.randomBytes&&t.setPRNG((function(t,n){var r,i=e.randomBytes(n);for(r=0;r<n;r++)t[r]=i[r];ft(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,n){"use strict";(function(e,r){var i=n(4).Buffer,o=e.crypto||e.msCrypto;o&&o.getRandomValues?t.exports=function(t,e){if(t>4294967295)throw new RangeError("requested too many random bytes");var n=i.allocUnsafe(t);if(t>0)if(t>65536)for(var a=0;a<t;a+=65536)o.getRandomValues(n.slice(a,a+65536));else o.getRandomValues(n);if("function"==typeof e)return r.nextTick((function(){e(null,n)}));return n}:t.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}).call(this,n(15),n(16))},function(t,e,n){"use strict";var r=n(67),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";var r=n(113),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function a(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!a(t)&&null!==t.constructor&&!a(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,f=-1;function d(){l&&c&&(l=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!l){var t=s(d);l=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var r=e,i=n(8),o=n(17),a=n(98);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(t,e,n){var r=new Array(Math.max(t.bitLength(),n)+1);r.fill(0);for(var i=1<<e+1,o=t.clone(),a=0;a<r.length;a++){var s,c=o.andln(i-1);o.isOdd()?(s=c>(i>>1)-1?(i>>1)-c:c,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o,a,s,c=t.andln(3)+r&3,u=e.andln(3)+i&3;if(3===c&&(c=-1),3===u&&(u=-1),0==(1&c))o=0;else o=3!==(s=t.andln(7)+r&7)&&5!==s||2!==u?c:-c;if(n[0].push(o),0==(1&u))a=0;else a=3!==(s=e.andln(7)+i&7)&&5!==s||2!==c?u:-u;n[1].push(a),2*r===o+1&&(r=1-r),2*i===a+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n},r.cachedProperty=function(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new i(t,"hex","le")}},function(t,e,n){"use strict";(function(e){var r=n(146),i=n(147),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/,c=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(t){return(t||"").toString().replace(c,"")}var l=[["#","hash"],["?","query"],function(t,e){return h(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function d(t){var n,r=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},i={},a=typeof(t=t||r);if("blob:"===t.protocol)i=new m(unescape(t.pathname),{});else if("string"===a)for(n in i=new m(t,{}),f)delete i[n];else if("object"===a){for(n in t)n in f||(i[n]=t[n]);void 0===i.slashes&&(i.slashes=o.test(t.href))}return i}function h(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function p(t,e){t=u(t),e=e||{};var n,r=a.exec(t),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],c=0;return o?s?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):s?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===i?c>=2&&(n=n.slice(2)):h(i)?n=r[4]:i?o&&(n=n.slice(2)):c>=2&&h(e.protocol)&&(n=r[4]),{protocol:i,slashes:o||h(i),slashesCount:c,rest:n}}function m(t,e,n){if(t=u(t),!(this instanceof m))return new m(t,e,n);var o,a,c,f,v,g,y=l.slice(),b=typeof e,w=this,k=0;for("object"!==b&&"string"!==b&&(n=e,e=null),n&&"function"!=typeof n&&(n=i.parse),o=!(a=p(t||"",e=d(e))).protocol&&!a.slashes,w.slashes=a.slashes||o&&e.slashes,w.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||s.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!h(w.protocol)))&&(y[3]=[/(.*)/,"pathname"]);k<y.length;k++)"function"!=typeof(f=y[k])?(c=f[0],g=f[1],c!=c?w[g]=t:"string"==typeof c?~(v=t.indexOf(c))&&("number"==typeof f[2]?(w[g]=t.slice(0,v),t=t.slice(v+f[2])):(w[g]=t.slice(v),t=t.slice(0,v))):(v=c.exec(t))&&(w[g]=v[1],t=t.slice(0,v.index)),w[g]=w[g]||o&&f[3]&&e[g]||"",f[4]&&(w[g]=w[g].toLowerCase())):t=f(t,w);n&&(w.query=n(w.query)),o&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&h(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(f=w.auth.split(":"),w.username=f[0]||"",w.password=f[1]||""),w.origin="file:"!==w.protocol&&h(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}m.prototype={set:function(t,e,n){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||i.parse)(e)),o[t]=e;break;case"port":o[t]=e,r(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,/:\d+$/.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";o[t]=e.charAt(0)!==a?a+e:e}else o[t]=e;break;default:o[t]=e}for(var s=0;s<l.length;s++){var c=l[s];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin="file:"!==o.protocol&&h(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=i.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes||h(n.protocol)?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(o+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(o+=n.hash),o}},m.extractProtocol=p,m.location=d,m.trimLeft=u,m.qs=i,t.exports=m}).call(this,n(15))},function(t,e,n){"use strict";var r=n(17),i=n(3);function o(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function a(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function s(t){return 1===t.length?"0"+t:t}function c(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(var r=0,i=0;i<t.length;i++){var a=t.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(t,i)?(a=65536+((1023&a)<<10)+(1023&t.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<t.length;i++)n[i]=0|t[i];return n},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e},e.htonl=a,e.toHex32=function(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=a(i)),n+=c(i.toString(16))}return n},e.zero2=s,e.zero8=c,e.join32=function(t,e,n,i){var o=n-e;r(o%4==0);for(var a=new Array(o/4),s=0,c=e;s<a.length;s++,c+=4){var u;u="big"===i?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],a[s]=u>>>0}return a},e.split32=function(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,r){return t+e+n+r>>>0},e.sum32_5=function(t,e,n,r,i){return t+e+n+r+i>>>0},e.sum64=function(t,e,n,r){var i=t[e],o=r+t[e+1]>>>0,a=(o<r?1:0)+n+i;t[e]=a>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,r){return e+r>>>0},e.sum64_4_hi=function(t,e,n,r,i,o,a,s){var c=0,u=e;return c+=(u=u+r>>>0)<e?1:0,c+=(u=u+o>>>0)<o?1:0,t+n+i+a+(c+=(u=u+s>>>0)<s?1:0)>>>0},e.sum64_4_lo=function(t,e,n,r,i,o,a,s){return e+r+o+s>>>0},e.sum64_5_hi=function(t,e,n,r,i,o,a,s,c,u){var l=0,f=e;return l+=(f=f+r>>>0)<e?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,t+n+i+a+c+(l+=(f=f+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,n,r,i,o,a,s,c,u){return e+r+o+s+u>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return Me})),n.d(e,"b",(function(){return De})),n.d(e,"c",(function(){return Fe}));var r=n(1),i=n(0),o=n(2),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var s=/Edge\/(\d+)/.exec(navigator.userAgent),c=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=a.ie=!!(c||u||s);a.ie_version=c?document.documentMode||6:u?+u[1]:s?+s[1]:null,a.gecko=!l&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var f=!l&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!f,a.chrome_version=f&&+f[1],a.safari=!l&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),a.mac=a.ios||/Mac/.test(navigator.platform),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var d=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},h=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},p=null,m=function(t,e,n){var r=p||(p=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},v=function(t,e,n,r){return n&&(y(t,e,n,r,-1)||y(t,e,n,r,1))},g=/^(img|br|input|textarea|hr)$/i;function y(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:b(t))){var o=t.parentNode;if(1!=o.nodeType||w(t)||g.test(t.nodeName)||"false"==t.contentEditable)return!1;e=d(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?b(t):0}}}function b(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function w(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var k=function(t){var e=t.isCollapsed;return e&&a.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function x(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function S(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function E(t,e){return"number"==typeof t?t:t[e]}function _(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function C(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,a=n||t.dom;a;a=h(a))if(1==a.nodeType){var s=a==o.body||1!=a.nodeType,c=s?S(o):_(a),u=0,l=0;if(e.top<c.top+E(r,"top")?l=-(c.top-e.top+E(i,"top")):e.bottom>c.bottom-E(r,"bottom")&&(l=e.bottom-c.bottom+E(i,"bottom")),e.left<c.left+E(r,"left")?u=-(c.left-e.left+E(i,"left")):e.right>c.right-E(r,"right")&&(u=e.right-c.right+E(i,"right")),u||l)if(s)o.defaultView.scrollBy(u,l);else{var f=a.scrollLeft,d=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var p=a.scrollLeft-f,m=a.scrollTop-d;e={left:e.left-p,top:e.top-m,right:e.right-p,bottom:e.bottom-m}}if(s)break}}function M(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=h(t));return e}function A(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,a=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}var T=null;function O(t,e){for(var n,r,i=2e8,o=0,a=e.top,s=e.top,c=t.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=m(c).getClientRects()}for(var f=0;f<l.length;f++){var d=l[f];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<i){n=c,i=h,r=h&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==c.nodeType&&h&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=N(r,1);if(o.top!=o.bottom&&D(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:O(n,r)}function D(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function I(t,e){var n,r,i,o,s=t.dom.ownerDocument;if(s.caretPositionFromPoint)try{var c=s.caretPositionFromPoint(e.left,e.top);c&&(i=(n=c).offsetNode,o=n.offset)}catch(t){}if(!i&&s.caretRangeFromPoint){var u=s.caretRangeFromPoint(e.left,e.top);u&&(i=(r=u).startContainer,o=r.startOffset)}var l,f=(t.root.elementFromPoint?t.root:s).elementFromPoint(e.left,e.top+1);if(!f||!t.dom.contains(1!=f.nodeType?f.parentNode:f)){var d=t.dom.getBoundingClientRect();if(!D(e,d))return null;if(!(f=function t(e,n,r){var i=e.childNodes.length;if(i&&r.top<r.bottom)for(var o=Math.max(0,Math.min(i-1,Math.floor(i*(n.top-r.top)/(r.bottom-r.top))-2)),a=o;;){var s=e.childNodes[a];if(1==s.nodeType)for(var c=s.getClientRects(),u=0;u<c.length;u++){var l=c[u];if(D(n,l))return t(s,n,l)}if((a=(a+1)%i)==o)break}return e}(t.dom,e,d)))return null}if(a.safari)for(var p=f;i&&p;p=h(p))p.draggable&&(i=o=null);if(f=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(f,e),i){if(a.gecko&&1==i.nodeType&&(o=Math.min(o,i.childNodes.length))<i.childNodes.length){var m,v=i.childNodes[o];"IMG"==v.nodeName&&(m=v.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&o++}i==t.dom&&o==i.childNodes.length-1&&1==i.lastChild.nodeType&&e.top>i.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:0!=o&&1==i.nodeType&&"BR"==i.childNodes[o-1].nodeName||(l=function(t,e,n,r){for(var i=-1,o=e;o!=t.dom;){var a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)i=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;i=a.posAfter}}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n)}(t,i,o,e))}null==l&&(l=function(t,e,n){var r=O(e,n),i=r.node,o=r.offset,a=-1;if(1==i.nodeType&&!i.firstChild){var s=i.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(i,o,a)}(t,f,e));var g=t.docView.nearestDesc(f,!0);return{pos:l,inside:g?g.posAtStart-g.border:-1}}function N(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var P=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function L(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),i=r.node,o=r.offset,s=a.webkit||a.gecko;if(3==i.nodeType){if(!s||!P.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var c=o,u=o,l=n<0?1:-1;return n<0&&!o?(u++,l=-1):n>=0&&o==i.nodeValue.length?(c--,l=1):n<0?c--:u++,R(N(m(i,c,u),l),l<0)}var f=N(m(i,o,o),n);if(a.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var d=N(m(i,o-1,o-1),-1);if(d.top==f.top){var h=N(m(i,o,o+1),-1);if(h.top!=f.top)return R(h,h.left<d.left)}}return f}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(n<0||o==b(i))){var p=i.childNodes[o-1];if(1==p.nodeType)return B(p.getBoundingClientRect(),!1)}if(o<b(i)){var v=i.childNodes[o];if(1==v.nodeType)return B(v.getBoundingClientRect(),!0)}return B(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==b(i))){var g=i.childNodes[o-1],y=3==g.nodeType?m(g,b(g)-(s?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return R(N(y,1),!1)}if(o<b(i)){for(var w=i.childNodes[o];w.pmViewDesc&&w.pmViewDesc.ignoreForCoords;)w=w.nextSibling;var k=w?3==w.nodeType?m(w,0,s?0:1):1==w.nodeType?w:null:null;if(k)return R(N(k,-1),!0)}return R(N(3==i.nodeType?m(i):i,-n),n>=0)}function R(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function B(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function j(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}var U=/[\u0590-\u08ac]/;var z=null,H=null,F=!1;function q(t,e,n){return z==e&&H==n?F:(z=e,H=n,F="up"==n||"down"==n?function(t,e,n){var r=e.selection,i="up"==n?r.$from:r.$to;return j(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var o=L(t,i.pos,1),a=e.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=m(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var u=s[c];if(u.bottom>u.top+1&&("up"==n?o.top-u.top>2*(u.bottom-o.top):u.bottom-o.bottom>2*(o.bottom-u.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.root.getSelection();return U.test(r.parent.textContent)&&s.modify?j(t,e,(function(){var e=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(e),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?o:a}(t,e,n))}var V=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},$={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};V.prototype.matchesWidget=function(){return!1},V.prototype.matchesMark=function(){return!1},V.prototype.matchesNode=function(){return!1},V.prototype.matchesHack=function(t){return!1},V.prototype.parseRule=function(){return null},V.prototype.stopEvent=function(){return!1},$.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},$.border.get=function(){return 0},V.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},V.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},$.posBefore.get=function(){return this.parent.posBeforeChild(this)},$.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},$.posAfter.get=function(){return this.posBefore+this.size},$.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},V.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,a;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(t==this.dom&&this.contentDOM)s=e>d(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&e==t.childNodes.length)for(var u=t;;u=u.parentNode){if(u==this.dom){s=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},V.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i&&(!e||i.node)){if(!n||!i.nodeDOM||(1==i.nodeDOM.nodeType?i.nodeDOM.contains(1==t.nodeType?t:t.parentNode):i.nodeDOM==t))return i;n=!1}}},V.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},V.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1},V.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}},V.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,i=0;n<this.children.length;n++){var o=this.children[n],a=i+o.size;if(a>t||o instanceof Q){r=t-i;break}i=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,e);for(var s=void 0;n&&!(s=this.children[n-1]).size&&s instanceof W&&s.widget.type.side>=0;n--);if(e<=0){for(var c,u=!0;(c=n?this.children[n-1]:null)&&c.dom.parentNode!=this.contentDOM;n--,u=!1);return c&&e&&u&&!c.border&&!c.domAtom?c.domFromPos(c.size,e):{node:this.contentDOM,offset:c?d(c.dom)+1:0}}for(var l,f=!0;(l=n<this.children.length?this.children[n]:null)&&l.dom.parentNode!=this.contentDOM;n++,f=!1);return l&&f&&!l.border&&!l.domAtom?l.domFromPos(0,e):{node:this.contentDOM,offset:l?d(l.dom):this.contentDOM.childNodes.length}},V.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,a=0;;a++){var s=this.children[a],c=o+s.size;if(-1==r&&t<=c){var u=o+s.border;if(t>=u&&e<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,e,u);t=o;for(var l=a;l>0;l--){var f=this.children[l-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){r=d(f.dom)+1;break}t-=f.size}-1==r&&(r=0)}if(r>-1&&(c>e||a==this.children.length-1)){e=c;for(var h=a+1;h<this.children.length;h++){var p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=d(p.dom);break}e+=p.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}},V.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},V.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},V.prototype.setSelection=function(t,e,n,r){for(var i=Math.min(t,e),o=Math.max(t,e),s=0,c=0;s<this.children.length;s++){var u=this.children[s],l=c+u.size;if(i>c&&o<l)return u.setSelection(t-c-u.border,e-c-u.border,n,r);c=l}var f=this.domFromPos(t,t?-1:1),h=e==t?f:this.domFromPos(e,e?-1:1),p=n.getSelection(),m=!1;if((a.gecko||a.safari)&&t==e){var g=f.node,y=f.offset;if(3==g.nodeType){if((m=y&&"\n"==g.nodeValue[y-1])&&y==g.nodeValue.length)for(var b=g,w=void 0;b;b=b.parentNode){if(w=b.nextSibling){"BR"==w.nodeName&&(f=h={node:w.parentNode,offset:d(w)+1});break}var k=b.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{var x=g.childNodes[y-1];m=x&&("BR"==x.nodeName||"false"==x.contentEditable)}}if(a.gecko&&p.focusNode&&p.focusNode!=h.node&&1==p.focusNode.nodeType){var S=p.focusNode.childNodes[p.focusOffset];S&&"false"==S.contentEditable&&(r=!0)}if(r||m&&a.safari||!v(f.node,f.offset,p.anchorNode,p.anchorOffset)||!v(h.node,h.offset,p.focusNode,p.focusOffset)){var E=!1;if((p.extend||t==e)&&!m){p.collapse(f.node,f.offset);try{t!=e&&p.extend(h.node,h.offset),E=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!E){if(t>e){var _=f;f=h,h=_}var C=document.createRange();C.setEnd(h.node,h.offset),C.setStart(f.node,f.offset),p.removeAllRanges(),p.addRange(C)}}},V.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},$.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},V.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var a=n+i.border,s=o-i.border;if(t>=a&&e<=s)return this.dirty=t==n||e==o?2:1,void(t!=a||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-a,e-a):i.dirty=3);i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM?2:3}n=o}this.dirty=2},V.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},$.domAtom.get=function(){return!1},$.ignoreForCoords.get=function(){return!1},Object.defineProperties(V.prototype,$);var K=[],W=function(t){function e(e,n,r,i){var o,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:i}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}t.call(this,e,K,a,null),this.widget=n,o=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},e.prototype.destroy=function(){this.widget.type.destroy(this.dom),t.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(V),J=function(t){function e(e,n,r,i){t.call(this,e,K,n,null),this.textDOM=r,this.text=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(V),G=function(t){function e(e,n,r,i){t.call(this,e,[],r,i),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var a=o.nodeViews[n.type.name],s=a&&a(n,o,r);return s&&s.dom||(s=i.b.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var i=e.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;n<a&&(o=ft(o,n,a,r)),t>0&&(o=ft(o,0,t,r));for(var s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i},e}(V),Y=function(t){function e(e,n,r,i,o,a,s,c,u){t.call(this,e,n.isLeaf?K:[],o,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=i,a&&this.updateChildren(c,u)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,a,s){var c,u,l=a.nodeViews[n.type.name],f=l&&l(n,a,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:s}),r,o),d=f&&f.dom,h=f&&f.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(c=i.b.renderSpec(document,n.type.spec.toDOM(n))).dom,h=c.contentDOM);h||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var p=d;return d=at(d,r,n),f?u=new tt(t,n,r,o,d,h,p,f,a,s+1):n.isText?new Z(t,n,r,o,d,p,a):new e(t,n,r,o,d,h,p,a,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i.c.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&st(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,s=t.composing&&this.localCompositionInfo(t,e),c=s&&s.pos>-1?s:null,u=s&&s.pos<0,l=new ut(this,c&&c.node);!function(t,e,n,r){var i=e.locals(t),o=0;if(0==i.length){for(var a=0;a<t.childCount;a++){var s=t.child(a);r(s,i,e.forChild(o,s),a),o+=s.nodeSize}return}for(var c=0,u=[],l=null,f=0;;){if(c<i.length&&i[c].to==o){for(var d=i[c++],h=void 0;c<i.length&&i[c].to==o;)(h||(h=[d])).push(i[c++]);if(h){h.sort(lt);for(var p=0;p<h.length;p++)n(h[p],f,!!l)}else n(d,f,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(f<t.childCount))break;v=f,m=t.child(f++)}for(var g=0;g<u.length;g++)u[g].to<=o&&u.splice(g--,1);for(;c<i.length&&i[c].from<=o&&i[c].to>o;)u.push(i[c++]);var y=o+m.nodeSize;if(m.isText){var b=y;c<i.length&&i[c].from<b&&(b=i[c].from);for(var w=0;w<u.length;w++)u[w].to<b&&(b=u[w].to);b<y&&(l=m.cut(b-o),m=m.cut(0,b-o),y=b,v=-1)}var k=u.length?m.isInline&&!m.isLeaf?u.filter((function(t){return!t.inline})):u.slice():K;r(m,k,e.forChild(o,m),v),o=y}}(this.node,this.innerDeco,(function(e,a,s){e.spec.marks?l.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!s&&l.syncToMarks(a==n.node.childCount?i.d.none:n.node.child(a).marks,r,t),l.placeWidget(e,t,o)}),(function(e,n,i,a){var c;l.syncToMarks(e.marks,r,t),l.findNodeMatch(e,n,i,a)||u&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(c=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(e,n,i,c,t)||l.updateNextNode(e,n,i,t,a)||l.addNode(e,n,i,t,o),o+=e.nodeSize})),l.syncToMarks(K,r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(c&&this.protectLocalComposition(t,c),function t(e,n,r){for(var i=e.firstChild,o=!1,a=0;a<n.length;a++){var s=n[a],c=s.dom;if(c.parentNode==e){for(;c!=i;)i=ct(i),o=!0;i=i.nextSibling}else o=!0,e.insertBefore(c,i);if(s instanceof G){var u=i?i.previousSibling:e.lastChild;t(s.contentDOM,s.children,r),i=u?u.nextSibling:e.firstChild}}for(;i;)i=ct(i),o=!0;o&&r.trackWrites==e&&(r.trackWrites=null)}(this.contentDOM,this.children,t),a.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,i=n.from,o=n.to;if(!(!(t.state.selection instanceof r.h)||i<e||o>e+this.node.content.size)){var a=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=b(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var c=s.nodeValue,u=function(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var a=t.child(i++),s=o;if(o+=a.nodeSize,a.isText){for(var c=a.text;i<t.childCount;){var u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;c+=u.text}if(o>=n){var l=c.lastIndexOf(e,r-s);if(l>=0&&l+e.length+s>=n)return s+l}}}return-1}(this.node.content,c,i-e,o-e);return u<0?null:{node:s,pos:u,text:c}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var a=new J(this,o,n,i);t.compositionNodes.push(a),this.children=ft(this.children,r,r+i.length,t,a)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!st(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=it(this.dom,this.nodeDOM,rt(this.outerDeco,this.node,e),rt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(V);function X(t,e,n,r,i){return at(r,e,t),new Y(null,t,e,n,r,r,r,i,0)}var Z=function(t){function e(e,n,r,i,o,a,s){t.call(this,e,n,r,i,o,null,a,s)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var i=this.node.cut(t,n),o=document.createTextNode(i.text);return new e(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(Y),Q=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(e.prototype,n),e}(V),tt=function(t){function e(e,n,r,i,o,a,s,c,u,l){t.call(this,e,n,r,i,o,a,s,u,l),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,i){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,i)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,i)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(Y);function et(t){t&&(this.nodeName=t)}et.prototype=Object.create(null);var nt=[new et];function rt(t,e,n){if(0==t.length)return nt;for(var r=n?nt[0]:new et,i=[r],o=0;o<t.length;o++){var a=t[o].type.attrs;if(a)for(var s in a.nodeName&&i.push(r=new et(a.nodeName)),a){var c=a[s];null!=c&&(n&&1==i.length&&i.push(r=new et(e.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+c:"style"==s?r.style=(r.style?r.style+";":"")+c:"nodeName"!=s&&(r[s]=c))}}return i}function it(t,e,n,r){if(n==nt&&r==nt)return e;for(var i=e,o=0;o<r.length;o++){var a=r[o],s=n[o];if(o){var c=void 0;s&&s.nodeName==a.nodeName&&i!=t&&(c=i.parentNode)&&c.tagName.toLowerCase()==a.nodeName?i=c:((c=document.createElement(a.nodeName)).pmIsDeco=!0,c.appendChild(i),s=nt[0],i=c)}ot(i,s||nt[0],a)}return i}function ot(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" ").filter(Boolean):K,a=n.class?n.class.split(" ").filter(Boolean):K,s=0;s<o.length;s++)-1==a.indexOf(o[s])&&t.classList.remove(o[s]);for(var c=0;c<a.length;c++)-1==o.indexOf(a[c])&&t.classList.add(a[c]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(e.style);)t.style.removeProperty(u[1]);n.style&&(t.style.cssText+=n.style)}}function at(t,e,n){return it(t,t,nt,rt(e,n,1!=t.nodeType))}function st(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function ct(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var ut=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){for(var n=t.childCount,r=e.length,i=new Map;n>0&&r>0;r--){var o=e[r-1],a=o.node;if(a){if(a!=t.child(n-1))break;--n,i.set(o,n)}}return{index:n,matched:i}}(t.node.content,t.children)};function lt(t,e){return t.type.side-e.type.side}function ft(t,e,n,r,i){for(var o=[],a=0,s=0;a<t.length;a++){var c=t[a],u=s,l=s+=c.size;u>=n||l<=e?o.push(c):(u<e&&o.push(c.slice(0,e-u,r)),i&&(o.push(i),i=null),l>n&&o.push(c.slice(n-u,c.size,r)))}return o}function dt(t,e){var n=t.root.getSelection(),i=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),a=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var c,u,l=i.resolve(s);if(k(n)){for(c=l;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&r.c.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var r=0==e,i=e==b(t);r||i;){if(t==n)return!0;var o=d(t);if(!(t=t.parentNode))return!1;r=r&&0==o,i=i&&o==b(t)}}(n.focusNode,n.focusOffset,o.dom))){var f=o.posBefore;u=new r.c(s==f?l:i.resolve(f))}}else{var h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(h<0)return null;c=i.resolve(h)}u||(u=kt(t,c,l,"pointer"==e||t.state.selection.head<l.pos&&!a?1:-1));return u}function ht(t){return t.editable?t.hasFocus():xt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function pt(t,e){var n=t.state.selection;if(bt(t,n),ht(t)){if(!e&&t.mouseDown&&t.mouseDown.allowDefault)return t.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection();if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,d(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var i,o,s=n.anchor,c=n.head;!mt||n instanceof r.h||(n.$from.parent.inlineContent||(i=vt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=vt(t,n.to))),t.docView.setSelection(s,c,t.root,e),mt&&(i&&yt(i),o&&yt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){ht(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}ut.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},ut.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},ut.prototype.syncToMarks=function(t,e,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(t[i])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=G.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}},ut.prototype.findNodeMatch=function(t,e,n,r){var i=this.top.children,o=-1;if(r>=this.preMatch.index){for(var a=this.index;a<i.length;a++)if(this.preMatch.matched.get(i[a])==r){i[a].matchesNode(t,e,n)&&(o=a);break}}else for(var s=this.index,c=Math.min(i.length,s+1);s<c;s++){var u=i[s];if(u.matchesNode(t,e,n)&&!this.preMatch.matched.has(u)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},ut.prototype.updateNodeAt=function(t,e,n,r,i){return!!this.top.children[r].update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},ut.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},ut.prototype.updateNextNode=function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var a=this.top.children[o];if(a instanceof Y){var s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;var c=a.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&st(e,a.outerDeco)))&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},ut.prototype.addNode=function(t,e,n,r,i){this.top.children.splice(this.index++,0,Y.create(this.top,t,e,n,r,i)),this.changed=!0},ut.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new W(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++},ut.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof G;)t=t.children[t.children.length-1];t&&t instanceof Z&&!/\n$/.test(t.node.text)||((a.safari||a.chrome)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},ut.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);"IMG"==t&&(e.className="ProseMirror-separator"),"BR"==t&&(e.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new Q(this.top,K,e,null)),this.changed=!0}};var mt=a.safari||a.chrome&&a.chrome_version<63;function vt(t,e){var n=t.docView.domFromPos(e,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,s=i?r.childNodes[i-1]:null;if(a.safari&&o&&"false"==o.contentEditable)return gt(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return gt(o);if(s)return gt(s)}}function gt(t){return t.contentEditable="true",a.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function yt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function bt(t,e){if(e instanceof r.c){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(wt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else wt(t)}function wt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function kt(t,e,n,i){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||r.h.between(e,n,i)}function xt(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function St(t,e){var n=t.selection,i=n.$anchor,o=n.$head,a=e>0?i.max(o):i.min(o),s=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return s&&r.f.findFrom(s,e)}function Et(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function _t(t,e,n){var i=t.state.selection;if(!(i instanceof r.h)){if(i instanceof r.c&&i.node.isInline)return Et(t,new r.h(e>0?i.$to:i.$from));var o=St(t.state,e);return!!o&&Et(t,o)}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var s=St(t.state,e);return!!(s&&s instanceof r.c)&&Et(t,s)}if(!(a.mac&&n.indexOf("m")>-1)){var c,u=i.$head,l=u.textOffset?null:e<0?u.nodeBefore:u.nodeAfter;if(!l||l.isText)return!1;var f=e<0?u.pos-l.nodeSize:u.pos;return!!(l.isAtom||(c=t.docView.descAt(f))&&!c.contentDOM)&&(r.c.isSelectable(l)?Et(t,new r.c(e<0?t.state.doc.resolve(u.pos-l.nodeSize):u)):!!a.webkit&&Et(t,new r.h(t.state.doc.resolve(e<0?f:f+l.nodeSize))))}}function Ct(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Mt(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function At(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,s=!1;for(a.gecko&&1==n.nodeType&&r<Ct(n)&&Mt(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var c=n.childNodes[r-1];if(Mt(c))i=n,o=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(Ot(n))break;for(var u=n.previousSibling;u&&Mt(u);)i=n.parentNode,o=d(u),u=u.previousSibling;if(u)r=Ct(n=u);else{if((n=n.parentNode)==t.dom)break;r=0}}s?Dt(t,e,n,r):i&&Dt(t,e,i,o)}}function Tt(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,a=Ct(n);;)if(r<a){if(1!=n.nodeType)break;if(!Mt(n.childNodes[r]))break;i=n,o=++r}else{if(Ot(n))break;for(var s=n.nextSibling;s&&Mt(s);)i=s.parentNode,o=d(s)+1,s=s.nextSibling;if(s)r=0,a=Ct(n=s);else{if((n=n.parentNode)==t.dom)break;r=a=0}}i&&Dt(t,e,i,o)}}function Ot(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Dt(t,e,n,r){if(k(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&pt(t)}),50)}function It(t,e,n){var i=t.state.selection;if(i instanceof r.h&&!i.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var o=i.$from,s=i.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var c=St(t.state,e);if(c&&c instanceof r.c)return Et(t,c)}if(!o.parent.inlineContent){var u=e<0?o:s,l=i instanceof r.a?r.f.near(u,e):r.f.findFrom(u,e);return!!l&&Et(t,l)}return!1}function Nt(t,e){if(!(t.state.selection instanceof r.h))return!0;var n=t.state.selection,i=n.$head,o=n.$anchor,a=n.empty;if(!i.sameParent(o))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!i.textOffset&&(e<0?i.nodeBefore:i.nodeAfter);if(s&&!s.isText){var c=t.state.tr;return e<0?c.delete(i.pos-s.nodeSize,i.pos):c.delete(i.pos,i.pos+s.nodeSize),t.dispatch(c),!0}return!1}function Pt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Lt(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||a.mac&&72==n&&"c"==r?Nt(t,-1)||At(t):46==n||a.mac&&68==n&&"c"==r?Nt(t,1)||Tt(t):13==n||27==n||(37==n?_t(t,-1,r)||At(t):39==n?_t(t,1,r)||Tt(t):38==n?It(t,-1,r)||At(t):40==n?function(t){if(a.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;Pt(t,i,!0),setTimeout((function(){return Pt(t,i,!1)}),20)}}}(t)||It(t,1,r)||Tt(t):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Rt(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(a.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||a.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Bt(t,e,n,o,s){if(e<0){var c=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,u=dt(t,c);if(u&&!t.state.selection.eq(u)){var l=t.state.tr.setSelection(u);"pointer"==c?l.setMeta("pointer",!0):"key"==c&&l.scrollIntoView(),t.dispatch(l)}}else{var f=t.state.doc.resolve(e),d=f.sharedDepth(n);e=f.before(d+1),n=t.state.doc.resolve(n).after(d+1);var h=t.state.selection,p=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,s=r.fromOffset,c=r.toOffset,u=r.from,l=r.to,f=t.root.getSelection(),d=null,h=f.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(d=[{node:h,offset:f.anchorOffset}],k(f)||d.push({node:f.focusNode,offset:f.focusOffset})),a.chrome&&8===t.lastKeyCode)for(var p=c;p>s;p--){var m=o.childNodes[p-1],v=m.pmViewDesc;if("BR"==m.nodeName&&!v){c=p;break}if(!v||v.size)break}var g=t.state.doc,y=t.someProp("domParser")||i.a.fromSchema(t.state.schema),b=g.resolve(u),w=null,x=y.parse(o,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:s,to:c,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:d,ruleFromNode:Rt,context:b});if(d&&null!=d[0].pos){var S=d[0].pos,E=d[1]&&d[1].pos;null==E&&(E=S),w={anchor:S+u,head:E+u}}return{doc:x,sel:w,from:u,to:l}}(t,e,n);if(a.chrome&&t.cursorWrapper&&p.sel&&p.sel.anchor==t.cursorWrapper.deco.from){var m=t.cursorWrapper.deco.type.toDOM.nextSibling,v=m&&m.nodeValue?m.nodeValue.length:1;p.sel={anchor:p.sel.anchor+v,head:p.sel.anchor+v}}var g,y,b=t.state.doc,w=b.slice(p.from,p.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(g=t.state.selection.to,y="end"):(g=t.state.selection.from,y="start"),t.lastKeyCode=null;var S=function(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var a=t.findDiffEnd(e,n+t.size,n+e.size),s=a.a,c=a.b;if("end"==i){var u=Math.max(0,o-Math.min(s,c));r-=s+u-o}if(s<o&&t.size<e.size){c=(o-=r<=o&&r>=s?o-r:0)+(c-s),s=o}else if(c<o){s=(o-=r<=o&&r>=c?o-r:0)+(s-c),c=o}return{start:o,endA:s,endB:c}}(w.content,p.doc.content,p.from,g,y);if(!S){if(!(o&&h instanceof r.h&&!h.empty&&h.$head.sameParent(h.$anchor))||t.composing||p.sel&&p.sel.anchor!=p.sel.head){if((a.ios&&t.lastIOSEnter>Date.now()-225||a.android)&&s.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})))return void(t.lastIOSEnter=0);if(p.sel){var E=jt(t,t.state.doc,p.sel);E&&!E.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(E))}return}S={start:h.from,endA:h.to,endB:h.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&S.start==S.endB&&t.state.selection instanceof r.h&&(S.start>t.state.selection.from&&S.start<=t.state.selection.from+2?S.start=t.state.selection.from:S.endA<t.state.selection.to&&S.endA>=t.state.selection.to-2&&(S.endB+=t.state.selection.to-S.endA,S.endA=t.state.selection.to)),a.ie&&a.ie_version<=11&&S.endB==S.start+1&&S.endA==S.start&&S.start>p.from&&"  "==p.doc.textBetween(S.start-p.from-1,S.start-p.from+1)&&(S.start--,S.endA--,S.endB--);var _,C=p.doc.resolveNoCache(S.start-p.from),M=p.doc.resolveNoCache(S.endB-p.from),A=C.sameParent(M)&&C.parent.inlineContent;if((a.ios&&t.lastIOSEnter>Date.now()-225&&(!A||s.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!A&&C.pos<p.doc.content.size&&(_=r.f.findFrom(p.doc.resolve(C.pos+1),1,!0))&&_.head==M.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>S.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Ut(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=t.resolve(Ut(o,!0,!0));if(!a.parent.isTextblock||a.pos>n||Ut(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(b,S.start,S.endA,C,M)&&t.someProp("handleKeyDown",(function(e){return e(t,x(8,"Backspace"))})))a.android&&a.chrome&&t.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&S.toB==S.from&&(t.lastAndroidDelete=Date.now()),a.android&&!A&&C.start()!=M.start()&&0==M.parentOffset&&C.depth==M.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==S.endA&&(S.endB-=2,M=p.doc.resolveNoCache(S.endB-p.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))}))}),20));var T,O,D,I,N=S.start,P=S.endA;if(A)if(C.pos==M.pos)a.ie&&a.ie_version<=11&&0==C.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return pt(t)}),20)),T=t.state.tr.delete(N,P),O=b.resolve(S.start).marksAcross(b.resolve(S.endA));else if(S.endA==S.endB&&(I=b.resolve(S.start))&&(D=function(t,e){for(var n,r,o,a=t.firstChild.marks,s=e.firstChild.marks,c=a,u=s,l=0;l<s.length;l++)c=s[l].removeFromSet(c);for(var f=0;f<a.length;f++)u=a[f].removeFromSet(u);if(1==c.length&&0==u.length)r=c[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=c.length||1!=u.length)return null;r=u[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var d=[],h=0;h<e.childCount;h++)d.push(o(e.child(h)));if(i.c.from(d).eq(t))return{mark:r,type:n}}(C.parent.content.cut(C.parentOffset,M.parentOffset),I.parent.content.cut(I.parentOffset,S.endA-I.start()))))T=t.state.tr,"add"==D.type?T.addMark(N,P,D.mark):T.removeMark(N,P,D.mark);else if(C.parent.child(C.index()).isText&&C.index()==M.index()-(M.textOffset?0:1)){var L=C.parent.textBetween(C.parentOffset,M.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,N,P,L)})))return;T=t.state.tr.insertText(L,N,P)}if(T||(T=t.state.tr.replace(N,P,p.doc.slice(S.start-p.from,S.endB-p.from))),p.sel){var R=jt(t,T.doc,p.sel);R&&!(a.chrome&&a.android&&t.composing&&R.empty&&(S.start!=S.endB||t.lastAndroidDelete<Date.now()-100)&&(R.head==N||R.head==T.mapping.map(P)-1)||a.ie&&R.empty&&R.head==N)&&T.setSelection(R)}O&&T.ensureMarks(O),t.dispatch(T.scrollIntoView())}}}function jt(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:kt(t,e.resolve(n.anchor),e.resolve(n.head))}function Ut(t,e,n){for(var r=t.depth,i=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n)for(var o=t.node(r).maybeChild(t.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function zt(t,e){for(var n=[],r=e.content,o=e.openStart,a=e.openEnd;o>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,a--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var c=t.someProp("clipboardSerializer")||i.b.fromSchema(t.state.schema),u=Wt(),l=u.createElement("div");l.appendChild(c.serializeFragment(r,{document:u}));for(var f,d=l.firstChild;d&&1==d.nodeType&&(f=$t[d.nodeName.toLowerCase()]);){for(var h=f.length-1;h>=0;h--){for(var p=u.createElement(f[h]);l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),"tbody"!=f[h]&&(o++,a++)}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",o+" "+a+" "+JSON.stringify(n)),{dom:l,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function Ht(t,e,n,r,o){var s,c,u=o.parent.type.spec.code;if(!n&&!e)return null;var l=e&&(r||u||!n);if(l){if(t.someProp("transformPastedText",(function(t){e=t(e,u||r)})),u)return e?new i.j(i.c.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i.j.empty;var f=t.someProp("clipboardTextParser",(function(t){return t(e,o,r)}));if(f)c=f;else{var d=o.marks(),h=t.state.schema,p=i.b.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((function(t){var e=s.appendChild(document.createElement("p"));t&&e.appendChild(p.serializeNode(h.text(t,d)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=Wt().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(n=i&&$t[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""));if(r.innerHTML=t,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}(n),a.webkit&&function(t){for(var e=t.querySelectorAll(a.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(s);var m=s&&s.querySelector("[data-pm-slice]"),v=m&&/^(\d+) (\d+) (.*)/.exec(m.getAttribute("data-pm-slice"));if(!c){var g=t.someProp("clipboardParser")||t.someProp("domParser")||i.a.fromSchema(t.state.schema);c=g.parseSlice(s,{preserveWhitespace:!(!l&&!v),context:o,ruleFromNode:function(t){if("BR"==t.nodeName&&!t.nextSibling)return{ignore:!0}}})}if(v)c=function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,a=t.openStart,s=t.openEnd,c=n.length-2;c>=0;c-=2){var u=r.nodes[n[c]];if(!u||u.hasRequiredAttrs())break;o=i.c.from(u.create(n[c+1],o)),a++,s++}return new i.j(o,a,s)}(Vt(c,+v[1],+v[2]),v[3]);else if((c=i.j.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,a=[];if(t.forEach((function(t){if(a){var e,n=r.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&o.length&&function t(e,n,r,o,a){if(a<e.length&&a<n.length&&e[a]==n[a]){var s=t(e,n,r,o.lastChild,a+1);if(s)return o.copy(o.content.replaceChild(o.childCount-1,s));if(o.contentMatchAt(o.childCount).matchType(a==e.length-1?r.type:e[a+1]))return o.copy(o.content.append(i.c.from(Ft(r,e,a+1))))}}(n,o,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.c.empty,!0);return e.copy(r.append(o))}(a[a.length-1],o.length));var s=Ft(t,n);a.push(s),r=r.matchType(s.type,s.attrs),o=n}}})),a)return{v:i.c.from(a)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(c.content,o),!0)).openStart||c.openEnd){for(var y=0,b=0,w=c.content.firstChild;y<c.openStart&&!w.type.spec.isolating;y++,w=w.firstChild);for(var k=c.content.lastChild;b<c.openEnd&&!k.type.spec.isolating;b++,k=k.lastChild);c=Vt(c,y,b)}return t.someProp("transformPasted",(function(t){c=t(c)})),c}function Ft(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,i.c.from(t));return t}function qt(t,e,n,r,o,a){var s=e<0?t.firstChild:t.lastChild,c=s.content;return o<r-1&&(c=qt(c,e,n,r,o+1,a)),o>=n&&(c=e<0?s.contentMatchAt(0).fillBefore(c,t.childCount>1||a<=o).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(i.c.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(c))}function Vt(t,e,n){return e<t.openStart&&(t=new i.j(qt(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.j(qt(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var $t={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Kt=null;function Wt(){return Kt||(Kt=document.implementation.createHTMLDocument("title"))}var Jt={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gt=a.ie&&a.ie_version<=11,Yt=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Yt.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},Yt.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var Xt=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);a.ie&&a.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Yt,Gt&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Xt.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},Xt.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Xt.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Jt),Gt&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Xt.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}Gt&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Xt.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Xt.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Xt.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},Xt.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&xt(t)){var t;if(this.suppressingSelectionUpdates)return pt(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&v(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},Xt.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Xt.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},Xt.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&xt(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,s=[];if(this.view.editable)for(var c=0;c<t.length;c++){var u=this.registerMutation(t[c],s);u&&(r=r<0?u.from:Math.min(u.from,r),i=i<0?u.to:Math.max(u.to,i),u.typeOver&&(o=!0))}if(a.gecko&&s.length>1){var l=s.filter((function(t){return"BR"==t.nodeName}));if(2==l.length){var f=l[0],d=l[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),function(t){if(Zt)return;Zt=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,i,o,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||pt(this.view),this.currentSelection.set(e))}},Xt.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var i=t.previousSibling,o=t.nextSibling;if(a.ie&&a.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var c=t.addedNodes[s],u=c.previousSibling,l=c.nextSibling;(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u),(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(o=l)}var f=i&&i.parentNode==t.target?d(i)+1:0,h=n.localPosFromDOM(t.target,f,-1),p=o&&o.parentNode==t.target?d(o):t.target.childNodes.length;return{from:h,to:n.localPosFromDOM(t.target,p,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Zt=!1;var Qt={},te={};function ee(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function ne(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return re(t,e)})}))}function re(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function ie(t){return{left:t.clientX,top:t.clientY}}function oe(t,e,n,r,i){if(-1==r)return!1;for(var o=t.state.doc.resolve(r),a=function(r){if(t.someProp(e,(function(e){return r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1)})))return{v:!0}},s=o.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function ae(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function se(t,e,n,i,o){return oe(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(function(n){return n(t,e,i)}))||(o?function(t,e){if(-1==e)return!1;var n,i,o=t.state.selection;o instanceof r.c&&(n=o.node);for(var a=t.state.doc.resolve(e),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(r.c.isSelectable(c)){i=n&&o.$from.depth>0&&s>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(s);break}}return null!=i&&(ae(t,r.c.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.c.isSelectable(i))&&(ae(t,new r.c(n),"pointer"),!0)}(t,n))}function ce(t,e,n,r){return oe(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function ue(t,e,n,i){return oe(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(function(n){return n(t,e,i)}))||function(t,e,n){if(0!=n.button)return!1;var i=t.state.doc;if(-1==e)return!!i.inlineContent&&(ae(t,r.h.create(i,0,i.content.size),"pointer"),!0);for(var o=i.resolve(e),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a),c=o.before(a);if(s.inlineContent)ae(t,r.h.create(i,c+1,c+1+s.content.size),"pointer");else{if(!r.c.isSelectable(s))continue;ae(t,r.c.create(i,c),"pointer")}return!0}}(t,n,i)}function le(t){return ge(t)}te.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!he(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!a.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||Lt(t,e)?e.preventDefault():ee(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,x(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},te.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},te.keypress=function(t,e){if(!(he(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||a.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof r.h&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,i)}))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),e.preventDefault()}}};var fe=a.mac?"metaKey":"ctrlKey";Qt.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=le(t),r=Date.now(),i="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[fe]&&("singleClick"==t.lastClick.type?i="doubleClick":"doubleClick"==t.lastClick.type&&(i="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:i};var o=t.posAtCoords(ie(e));o&&("singleClick"==i?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new de(t,o,e,n)):("doubleClick"==i?ce:ue)(t,o.pos,o.inside,e)?e.preventDefault():ee(t,"pointer"))};var de=function(t,e,n,i){var o,s,c=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=i,this.selectNode=n[fe],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,e.inside>-1)o=t.state.doc.nodeAt(e.inside),s=e.inside;else{var u=t.state.doc.resolve(e.pos);o=u.parent,s=u.depth?u.before():0}this.mightDrag=null;var l=i?null:n.target,f=l?t.docView.nearestDesc(l,!0):null;this.target=f?f.dom:null;var d=t.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||d instanceof r.c&&d.from<=s&&d.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){c.view.mouseDown==c&&c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ee(t,"pointer")};function he(t,e){return!!t.composing||!!(a.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}de.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return pt(t.view)})),this.view.mouseDown=null},de.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(ie(t))),this.allowDefault||!e?ee(this.view,"pointer"):se(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.h)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ae(this.view,r.f.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):ee(this.view,"pointer")}},de.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),ee(this.view,"pointer"),0==t.buttons&&this.done()},Qt.touchdown=function(t){le(t),ee(t,"pointer")},Qt.contextmenu=function(t){return le(t)};var pe=a.android?5e3:-1;function me(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return ge(t)}),e))}function ve(t){var e;for(t.composing&&(t.composing=!1,t.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function ge(t,e){if(t.domObserver.forceFlush(),ve(t),e||t.docView.dirty){var n=dt(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}te.compositionstart=te.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),ge(t,!0),t.markCursor=null;else if(ge(t),a.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}i=s,o=-1}t.composing=!0}me(t,pe)},te.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,me(t,20))};var ye=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function be(t,e,n,r){var o=Ht(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,o||i.j.empty)})))return!0;if(!o)return!1;var a=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=a?t.state.tr.replaceSelectionWith(a,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Qt.copy=te.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var i=ye?null:e.clipboardData,o=zt(t,n.content()),a=o.dom,s=o.text;i?(e.preventDefault(),i.clearData(),i.setData("text/html",a.innerHTML),i.setData("text/plain",s)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,a),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},te.paste=function(t,e){var n=ye?null:e.clipboardData;n&&be(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?be(t,r.value,null,e):be(t,r.textContent,r.innerHTML,e)}),50)}}(t,e)};var we=function(t,e){this.slice=t,this.move=e},ke=a.mac?"altKey":"ctrlKey";for(var xe in Qt.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var i=t.state.selection,o=i.empty?null:t.posAtCoords(ie(e));if(o&&o.pos>=i.from&&o.pos<=(i instanceof r.c?i.to-1:i.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(r.c.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var a=t.docView.nearestDesc(e.target,!0);a&&a.node.type.spec.draggable&&a!=t.docView&&t.dispatch(t.state.tr.setSelection(r.c.create(t.state.doc,a.posBefore)))}var s=t.state.selection.content(),c=zt(t,s),u=c.dom,l=c.text;e.dataTransfer.clearData(),e.dataTransfer.setData(ye?"Text":"text/html",u.innerHTML),e.dataTransfer.effectAllowed="copyMove",ye||e.dataTransfer.setData("text/plain",l),t.dragging=new we(s,!e[ke])}},Qt.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},te.dragover=te.dragenter=function(t,e){return e.preventDefault()},te.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var a=t.posAtCoords(ie(e));if(a){var s=t.state.doc.resolve(a.pos);if(s){var c=n&&n.slice;c?t.someProp("transformPasted",(function(t){c=t(c)})):c=Ht(t,e.dataTransfer.getData(ye?"Text":"text/plain"),ye?null:e.dataTransfer.getData("text/html"),!1,s);var u=n&&!e[ke];if(t.someProp("handleDrop",(function(n){return n(t,e,c||i.j.empty,u)})))e.preventDefault();else if(c){e.preventDefault();var l=c?Object(o.h)(t.state.doc,s.pos,c):s.pos;null==l&&(l=s.pos);var f=t.state.tr;u&&f.deleteSelection();var d=f.mapping.map(l),h=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,p=f.doc;if(h?f.replaceRangeWith(d,d,c.content.firstChild):f.replaceRange(d,d,c),!f.doc.eq(p)){var m=f.doc.resolve(d);if(h&&r.c.isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))f.setSelection(new r.c(m));else{var v=f.mapping.map(l);f.mapping.maps[f.mapping.maps.length-1].forEach((function(t,e,n,r){return v=r})),f.setSelection(kt(t,m,f.doc.resolve(v)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))}}}}}},Qt.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&pt(t)}),20))},Qt.blur=function(t,e){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),e.relatedTarget&&t.dom.contains(e.relatedTarget)&&t.domObserver.currentSelection.set({}),t.focused=!1)},Qt.beforeinput=function(t,e){if(a.chrome&&a.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,x(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},te)Qt[xe]=te[xe];function Se(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Ee=function(t,e){this.spec=e||Oe,this.side=this.spec.side||0,this.toDOM=t};Ee.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new Me(o-n,o-n,this)},Ee.prototype.valid=function(){return!0},Ee.prototype.eq=function(t){return this==t||t instanceof Ee&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Se(this.spec,t.spec))},Ee.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var _e=function(t,e){this.spec=e||Oe,this.attrs=t};_e.prototype.map=function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Me(i,o,this)},_e.prototype.valid=function(t,e){return e.from<e.to},_e.prototype.eq=function(t){return this==t||t instanceof _e&&Se(this.attrs,t.attrs)&&Se(this.spec,t.spec)},_e.is=function(t){return t.type instanceof _e};var Ce=function(t,e){this.spec=e||Oe,this.attrs=t};Ce.prototype.map=function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Me(i.pos-n,o.pos-n,this)},Ce.prototype.valid=function(t,e){var n,r=t.content.findIndex(e.from),i=r.index,o=r.offset;return o==e.from&&!(n=t.child(i)).isText&&o+n.nodeSize==e.to},Ce.prototype.eq=function(t){return this==t||t instanceof Ce&&Se(this.attrs,t.attrs)&&Se(this.spec,t.spec)};var Me=function(t,e,n){this.from=t,this.to=e,this.type=n},Ae={spec:{configurable:!0},inline:{configurable:!0}};Me.prototype.copy=function(t,e){return new Me(t,e,this.type)},Me.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Me.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Me.widget=function(t,e,n){return new Me(t,t,new Ee(e,n))},Me.inline=function(t,e,n,r){return new Me(t,e,new _e(n,r))},Me.node=function(t,e,n,r){return new Me(t,e,new Ce(n,r))},Ae.spec.get=function(){return this.type.spec},Ae.inline.get=function(){return this.type instanceof _e},Object.defineProperties(Me.prototype,Ae);var Te=[],Oe={},De=function(t,e){this.local=t&&t.length?t:Te,this.children=e&&e.length?e:Te};De.create=function(t,e){return e.length?Be(e,t,0,Oe):Ie},De.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},De.prototype.findInner=function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=e&&a.to>=t&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){var c=this.children[s]+1;this.children[s+2].findInner(t-c,e-c,n,r+c,i)}},De.prototype.map=function(t,e,n){return this==Ie||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Oe)},De.prototype.mapInner=function(t,e,n,r,i){for(var o,a=0;a<this.local.length;a++){var s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?function(t,e,n,r,i,o,a){for(var s=t.slice(),c=function(t,e,n,r){for(var a=0;a<s.length;a+=3){var c=s[a+1],u=void 0;-1==c||t>c+o||(e>=s[a]+o?s[a+1]=-1:n>=i&&(u=r-n-(e-t))&&(s[a]+=u,s[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var l=!1,f=0;f<s.length;f+=3)if(-1==s[f+1]){var d=n.map(t[f]+o),h=d-i;if(h<0||h>=r.content.size){l=!0;continue}var p=n.map(t[f+1]+o,-1)-i,m=r.content.findIndex(h),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==h&&g+y.nodeSize==p){var b=s[f+2].mapInner(n,y,d+1,t[f]+o+1,a);b!=Ie?(s[f]=h,s[f+1]=p,s[f+2]=b):(s[f+1]=-2,l=!0)}else l=!0}if(l){var w=Be(function(t,e,n,r,i,o,a){function s(t,e){for(var o=0;o<t.local.length;o++){var c=t.local[o].map(r,i,e);c?n.push(c):a.onRemove&&a.onRemove(t.local[o].spec)}for(var u=0;u<t.children.length;u+=3)s(t.children[u+2],t.children[u]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&s(t[c+2],e[c]+o+1);return n}(s,t,e||[],n,i,o,a),r,0,a);e=w.local;for(var k=0;k<s.length;k+=3)s[k+1]<0&&(s.splice(k,3),k-=3);for(var x=0,S=0;x<w.children.length;x+=3){for(var E=w.children[x];S<s.length&&s[S]<E;)S+=3;s.splice(S,0,w.children[x],w.children[x+1],w.children[x+2])}}return new De(e&&e.sort(je),s)}(this.children,o,t,e,n,r,i):o?new De(o.sort(je)):Ie},De.prototype.add=function(t,e){return e.length?this==Ie?De.create(t,e):this.addInner(t,e,0):this},De.prototype.addInner=function(t,e,n){var r,i=this,o=0;t.forEach((function(t,a){var s,c=a+n;if(s=Le(e,t,c)){for(r||(r=i.children.slice());o<r.length&&r[o]<a;)o+=3;r[o]==a?r[o+2]=r[o+2].addInner(t,s,c+1):r.splice(o,0,a,a+t.nodeSize,Be(s,t,c+1,Oe)),o+=3}}));for(var a=Pe(o?Re(e):e,-n),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||a.splice(s--,1);return new De(a.length?this.local.concat(a).sort(je):this.local,r||this.children)},De.prototype.remove=function(t){return 0==t.length||this==Ie?this:this.removeInner(t,0)},De.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,i=0;i<n.length;i+=3){for(var o=void 0,a=n[i]+e,s=n[i+1]+e,c=0,u=void 0;c<t.length;c++)(u=t[c])&&u.from>a&&u.to<s&&(t[c]=null,(o||(o=[])).push(u));if(o){n==this.children&&(n=this.children.slice());var l=n[i+2].removeInner(o,a+1);l!=Ie?n[i+2]=l:(n.splice(i,3),i-=3)}}if(r.length)for(var f=0,d=void 0;f<t.length;f++)if(d=t[f])for(var h=0;h<r.length;h++)r[h].eq(d,e)&&(r==this.local&&(r=this.local.slice()),r.splice(h--,1));return n==this.children&&r==this.local?this:r.length||n.length?new De(r,n):Ie},De.prototype.forChild=function(t,e){if(this==Ie)return this;if(e.isLeaf)return De.empty;for(var n,r,i=0;i<this.children.length;i+=3)if(this.children[i]>=t){this.children[i]==t&&(n=this.children[i+2]);break}for(var o=t+1,a=o+e.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>o&&c.type instanceof _e){var u=Math.max(o,c.from)-o,l=Math.min(a,c.to)-o;u<l&&(r||(r=[])).push(c.copy(u,l))}}if(r){var f=new De(r.sort(je));return n?new Ne([f,n]):f}return n||Ie},De.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof De)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},De.prototype.locals=function(t){return Ue(this.localsInner(t))},De.prototype.localsInner=function(t){if(this==Ie)return Te;if(t.inlineContent||!this.local.some(_e.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof _e||e.push(this.local[n]);return e};var Ie=new De;De.empty=Ie,De.removeOverlap=Ue;var Ne=function(t){this.members=t};function Pe(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new Me(i.from+e,i.to+e,i.type))}return n}function Le(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,i=null,o=0,a=void 0;o<t.length;o++)(a=t[o])&&a.from>n&&a.to<r&&((i||(i=[])).push(a),t[o]=null);return i}function Re(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Be(t,e,n,r){var i=[],o=!1;e.forEach((function(e,a){var s=Le(t,e,a+n);if(s){o=!0;var c=Be(s,e,n+a+1,r);c!=Ie&&i.push(a,a+e.nodeSize,c)}}));for(var a=Pe(o?Re(t):t,-n).sort(je),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new De(a,i):Ie}function je(t,e){return t.from-e.from||t.to-e.to}function Ue(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),ze(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),ze(e,i+1,o.copy(r.to,o.to)))}}return e}function ze(t,e,n){for(;e<t.length&&je(n,t[e])>0;)e++;t.splice(e,0,n)}function He(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=Ie&&e.push(r)})),t.cursorWrapper&&e.push(De.create(t.state.doc,[t.cursorWrapper.deco])),Ne.from(e)}Ne.prototype.map=function(t,e){var n=this.members.map((function(n){return n.map(t,e,Oe)}));return Ne.from(n)},Ne.prototype.forChild=function(t,e){if(e.isLeaf)return De.empty;for(var n=[],r=0;r<this.members.length;r++){var i=this.members[r].forChild(t,e);i!=Ie&&(i instanceof Ne?n=n.concat(i.members):n.push(i))}return Ne.from(n)},Ne.prototype.eq=function(t){if(!(t instanceof Ne)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Ne.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?Ue(n?e:e.sort(je)):Te},Ne.from=function(t){switch(t.length){case 0:return Ie;case 1:return t[0];default:return new Ne(t)}};var Fe=function(t,e){this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(Je),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Ke(this),this.markCursor=null,this.cursorWrapper=null,$e(this),this.nodeViews=We(this),this.docView=X(this.state.doc,Ve(this),He(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new Xt(t,(function(e,n,r,i){return Bt(t,e,n,r,i)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=Qt[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||re(t,e)||!t.editable&&e.type in te||n(t,e)})};for(var n in Qt)e(n);a.safari&&t.dom.addEventListener("input",(function(){return null})),ne(t)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},qe={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Ve(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r&&(e.class+=" "+n[r]),"style"==r?e.style=(e.style?e.style+";":"")+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Me.node(0,t.state.doc.content.size,e)]}function $e(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Me.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ke(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function We(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}function Je(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}qe.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},Fe.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ne(this),this._props=t,t.plugins&&(t.plugins.forEach(Je),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)},Fe.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},Fe.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},Fe.prototype.updateStateInner=function(t,e){var n=this,i=this.state,o=!1,s=!1;if(t.storedMarks&&this.composing&&(ve(this),s=!0),this.state=t,e){var c=We(this);(function(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r})(c,this.nodeViews)&&(this.nodeViews=c,o=!0),ne(this)}this.editable=Ke(this),$e(this);var u=He(this),l=Ve(this),f=e?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,l,u);!d&&t.selection.eq(i.selection)||(s=!0);var h,p,m,g,y,b,w,k,x,S,E,_="preserve"==f&&s&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=t.root.elementFromPoint(o,a);if(s!=t.dom&&t.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=i-20){e=s,n=c.top;break}}}return{refDOM:e,refTop:n,stack:M(t.dom)}}(this);if(s){this.domObserver.stop();var T=d&&(a.ie||a.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&(g=i.selection,y=t.selection,b=Math.min(g.$anchor.sharedDepth(g.head),y.$anchor.sharedDepth(y.head)),g.$anchor.start(b)!=y.$anchor.start(b));if(d){var O=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,l,u,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=X(t.doc,l,u,this.dom,this)),O&&!this.trackWrites&&(T=!0)}T||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(h=this,p=h.docView.domFromPos(h.state.selection.anchor,0),m=h.root.getSelection(),v(p.node,p.offset,m.anchorNode,m.anchorOffset)))?pt(this,T):(bt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==f)this.dom.scrollTop=0;else if("to selection"==f){var D=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof r.c?C(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),D):C(this,this.coordsAtPos(t.selection.head,1),D))}else _&&(k=(w=_).refDOM,x=w.refTop,S=w.stack,E=k?k.getBoundingClientRect().top:0,A(S,0==E?0:E-x))},Fe.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},Fe.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var a=this.state.plugins[o];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},Fe.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(n=e?e(o):o))return n}var a=this.state.plugins;if(a)for(var s=0;s<a.length;s++){var c=a[s].props[t];if(null!=c&&(n=e?e(c):c))return n}},Fe.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Fe.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(T)return t.focus(T);var e=M(t);t.focus(null==T?{get preventScroll(){return T={preventScroll:!0},!0}}:void 0),T||(T=!1,A(e,0))}(this.dom),pt(this),this.domObserver.start()},qe.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},Fe.prototype.posAtCoords=function(t){return I(this,t)},Fe.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),L(this,t,e)},Fe.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},Fe.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},Fe.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Fe.prototype.endOfTextblock=function(t,e){return q(this,e||this.state,t)},Fe.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],He(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},qe.isDestroyed.get=function(){return null==this.docView},Fe.prototype.dispatchEvent=function(t){return function(t,e){re(t,e)||!Qt[e.type]||!t.editable&&e.type in te||Qt[e.type](t,e)}(this,t)},Fe.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(Fe.prototype,qe)},function(t,e,n){"use strict";var r=function(){};r.prototype.append=function(t){return t.length?(t=r.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},r.prototype.prepend=function(t){return t.length?r.from(t).append(this):this},r.prototype.appendInner=function(t){return new o(this,t)},r.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?r.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},r.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},r.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},r.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},r.from=function(t){return t instanceof r?t:t&&t.length?new i(t):r.empty};var i=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(r);r.empty=new i([]);var o=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(r),a=r,s=n(2),c=n(1);n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return S})),n.d(e,"c",(function(){return x})),n.d(e,"d",(function(){return E}));var u=function(t,e){this.items=t,this.eventCount=e};u.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,i,o=this.items.length;;o--){if(this.items.get(o-1).selection){--o;break}}e&&(r=this.remapping(o,this.items.length),i=r.maps.length);var a,s,c=t.tr,f=[],d=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(o,e+1),i=r.maps.length),i--,void d.push(t);if(r){d.push(new l(t.map));var h,p=t.step.map(r.slice(i));p&&c.maybeStep(p).doc&&(h=c.mapping.maps[c.mapping.maps.length-1],f.push(new l(h,null,null,f.length+d.length))),i--,h&&r.appendMap(h,i)}else c.maybeStep(t.step);return t.selection?(a=r?t.selection.map(r.slice(i)):t.selection,s=new u(n.items.slice(0,o).append(d.reverse().concat(f)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:c,selection:a}},u.prototype.addTransform=function(t,e,n,r){for(var i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null,c=0;c<t.steps.length;c++){var f,h=t.steps[c].invert(t.docs[c]),p=new l(t.mapping.maps[c],h,e);(f=s&&s.merge(p))&&(p=f,c?i.pop():a=a.slice(0,a.length-1)),i.push(p),e&&(o++,e=null),r||(s=p)}var m,v,g,y=o-n.depth;return y>d&&(v=y,(m=a).forEach((function(t,e){if(t.selection&&0==v--)return g=e,!1})),a=m.slice(g),o-=y),new u(a.append(i),o)},u.prototype.remapping=function(t,e){var n=new s.a;return this.items.forEach((function(e,r){var i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,i)}),t,e),n},u.prototype.addMaps=function(t){return 0==this.eventCount?this:new u(this.items.append(t.map((function(t){return new l(t)}))),this.eventCount)},u.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach((function(t){t.selection&&a--}),r);var s=e;this.items.forEach((function(e){var r=i.getMirror(--s);if(null!=r){o=Math.min(o,r);var c=i.maps[r];if(e.step){var u=t.steps[r].invert(t.docs[r]),f=e.selection&&e.selection.map(i.slice(s+1,r));f&&a++,n.push(new l(c,u,f))}else n.push(new l(c))}}),r);for(var c=[],f=e;f<o;f++)c.push(new l(i.maps[f]));var d=this.items.slice(0,r).append(c).append(n),h=new u(d,a);return h.emptyItemCount()>500&&(h=h.compress(this.items.length-n.length)),h},u.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},u.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach((function(o,a){if(a>=t)r.push(o),o.selection&&i++;else if(o.step){var s=o.step.map(e.slice(n)),c=s&&s.getMap();if(n--,c&&e.appendMap(c,n),s){var u=o.selection&&o.selection.map(e.slice(n));u&&i++;var f,d=new l(c.invert(),s,u),h=r.length-1;(f=r.length&&r[h].merge(d))?r[h]=f:r.push(d)}}else o.map&&n--}),this.items.length,0),new u(a.from(r.reverse()),i)},u.empty=new u(a.empty,0);var l=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};l.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new l(e.getMap().invert(),e,this.selection)}};var f=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},d=20;function h(t){var e=[];return t.forEach((function(t,n,r,i){return e.push(r,i)})),e}function p(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function m(t,e,n,r){var i=y(e),o=b.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,i);if(a){var s=a.selection.resolve(a.transform.doc),c=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),u=new f(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(b,{redo:r,historyState:u}).scrollIntoView())}}var v=!1,g=null;function y(t){var e=t.plugins;if(g!=e){v=!1,g=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){v=!0;break}}return v}var b=new c.e("history"),w=new c.e("closeHistory");function k(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new c.d({key:b,state:{init:function(){return new f(u.empty,u.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var i,o=n.getMeta(b);if(o)return o.historyState;n.getMeta(w)&&(t=new f(t.done,t.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(b))return a.getMeta(b).redo?new f(t.done.addTransform(n,null,r,y(e)),t.undone,h(n.mapping.maps[n.steps.length-1]),t.prevTime):new f(t.done,t.undone.addTransform(n,null,r,y(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new f(t.done.rebased(n,i),t.undone.rebased(n,i),p(t.prevRanges,n.mapping),t.prevTime):new f(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),p(t.prevRanges,n.mapping),t.prevTime);var s=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),c=a?p(t.prevRanges,n.mapping):h(n.mapping.maps[n.steps.length-1]);return new f(t.done.addTransform(n,s?e.selection.getBookmark():null,r,y(e)),u.empty,c,n.time)}(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput:function(t,e){var n="historyUndo"==e.inputType?x(t.state,t.dispatch):"historyRedo"==e.inputType&&S(t.state,t.dispatch);return n&&e.preventDefault(),n}}}})}function x(t,e){var n=b.getState(t);return!(!n||0==n.done.eventCount)&&(e&&m(n,t,e,!1),!0)}function S(t,e){var n=b.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&m(n,t,e,!0),!0)}function E(t){var e=b.getState(t);return e?e.done.eventCount:0}},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=u(t),a=r[0],s=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;2===s&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e);1===s&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e);return c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(e){function n(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var n,r="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,s):r=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var i={resolve:function(){for(var t,i="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var s;a>=0?s=arguments[a]:(void 0===t&&(t=e.cwd()),s=t),n(s),0!==s.length&&(i=s+"/"+i,o=47===s.charCodeAt(0))}return i=r(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(n(t),0===t.length)return".";var e=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!e)).length||e||(t="."),t.length>0&&i&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return n(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];n(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":i.normalize(t)},relative:function(t,e){if(n(t),n(e),t===e)return"";if((t=i.resolve(t))===(e=i.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var o=t.length,a=o-r,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var c=e.length-s,u=a<c?a:c,l=-1,f=0;f<=u;++f){if(f===u){if(c>u){if(47===e.charCodeAt(s+f))return e.slice(s+f+1);if(0===f)return e.slice(s+f)}else a>u&&(47===t.charCodeAt(r+f)?l=f:0===f&&(l=0));break}var d=t.charCodeAt(r+f);if(d!==e.charCodeAt(s+f))break;47===d&&(l=f)}var h="";for(f=r+l+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===h.length?h+="..":h+="/..");return h.length>0?h+e.slice(s+l):(s+=l,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(n(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');n(t);var r,i=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,c=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!a){i=r+1;break}}else-1===c&&(a=!1,c=r+1),s>=0&&(u===e.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){n(t);for(var e=-1,r=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){r=s+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===r+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){n(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,i=t.charCodeAt(0),o=47===i;o?(e.root="/",r=1):r=0;for(var a=-1,s=0,c=-1,u=!0,l=t.length-1,f=0;l>=r;--l)if(47!==(i=t.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1);else if(!u){s=l+1;break}return-1===a||-1===c||0===f||1===f&&a===c-1&&a===s+1?-1!==c&&(e.base=e.name=0===s&&o?t.slice(1,c):t.slice(s,c)):(0===s&&o?(e.name=t.slice(1,a),e.base=t.slice(1,c)):(e.name=t.slice(s,a),e.base=t.slice(s,c)),e.ext=t.slice(a,c)),s>0?e.dir=t.slice(0,s-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this,n(16))},function(t,e,n){"use strict";(function(e){function n(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function r(t,e){for(var n,r="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,s):r=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var i={resolve:function(){for(var t,i="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var s;a>=0?s=arguments[a]:(void 0===t&&(t=e.cwd()),s=t),n(s),0!==s.length&&(i=s+"/"+i,o=47===s.charCodeAt(0))}return i=r(i,!o),o?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(t){if(n(t),0===t.length)return".";var e=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!e)).length||e||(t="."),t.length>0&&i&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return n(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,e=0;e<arguments.length;++e){var r=arguments[e];n(r),r.length>0&&(void 0===t?t=r:t+="/"+r)}return void 0===t?".":i.normalize(t)},relative:function(t,e){if(n(t),n(e),t===e)return"";if((t=i.resolve(t))===(e=i.resolve(e)))return"";for(var r=1;r<t.length&&47===t.charCodeAt(r);++r);for(var o=t.length,a=o-r,s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var c=e.length-s,u=a<c?a:c,l=-1,f=0;f<=u;++f){if(f===u){if(c>u){if(47===e.charCodeAt(s+f))return e.slice(s+f+1);if(0===f)return e.slice(s+f)}else a>u&&(47===t.charCodeAt(r+f)?l=f:0===f&&(l=0));break}var d=t.charCodeAt(r+f);if(d!==e.charCodeAt(s+f))break;47===d&&(l=f)}var h="";for(f=r+l+1;f<=o;++f)f!==o&&47!==t.charCodeAt(f)||(0===h.length?h+="..":h+="/..");return h.length>0?h+e.slice(s+l):(s+=l,47===e.charCodeAt(s)&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(n(t),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');n(t);var r,i=0,o=-1,a=!0;if(void 0!==e&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var s=e.length-1,c=-1;for(r=t.length-1;r>=0;--r){var u=t.charCodeAt(r);if(47===u){if(!a){i=r+1;break}}else-1===c&&(a=!1,c=r+1),s>=0&&(u===e.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=c))}return i===o?o=c:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){n(t);for(var e=-1,r=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var c=t.charCodeAt(s);if(47!==c)-1===i&&(o=!1,i=s+1),46===c?-1===e?e=s:1!==a&&(a=1):-1!==e&&(a=-1);else if(!o){r=s+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===r+1?"":t.slice(e,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}("/",t)},parse:function(t){n(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return e;var r,i=t.charCodeAt(0),o=47===i;o?(e.root="/",r=1):r=0;for(var a=-1,s=0,c=-1,u=!0,l=t.length-1,f=0;l>=r;--l)if(47!==(i=t.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===i?-1===a?a=l:1!==f&&(f=1):-1!==a&&(f=-1);else if(!u){s=l+1;break}return-1===a||-1===c||0===f||1===f&&a===c-1&&a===s+1?-1!==c&&(e.base=e.name=0===s&&o?t.slice(1,c):t.slice(s,c)):(0===s&&o?(e.name=t.slice(1,a),e.base=t.slice(1,c)):(e.name=t.slice(s,a),e.base=t.slice(s,c)),e.ext=t.slice(a,c)),s>0?e.dir=t.slice(0,s-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this,n(16))},function(t,e,n){var r=n(4).Buffer,i=n(49).Transform,o=n(53).StringDecoder;function a(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(3)(a,i),a.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=a},function(t,e,n){const r=n(232),i=n(233);t.exports={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:i.blake2s,blake2sHex:i.blake2sHex,blake2sInit:i.blake2sInit,blake2sUpdate:i.blake2sUpdate,blake2sFinal:i.blake2sFinal}},function(t,e,n){"use strict";var r=n(37),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=f;var o=n(32);o.inherits=n(3);var a=n(76),s=n(52);o.inherits(f,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];f.prototype[l]||(f.prototype[l]=s.prototype[l])}function f(t){if(!(this instanceof f))return new f(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||r.nextTick(h,this)}function h(t){t.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),f.prototype._destroy=function(t,e){this.push(null),this.end(),r.nextTick(e,t)}},function(t,e,n){var r=n(4).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var c=a%i,u=Math.min(o-s,i-c),l=0;l<u;l++)n[c+l]=t[s+l];s+=u,(a+=u)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";var r,i={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};function o(t,e,n){if(4!==e.length)throw new i.exception.invalid("invalid aes block size");var r=t.b[n],o=e[0]^r[0],a=e[n?3:1]^r[1],s=e[2]^r[2];e=e[n?1:3]^r[3];var c,u,l,f,d=r.length/4-2,h=4,p=[0,0,0,0];t=(c=t.s[n])[0];var m=c[1],v=c[2],g=c[3],y=c[4];for(f=0;f<d;f++)c=t[o>>>24]^m[a>>16&255]^v[s>>8&255]^g[255&e]^r[h],u=t[a>>>24]^m[s>>16&255]^v[e>>8&255]^g[255&o]^r[h+1],l=t[s>>>24]^m[e>>16&255]^v[o>>8&255]^g[255&a]^r[h+2],e=t[e>>>24]^m[o>>16&255]^v[a>>8&255]^g[255&s]^r[h+3],h+=4,o=c,a=u,s=l;for(f=0;4>f;f++)p[n?3&-f:f]=y[o>>>24]<<24^y[a>>16&255]<<16^y[s>>8&255]<<8^y[255&e]^r[h++],c=o,o=a,a=s,s=e,e=c;return p}function a(t,e){var n,r,i,o=t.F,a=t.b,s=o[0],c=o[1],u=o[2],l=o[3],f=o[4],d=o[5],h=o[6],p=o[7];for(n=0;64>n;n++)16>n?r=e[n]:(r=e[n+1&15],i=e[n+14&15],r=e[15&n]=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(i>>>17^i>>>19^i>>>10^i<<15^i<<13)+e[15&n]+e[n+9&15]|0),r=r+p+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(h^f&(d^h))+a[n],p=h,h=d,d=f,f=l+r|0,l=u,u=c,s=r+((c=s)&u^l&(c^u))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;o[0]=o[0]+s|0,o[1]=o[1]+c|0,o[2]=o[2]+u|0,o[3]=o[3]+l|0,o[4]=o[4]+f|0,o[5]=o[5]+d|0,o[6]=o[6]+h|0,o[7]=o[7]+p|0}function s(t,e){var n,r=i.random.K[t],o=[];for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);for(n=0;n<o.length;n++)o[n](e)}function c(t,e){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?t.addEntropy(window.performance.now(),e,"loadtime"):t.addEntropy((new Date).valueOf(),e,"loadtime")}function u(t){t.b=l(t).concat(l(t)),t.L=new i.cipher.aes(t.b)}function l(t){for(var e=0;4>e&&(t.h[e]=t.h[e]+1|0,!t.h[e]);e++);return t.L.encrypt(t.h)}function f(t,e){return function(){e.apply(t,arguments)}}i.cipher.aes=function(t){this.s[0][0][0]||this.O();var e,n,r,o,a=this.s[0][4],s=this.s[1],c=1;if(4!==(e=t.length)&&6!==e&&8!==e)throw new i.exception.invalid("invalid aes key size");for(this.b=[r=t.slice(0),o=[]],t=e;t<4*e+28;t++)n=r[t-1],(0==t%e||8===e&&4==t%e)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],0==t%e&&(n=n<<8^n>>>24^c<<24,c=c<<1^283*(c>>7))),r[t]=r[t-e]^n;for(e=0;t;e++,t--)n=r[3&e?t:t-4],o[e]=4>=t||4>e?n:s[0][a[n>>>24]]^s[1][a[n>>16&255]]^s[2][a[n>>8&255]]^s[3][a[255&n]]},i.cipher.aes.prototype={encrypt:function(t){return o(this,t,0)},decrypt:function(t){return o(this,t,1)},s:[[[],[],[],[],[]],[[],[],[],[],[]]],O:function(){var t,e,n,r,i,o,a,s=this.s[0],c=this.s[1],u=s[4],l=c[4],f=[],d=[];for(t=0;256>t;t++)d[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!u[e];e^=r||1,n=d[n]||1)for(o=(o=n^n<<1^n<<2^n<<3^n<<4)>>8^255&o^99,u[e]=o,l[o]=e,a=16843009*(i=f[t=f[r=f[e]]])^65537*t^257*r^16843008*e,i=257*f[o]^16843008*o,t=0;4>t;t++)s[t][e]=i=i<<24^i>>>8,c[t][o]=a=a<<24^a>>>8;for(t=0;5>t;t++)s[t]=s[t].slice(0),c[t]=c[t].slice(0)}},i.bitArray={bitSlice:function(t,e,n){return t=i.bitArray.$(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:i.bitArray.clamp(t,n-e)},extract:function(t,e,n){var r=Math.floor(-e-n&31);return(-32&(e+n-1^e)?t[e/32|0]<<32-r^t[e/32+1|0]>>>r:t[e/32|0]>>>r)&(1<<n)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],r=i.bitArray.getPartial(n);return 32===r?t.concat(e):i.bitArray.$(e,r,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+i.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var n=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,0<n&&e&&(t[n-1]=i.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(i.bitArray.bitLength(t)!==i.bitArray.bitLength(e))return!1;var n,r=0;for(n=0;n<t.length;n++)r|=t[n]^e[n];return 0===r},$:function(t,e,n,r){var o;for(o=0,void 0===r&&(r=[]);32<=e;e-=32)r.push(n),n=0;if(0===e)return r.concat(t);for(o=0;o<t.length;o++)r.push(n|t[o]>>>e),n=t[o]<<32-e;return o=t.length?t[t.length-1]:0,t=i.bitArray.getPartial(o),r.push(i.bitArray.partial(e+t&31,32<e+t?n:r.pop(),1)),r},i:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,n;for(e=0;e<t.length;++e)n=t[e],t[e]=n>>>24|n>>>8&65280|(65280&n)<<8|n<<24;return t}},i.codec.utf8String={fromBits:function(t){var e,n,r="",o=i.bitArray.bitLength(t);for(e=0;e<o/8;e++)0==(3&e)&&(n=t[e/4]),r+=String.fromCharCode(n>>>8>>>8>>>8),n<<=8;return decodeURIComponent(escape(r))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],r=0;for(e=0;e<t.length;e++)r=r<<8|t.charCodeAt(e),3==(3&e)&&(n.push(r),r=0);return 3&e&&n.push(i.bitArray.partial(8*(3&e),r)),n}},i.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return n.substr(0,i.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,r=[];for(n=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",e=0;e<t.length;e+=8)r.push(0^parseInt(t.substr(e,8),16));return i.bitArray.clamp(r,4*n)}},i.codec.base32={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",X:"0123456789ABCDEFGHIJKLMNOPQRSTUV",BITS:32,BASE:5,REMAINING:27,fromBits:function(t,e,n){var r=i.codec.base32.BASE,o=i.codec.base32.REMAINING,a="",s=0,c=i.codec.base32.B,u=0,l=i.bitArray.bitLength(t);for(n&&(c=i.codec.base32.X),n=0;a.length*r<l;)a+=c.charAt((u^t[n]>>>s)>>>o),s<r?(u=t[n]<<r-s,s+=o,n++):(u<<=r,s-=r);for(;7&a.length&&!e;)a+="=";return a},toBits:function(t,e){t=t.replace(/\s|=/g,"").toUpperCase();var n,r,o=i.codec.base32.BITS,a=i.codec.base32.BASE,s=i.codec.base32.REMAINING,c=[],u=0,l=i.codec.base32.B,f=0,d="base32";for(e&&(l=i.codec.base32.X,d="base32hex"),n=0;n<t.length;n++){if(0>(r=l.indexOf(t.charAt(n)))){if(!e)try{return i.codec.base32hex.toBits(t)}catch(t){}throw new i.exception.invalid("this isn't "+d+"!")}u>s?(u-=s,c.push(f^r>>>u),f=r<<o-u):f^=r<<o-(u+=a)}return 56&u&&c.push(i.bitArray.partial(56&u,f,1)),c}},i.codec.base32hex={fromBits:function(t,e){return i.codec.base32.fromBits(t,e,1)},toBits:function(t){return i.codec.base32.toBits(t,1)}},i.codec.base64={B:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,n){var r="",o=0,a=i.codec.base64.B,s=0,c=i.bitArray.bitLength(t);for(n&&(a=a.substr(0,62)+"-_"),n=0;6*r.length<c;)r+=a.charAt((s^t[n]>>>o)>>>26),6>o?(s=t[n]<<6-o,o+=26,n++):(s<<=6,o-=6);for(;3&r.length&&!e;)r+="=";return r},toBits:function(t,e){t=t.replace(/\s|=/g,"");var n,r,o=[],a=0,s=i.codec.base64.B,c=0;for(e&&(s=s.substr(0,62)+"-_"),n=0;n<t.length;n++){if(0>(r=s.indexOf(t.charAt(n))))throw new i.exception.invalid("this isn't base64!");26<a?(a-=26,o.push(c^r>>>a),c=r<<32-a):c^=r<<32-(a+=6)}return 56&a&&o.push(i.bitArray.partial(56&a,c,1)),o}},i.codec.base64url={fromBits:function(t){return i.codec.base64.fromBits(t,1,1)},toBits:function(t){return i.codec.base64.toBits(t,1)}},i.hash.sha256=function(t){this.b[0]||this.O(),t?(this.F=t.F.slice(0),this.A=t.A.slice(0),this.l=t.l):this.reset()},i.hash.sha256.hash=function(t){return(new i.hash.sha256).update(t).finalize()},i.hash.sha256.prototype={blockSize:512,reset:function(){return this.F=this.Y.slice(0),this.A=[],this.l=0,this},update:function(t){"string"==typeof t&&(t=i.codec.utf8String.toBits(t));var e,n=this.A=i.bitArray.concat(this.A,t);if(e=this.l,9007199254740991<(t=this.l=e+i.bitArray.bitLength(t)))throw new i.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var r=new Uint32Array(n),o=0;for(e=512+e-(512+e&511);e<=t;e+=512)a(this,r.subarray(16*o,16*(o+1))),o+=1;n.splice(0,16*o)}else for(e=512+e-(512+e&511);e<=t;e+=512)a(this,n.splice(0,16));return this},finalize:function(){var t,e=this.A,n=this.F;for(t=(e=i.bitArray.concat(e,[i.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.l/4294967296)),e.push(0|this.l);e.length;)a(this,e.splice(0,16));return this.reset(),n},Y:[],b:[],O:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}for(var e,n,r=0,i=2;64>r;i++){for(n=!0,e=2;e*e<=i;e++)if(0==i%e){n=!1;break}n&&(8>r&&(this.Y[r]=t(Math.pow(i,.5))),this.b[r]=t(Math.pow(i,1/3)),r++)}}},i.mode.ccm={name:"ccm",G:[],listenProgress:function(t){i.mode.ccm.G.push(t)},unListenProgress:function(t){-1<(t=i.mode.ccm.G.indexOf(t))&&i.mode.ccm.G.splice(t,1)},fa:function(t){var e,n=i.mode.ccm.G.slice();for(e=0;e<n.length;e+=1)n[e](t)},encrypt:function(t,e,n,r,o){var a,s=e.slice(0),c=i.bitArray,u=c.bitLength(n)/8,l=c.bitLength(s)/8;if(o=o||64,r=r||[],7>u)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(a=2;4>a&&l>>>8*a;a++);return a<15-u&&(a=15-u),n=c.clamp(n,8*(15-a)),e=i.mode.ccm.V(t,e,n,r,o,a),s=i.mode.ccm.C(t,s,n,e,o,a),c.concat(s.data,s.tag)},decrypt:function(t,e,n,r,o){o=o||64,r=r||[];var a=i.bitArray,s=a.bitLength(n)/8,c=a.bitLength(e),u=a.clamp(e,c-o),l=a.bitSlice(e,c-o);c=(c-o)/8;if(7>s)throw new i.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;4>e&&c>>>8*e;e++);if(e<15-s&&(e=15-s),n=a.clamp(n,8*(15-e)),u=i.mode.ccm.C(t,u,n,l,o,e),t=i.mode.ccm.V(t,u.data,n,r,o,e),!a.equal(u.tag,t))throw new i.exception.corrupt("ccm: tag doesn't match");return u.data},na:function(t,e,n,r,o,a){var s=[],c=i.bitArray,u=c.i;if(r=[c.partial(8,(e.length?64:0)|r-2<<2|a-1)],(r=c.concat(r,n))[3]|=o,r=t.encrypt(r),e.length)for(65279>=(n=c.bitLength(e)/8)?s=[c.partial(16,n)]:4294967295>=n&&(s=c.concat([c.partial(16,65534)],[n])),s=c.concat(s,e),e=0;e<s.length;e+=4)r=t.encrypt(u(r,s.slice(e,e+4).concat([0,0,0])));return r},V:function(t,e,n,r,o,a){var s=i.bitArray,c=s.i;if((o/=8)%2||4>o||16<o)throw new i.exception.invalid("ccm: invalid tag length");if(4294967295<r.length||4294967295<e.length)throw new i.exception.bug("ccm: can't deal with 4GiB or more data");for(n=i.mode.ccm.na(t,r,n,o,s.bitLength(e)/8,a),r=0;r<e.length;r+=4)n=t.encrypt(c(n,e.slice(r,r+4).concat([0,0,0])));return s.clamp(n,8*o)},C:function(t,e,n,r,o,a){var s,c=i.bitArray;s=c.i;var u=e.length,l=c.bitLength(e),f=u/50,d=f;if(n=c.concat([c.partial(8,a-1)],n).concat([0,0,0]).slice(0,4),r=c.bitSlice(s(r,t.encrypt(n)),0,o),!u)return{tag:r,data:[]};for(s=0;s<u;s+=4)s>f&&(i.mode.ccm.fa(s/u),f+=d),n[3]++,o=t.encrypt(n),e[s]^=o[0],e[s+1]^=o[1],e[s+2]^=o[2],e[s+3]^=o[3];return{tag:r,data:c.clamp(e,l)}}},i.mode.ocb2={name:"ocb2",encrypt:function(t,e,n,r,o,a){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");var s,c=i.mode.ocb2.S,u=i.bitArray,l=u.i,f=[0,0,0,0];n=c(t.encrypt(n));var d,h=[];for(r=r||[],o=o||64,s=0;s+4<e.length;s+=4)f=l(f,d=e.slice(s,s+4)),h=h.concat(l(n,t.encrypt(l(n,d)))),n=c(n);return d=e.slice(s),e=u.bitLength(d),s=t.encrypt(l(n,[0,0,0,e])),d=u.clamp(l(d.concat([0,0,0]),s),e),f=l(f,l(d.concat([0,0,0]),s)),f=t.encrypt(l(f,l(n,c(n)))),r.length&&(f=l(f,a?r:i.mode.ocb2.pmac(t,r))),h.concat(u.concat(d,u.clamp(f,o)))},decrypt:function(t,e,n,r,o,a){if(128!==i.bitArray.bitLength(n))throw new i.exception.invalid("ocb iv must be 128 bits");o=o||64;var s,c,u=i.mode.ocb2.S,l=i.bitArray,f=l.i,d=[0,0,0,0],h=u(t.encrypt(n)),p=i.bitArray.bitLength(e)-o,m=[];for(r=r||[],n=0;n+4<p/32;n+=4)s=f(h,t.decrypt(f(h,e.slice(n,n+4)))),d=f(d,s),m=m.concat(s),h=u(h);if(c=p-32*n,s=t.encrypt(f(h,[0,0,0,c])),s=f(s,l.clamp(e.slice(n),c).concat([0,0,0])),d=f(d,s),d=t.encrypt(f(d,f(h,u(h)))),r.length&&(d=f(d,a?r:i.mode.ocb2.pmac(t,r))),!l.equal(l.clamp(d,o),l.bitSlice(e,p)))throw new i.exception.corrupt("ocb: tag doesn't match");return m.concat(l.clamp(s,c))},pmac:function(t,e){var n,r=i.mode.ocb2.S,o=i.bitArray,a=o.i,s=[0,0,0,0],c=a(c=t.encrypt([0,0,0,0]),r(r(c)));for(n=0;n+4<e.length;n+=4)c=r(c),s=a(s,t.encrypt(a(c,e.slice(n,n+4))));return n=e.slice(n),128>o.bitLength(n)&&(c=a(c,r(c)),n=o.concat(n,[-2147483648,0,0,0])),s=a(s,n),t.encrypt(a(r(a(c,r(c))),s))},S:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},i.mode.gcm={name:"gcm",encrypt:function(t,e,n,r,o){var a=e.slice(0);return e=i.bitArray,r=r||[],t=i.mode.gcm.C(!0,t,a,r,n,o||128),e.concat(t.data,t.tag)},decrypt:function(t,e,n,r,o){var a=e.slice(0),s=i.bitArray,c=s.bitLength(a);if(r=r||[],(o=o||128)<=c?(e=s.bitSlice(a,c-o),a=s.bitSlice(a,0,c-o)):(e=a,a=[]),t=i.mode.gcm.C(!1,t,a,r,n,o),!s.equal(t.tag,e))throw new i.exception.corrupt("gcm: tag doesn't match");return t.data},ka:function(t,e){var n,r,o,a,s,c=i.bitArray.i;for(o=[0,0,0,0],a=e.slice(0),n=0;128>n;n++){for((r=0!=(t[Math.floor(n/32)]&1<<31-n%32))&&(o=c(o,a)),s=0!=(1&a[3]),r=3;0<r;r--)a[r]=a[r]>>>1|(1&a[r-1])<<31;a[0]>>>=1,s&&(a[0]^=-520093696)}return o},j:function(t,e,n){var r,o=n.length;for(e=e.slice(0),r=0;r<o;r+=4)e[0]^=4294967295&n[r],e[1]^=4294967295&n[r+1],e[2]^=4294967295&n[r+2],e[3]^=4294967295&n[r+3],e=i.mode.gcm.ka(e,t);return e},C:function(t,e,n,r,o,a){var s,c,u,l,f,d,h,p,m=i.bitArray;for(d=n.length,h=m.bitLength(n),p=m.bitLength(r),c=m.bitLength(o),s=e.encrypt([0,0,0,0]),96===c?(o=o.slice(0),o=m.concat(o,[1])):(o=i.mode.gcm.j(s,[0,0,0,0],o),o=i.mode.gcm.j(s,o,[0,0,Math.floor(c/4294967296),4294967295&c])),c=i.mode.gcm.j(s,[0,0,0,0],r),f=o.slice(0),r=c.slice(0),t||(r=i.mode.gcm.j(s,c,n)),l=0;l<d;l+=4)f[3]++,u=e.encrypt(f),n[l]^=u[0],n[l+1]^=u[1],n[l+2]^=u[2],n[l+3]^=u[3];return n=m.clamp(n,h),t&&(r=i.mode.gcm.j(s,c,n)),t=[Math.floor(p/4294967296),4294967295&p,Math.floor(h/4294967296),4294967295&h],r=i.mode.gcm.j(s,r,t),u=e.encrypt(o),r[0]^=u[0],r[1]^=u[1],r[2]^=u[2],r[3]^=u[3],{tag:m.bitSlice(r,0,a),data:n}}},i.misc.hmac=function(t,e){this.W=e=e||i.hash.sha256;var n,r=[[],[]],o=e.prototype.blockSize/32;for(this.w=[new e,new e],t.length>o&&(t=e.hash(t)),n=0;n<o;n++)r[0][n]=909522486^t[n],r[1][n]=1549556828^t[n];this.w[0].update(r[0]),this.w[1].update(r[1]),this.R=new e(this.w[0])},i.misc.hmac.prototype.encrypt=i.misc.hmac.prototype.mac=function(t){if(this.aa)throw new i.exception.invalid("encrypt on already updated hmac called!");return this.update(t),this.digest(t)},i.misc.hmac.prototype.reset=function(){this.R=new this.W(this.w[0]),this.aa=!1},i.misc.hmac.prototype.update=function(t){this.aa=!0,this.R.update(t)},i.misc.hmac.prototype.digest=function(){var t=this.R.finalize();t=new this.W(this.w[1]).update(t).finalize();return this.reset(),t},i.misc.pbkdf2=function(t,e,n,r,o){if(n=n||1e4,0>r||0>n)throw new i.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=i.codec.utf8String.toBits(t)),"string"==typeof e&&(e=i.codec.utf8String.toBits(e)),t=new(o=o||i.misc.hmac)(t);var a,s,c,u,l=[],f=i.bitArray;for(u=1;32*l.length<(r||1);u++){for(o=a=t.encrypt(f.concat(e,[u])),s=1;s<n;s++)for(a=t.encrypt(a),c=0;c<a.length;c++)o[c]^=a[c];l=l.concat(o)}return r&&(l=f.clamp(l,r)),l},i.prng=function(t){this.c=[new i.hash.sha256],this.m=[0],this.P=0,this.H={},this.N=0,this.U={},this.Z=this.f=this.o=this.ha=0,this.b=[0,0,0,0,0,0,0,0],this.h=[0,0,0,0],this.L=void 0,this.M=t,this.D=!1,this.K={progress:{},seeded:{}},this.u=this.ga=0,this.I=1,this.J=2,this.ca=65536,this.T=[0,48,64,96,128,192,256,384,512,768,1024],this.da=3e4,this.ba=80},i.prng.prototype={randomWords:function(t,e){var n,r,o=[];if((n=this.isReady(e))===this.u)throw new i.exception.notReady("generator isn't seeded");if(n&this.J){n=!(n&this.I),r=[];var a,s=0;for(this.Z=r[0]=(new Date).valueOf()+this.da,a=0;16>a;a++)r.push(4294967296*Math.random()|0);for(a=0;a<this.c.length&&(r=r.concat(this.c[a].finalize()),s+=this.m[a],this.m[a]=0,n||!(this.P&1<<a));a++);for(this.P>=1<<this.c.length&&(this.c.push(new i.hash.sha256),this.m.push(0)),this.f-=s,s>this.o&&(this.o=s),this.P++,this.b=i.hash.sha256.hash(this.b.concat(r)),this.L=new i.cipher.aes(this.b),n=0;4>n&&(this.h[n]=this.h[n]+1|0,!this.h[n]);n++);}for(n=0;n<t;n+=4)0==(n+1)%this.ca&&u(this),r=l(this),o.push(r[0],r[1],r[2],r[3]);return u(this),o.slice(0,t)},setDefaultParanoia:function(t,e){if(0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e)throw new i.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.M=t},addEntropy:function(t,e,n){n=n||"user";var r,o,a=(new Date).valueOf(),c=this.H[n],u=this.isReady(),l=0;switch(void 0===(r=this.U[n])&&(r=this.U[n]=this.ha++),void 0===c&&(c=this.H[n]=0),this.H[n]=(this.H[n]+1)%this.c.length,typeof t){case"number":void 0===e&&(e=1),this.c[c].update([r,this.N++,1,e,a,1,0|t]);break;case"object":if("[object Uint32Array]"===(n=Object.prototype.toString.call(t))){for(o=[],n=0;n<t.length;n++)o.push(t[n]);t=o}else for("[object Array]"!==n&&(l=1),n=0;n<t.length&&!l;n++)"number"!=typeof t[n]&&(l=1);if(!l){if(void 0===e)for(n=e=0;n<t.length;n++)for(o=t[n];0<o;)e++,o>>>=1;this.c[c].update([r,this.N++,2,e,a,t.length].concat(t))}break;case"string":void 0===e&&(e=t.length),this.c[c].update([r,this.N++,3,e,a,t.length]),this.c[c].update(t);break;default:l=1}if(l)throw new i.exception.bug("random: addEntropy only supports number, array of numbers or string");this.m[c]+=e,this.f+=e,u===this.u&&(this.isReady()!==this.u&&s("seeded",Math.max(this.o,this.f)),s("progress",this.getProgress()))},isReady:function(t){return t=this.T[void 0!==t?t:this.M],this.o&&this.o>=t?this.m[0]>this.ba&&(new Date).valueOf()>this.Z?this.J|this.I:this.I:this.f>=t?this.J|this.u:this.u},getProgress:function(t){return t=this.T[t||this.M],this.o>=t?1:this.f>t?1:this.f/t},startCollectors:function(){if(!this.D){if(this.a={loadTimeCollector:f(this,this.ma),mouseCollector:f(this,this.oa),keyboardCollector:f(this,this.la),accelerometerCollector:f(this,this.ea),touchCollector:f(this,this.qa)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new i.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.D=!0}},stopCollectors:function(){this.D&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.D=!1)},addEventListener:function(t,e){this.K[t][this.ga++]=e},removeEventListener:function(t,e){var n,r,i=this.K[t],o=[];for(r in i)i.hasOwnProperty(r)&&i[r]===e&&o.push(r);for(n=0;n<o.length;n++)delete i[r=o[n]]},la:function(){c(this,1)},oa:function(t){var e,n;try{e=t.x||t.clientX||t.offsetX||0,n=t.y||t.clientY||t.offsetY||0}catch(t){n=e=0}0!=e&&0!=n&&this.addEntropy([e,n],2,"mouse"),c(this,0)},qa:function(t){t=t.touches[0]||t.changedTouches[0],this.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch"),c(this,0)},ma:function(){c(this,2)},ea:function(t){if(t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;"number"==typeof e&&this.addEntropy(e,1,"accelerometer")}t&&this.addEntropy(t,2,"accelerometer"),c(this,0)}},i.random=new i.prng(6);t:try{var d,h,p,m;if(m=t.exports){var v;try{v=n(152)}catch(t){v=null}m=h=v}if(m&&h.randomBytes)d=h.randomBytes(128),d=new Uint32Array(new Uint8Array(d).buffer),i.random.addEntropy(d,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(p=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(p);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(p)}i.random.addEntropy(p,1024,"crypto['getRandomValues']")}}catch(t){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(t))}i.json={defaults:{v:1,iter:1e4,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},ja:function(t,e,n,r){n=n||{},r=r||{};var o,a=i.json,s=a.g({iv:i.random.randomWords(4,0)},a.defaults);if(a.g(s,n),n=s.adata,"string"==typeof s.salt&&(s.salt=i.codec.base64.toBits(s.salt)),"string"==typeof s.iv&&(s.iv=i.codec.base64.toBits(s.iv)),!i.mode[s.mode]||!i.cipher[s.cipher]||"string"==typeof t&&100>=s.iter||64!==s.ts&&96!==s.ts&&128!==s.ts||128!==s.ks&&192!==s.ks&&256!==s.ks||2>s.iv.length||4<s.iv.length)throw new i.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t?(t=(o=i.misc.cachedPbkdf2(t,s)).key.slice(0,s.ks/32),s.salt=o.salt):i.ecc&&t instanceof i.ecc.elGamal.publicKey&&(o=t.kem(),s.kemtag=o.tag,t=o.key.slice(0,s.ks/32)),"string"==typeof e&&(e=i.codec.utf8String.toBits(e)),"string"==typeof n&&(s.adata=n=i.codec.utf8String.toBits(n)),o=new i.cipher[s.cipher](t),a.g(r,s),r.key=t,s.ct="ccm"===s.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e instanceof ArrayBuffer?i.arrayBuffer.ccm.encrypt(o,e,s.iv,n,s.ts):i.mode[s.mode].encrypt(o,e,s.iv,n,s.ts),s},encrypt:function(t,e,n,r){var o=i.json,a=o.ja.apply(o,arguments);return o.encode(a)},ia:function(t,e,n,r){n=n||{},r=r||{};var o,a,s=i.json;if(o=(e=s.g(s.g(s.g({},s.defaults),e),n,!0)).adata,"string"==typeof e.salt&&(e.salt=i.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=i.codec.base64.toBits(e.iv)),!i.mode[e.mode]||!i.cipher[e.cipher]||"string"==typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)throw new i.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t?(t=(a=i.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=a.salt):i.ecc&&t instanceof i.ecc.elGamal.secretKey&&(t=t.unkem(i.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32)),"string"==typeof o&&(o=i.codec.utf8String.toBits(o)),a=new i.cipher[e.cipher](t),o="ccm"===e.mode&&i.arrayBuffer&&i.arrayBuffer.ccm&&e.ct instanceof ArrayBuffer?i.arrayBuffer.ccm.decrypt(a,e.ct,e.iv,e.tag,o,e.ts):i.mode[e.mode].decrypt(a,e.ct,e.iv,o,e.ts),s.g(r,e),r.key=t,1===n.raw?o:i.codec.utf8String.fromBits(o)},decrypt:function(t,e,n,r){var o=i.json;return o.ia(t,o.decode(e),n,r)},encode:function(t){var e,n="{",r="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new i.exception.invalid("json encode: invalid property name");switch(n+=r+'"'+e+'":',r=",",typeof t[e]){case"number":case"boolean":n+=t[e];break;case"string":n+='"'+escape(t[e])+'"';break;case"object":n+='"'+i.codec.base64.fromBits(t[e],0)+'"';break;default:throw new i.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(t){if(!(t=t.replace(/\s/g,"")).match(/^\{.*\}$/))throw new i.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,n,r={};for(e=0;e<t.length;e++){if(!(n=t[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i)))throw new i.exception.invalid("json decode: this isn't json!");null!=n[3]?r[n[2]]=parseInt(n[3],10):null!=n[4]?r[n[2]]=n[2].match(/^(ct|adata|salt|iv)$/)?i.codec.base64.toBits(n[4]):unescape(n[4]):null!=n[5]&&(r[n[2]]="true"===n[5])}return r},g:function(t,e,n){if(void 0===t&&(t={}),void 0===e)return t;for(var r in e)if(e.hasOwnProperty(r)){if(n&&void 0!==t[r]&&t[r]!==e[r])throw new i.exception.invalid("required parameter overridden");t[r]=e[r]}return t},sa:function(t,e){var n,r={};for(n in t)t.hasOwnProperty(n)&&t[n]!==e[n]&&(r[n]=t[n]);return r},ra:function(t,e){var n,r={};for(n=0;n<e.length;n++)void 0!==t[e[n]]&&(r[e[n]]=t[e[n]]);return r}},i.encrypt=i.json.encrypt,i.decrypt=i.json.decrypt,i.misc.pa={},i.misc.cachedPbkdf2=function(t,e){var n,r=i.misc.pa;return n=(e=e||{}).iter||1e3,(n=(r=r[t]=r[t]||{})[n]=r[n]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):i.random.randomWords(2,0)})[r=void 0===e.salt?n.firstSalt:e.salt]=n[r]||i.misc.pbkdf2(t,r,e.iter),{key:n[r].slice(0),salt:r.slice(0)}},t.exports&&(t.exports=i),void 0===(r=function(){return i}.apply(e,[]))||(t.exports=r)},function(t,e,n){"use strict";var r=n(3),i=n(48),o=n(54),a=n(55),s=n(26);function c(t){s.call(this,"digest"),this._hash=t}r(c,s),c.prototype._update=function(t){this._hash.update(t)},c.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new c(a(t))}},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(6).Buffer)},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(this,n(6).Buffer)},function(t,e,n){"use strict";var r=n(20),i=n(17);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=o,o.prototype.update=function(t,e){if(t=r.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var n=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=r.join32(t,0,t.length-n,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){var r=e;r.bignum=n(8),r.define=n(214).define,r.base=n(36),r.constants=n(104),r.decoders=n(219),r.encoders=n(221)},function(t,e,n){var r=e;r.Reporter=n(216).Reporter,r.DecoderBuffer=n(103).DecoderBuffer,r.EncoderBuffer=n(103).EncoderBuffer,r.Node=n(217)},function(t,e,n){"use strict";(function(e){void 0===e||!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,r)}));case 4:return e.nextTick((function(){t.call(null,n,r,i)}));default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(16))},function(t,e,n){var r=n(4).Buffer;function i(t){r.isBuffer(t)||(t=r.from(t));for(var e=t.length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,n,r,i){for(var o,a,s,c,u=n[0],l=n[1],f=n[2],d=n[3],h=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],v=t[3]^e[3],g=4,y=1;y<i;y++)o=u[h>>>24]^l[p>>>16&255]^f[m>>>8&255]^d[255&v]^e[g++],a=u[p>>>24]^l[m>>>16&255]^f[v>>>8&255]^d[255&h]^e[g++],s=u[m>>>24]^l[v>>>16&255]^f[h>>>8&255]^d[255&p]^e[g++],c=u[v>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&m]^e[g++],h=o,p=a,m=s,v=c;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[m>>>8&255]<<8|r[255&v])^e[g++],a=(r[p>>>24]<<24|r[m>>>16&255]<<16|r[v>>>8&255]<<8|r[255&h])^e[g++],s=(r[m>>>24]<<24|r[v>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^e[g++],c=(r[v>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&m])^e[g++],[o>>>=0,a>>>=0,s>>>=0,c>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,c=0;c<256;++c){var u=s^s<<1^s<<2^s<<3^s<<4;u=u>>>8^255&u^99,n[a]=u,r[u]=a;var l=t[a],f=t[l],d=t[f],h=257*t[u]^16843008*u;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*d^65537*f^257*l^16843008*a,o[0][u]=h<<24|h>>>8,o[1][u]=h<<16|h>>>16,o[2][u]=h<<8|h>>>24,o[3][u]=h,0===a?a=s=1:(a=l^t[t[t[d^l]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function u(t){this._key=i(t),this._reset()}u.blockSize=16,u.keySize=32,u.prototype.blockSize=u.blockSize,u.prototype.keySize=u.keySize,u.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var a=i[o-1];o%e==0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=s[o/e|0]<<24):e>6&&o%e==4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-e]^a}for(var u=[],l=0;l<r;l++){var f=r-l,d=i[f-(l%4?0:4)];u[l]=l<4||f<=4?d:c.INV_SUB_MIX[0][c.SBOX[d>>>24]]^c.INV_SUB_MIX[1][c.SBOX[d>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[d>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=u},u.prototype.encryptBlockRaw=function(t){return a(t=i(t),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},u.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=r.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},u.prototype.decryptBlock=function(t){var e=(t=i(t))[1];t[1]=t[3],t[3]=e;var n=a(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},u.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=u},function(t,e,n){var r=n(4).Buffer,i=n(48);t.exports=function(t,e,n,o){if(r.isBuffer(t)||(t=r.from(t,"binary")),e&&(r.isBuffer(e)||(e=r.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),c=r.alloc(o||0),u=r.alloc(0);a>0||o>0;){var l=new i;l.update(u),l.update(t),e&&l.update(e),u=l.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,u.length),u.copy(s,d,0,f),a-=f}if(f<u.length&&o>0){var h=c.length-o,p=Math.min(o,u.length-f);u.copy(c,h,f,f+p),o-=p}}return u.fill(0),{key:s,iv:c}}},function(t,e,n){"use strict";var r=n(8),i=n(18),o=i.getNAF,a=i.getJSF,s=i.assert;function c(t,e){this.type=t,this.p=new r(e.p,16),this.red=e.prime?r.red(e.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=e.n&&new r(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(t,e){s(t.precomputed);var n=t._getDoubles(),r=o(e,1,this._bitLength),i=(1<<n.step+1)-(n.step%2==0?2:1);i/=3;for(var a=[],c=0;c<r.length;c+=n.step){var u=0;for(e=c+n.step-1;e>=c;e--)u=(u<<1)+r[e];a.push(u)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(c=0;c<a.length;c++){(u=a[c])===d?f=f.mixedAdd(n.points[c]):u===-d&&(f=f.mixedAdd(n.points[c].neg()))}l=l.add(f)}return l.toP()},c.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(e,n,this._bitLength),c=this.jpoint(null,null,null),u=a.length-1;u>=0;u--){for(e=0;u>=0&&0===a[u];u--)e++;if(u>=0&&e++,c=c.dblp(e),u<0)break;var l=a[u];s(0!==l),c="affine"===t.type?l>0?c.mixedAdd(i[l-1>>1]):c.mixedAdd(i[-l-1>>1].neg()):l>0?c.add(i[l-1>>1]):c.add(i[-l-1>>1].neg())}return"affine"===t.type?c.toP():c},c.prototype._wnafMulAdd=function(t,e,n,r,i){for(var s=this._wnafT1,c=this._wnafT2,u=this._wnafT3,l=0,f=0;f<r;f++){var d=(_=e[f])._getNAFPoints(t);s[f]=d.wnd,c[f]=d.points}for(f=r-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var m=[e[h],null,null,e[p]];0===e[h].y.cmp(e[p].y)?(m[1]=e[h].add(e[p]),m[2]=e[h].toJ().mixedAdd(e[p].neg())):0===e[h].y.cmp(e[p].y.redNeg())?(m[1]=e[h].toJ().mixedAdd(e[p]),m[2]=e[h].add(e[p].neg())):(m[1]=e[h].toJ().mixedAdd(e[p]),m[2]=e[h].toJ().mixedAdd(e[p].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=a(n[h],n[p]);l=Math.max(g[0].length,l),u[h]=new Array(l),u[p]=new Array(l);for(var y=0;y<l;y++){var b=0|g[0][y],w=0|g[1][y];u[h][y]=v[3*(b+1)+(w+1)],u[p][y]=0,c[h]=m}}else u[h]=o(n[h],s[h],this._bitLength),u[p]=o(n[p],s[p],this._bitLength),l=Math.max(u[h].length,l),l=Math.max(u[p].length,l)}var k=this.jpoint(null,null,null),x=this._wnafT4;for(f=l;f>=0;f--){for(var S=0;f>=0;){var E=!0;for(y=0;y<r;y++)x[y]=0|u[y][f],0!==x[y]&&(E=!1);if(!E)break;S++,f--}if(f>=0&&S++,k=k.dblp(S),f<0)break;for(y=0;y<r;y++){var _,C=x[y];0!==C&&(C>0?_=c[y][C-1>>1]:C<0&&(_=c[y][-C-1>>1].neg()),k="affine"===_.type?k.mixedAdd(_):k.add(_))}}for(f=0;f<r;f++)c[f]=null;return i?k:k.toP()},c.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*n)return 6===t[0]?s(t[t.length-1]%2==0):7===t[0]&&s(t[t.length-1]%2==1),this.point(t.slice(1,1+n),t.slice(1+n,1+2*n));if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var r=n(213),i=n(224),o=n(225),a=n(57),s=n(85),c=n(4).Buffer;function u(t){var e;"object"!=typeof t||c.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=c.from(t));var n,u,l=o(t,e),f=l.tag,d=l.data;switch(f){case"CERTIFICATE":u=r.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=r.PublicKey.decode(d,"der")),n=u.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=r.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":d=function(t,e){var n=t.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,l=t.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(e,n,r,f,"sha1"),h=a.createDecipheriv(o,d,u),p=[];return p.push(h.update(l)),p.push(h.final()),c.concat(p)}(d=r.EncryptedPrivateKey.decode(d,"der"),e);case"PRIVATE KEY":switch(n=(u=r.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:r.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=r.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=r.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+f)}}t.exports=u,u.signature=r.signature},function(t,e,n){"use strict";let r=n(148);t.exports=new r(n(149))},function(t,e,n){var r,i,o;o=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<t.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),e.push(i))}var o=e.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return o=a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return t("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=o():void 0===(i="function"==typeof(r=o)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e){function n(t,e){var n=t.indexOf(e);if(-1===n)throw new Error("Invalid character found: "+e);return n}t.exports=function(t,e){var r;switch(e){case"RFC3548":case"RFC4648":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",t=t.replace(/=+$/,"");break;case"RFC4648-HEX":r="0123456789ABCDEFGHIJKLMNOPQRSTUV",t=t.replace(/=+$/,"");break;case"Crockford":r="0123456789ABCDEFGHJKMNPQRSTVWXYZ",t=t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1");break;default:throw new Error("Unknown base32 variant: "+e)}for(var i=t.length,o=0,a=0,s=0,c=new Uint8Array(5*i/8|0),u=0;u<i;u++)a=a<<5|n(r,t[u]),(o+=5)>=8&&(c[s++]=a>>>o-8&255,o-=8);return c.buffer}},function(t,e,n){var r=n(235);t.exports=function(t,e,n){var i,o;switch(n=n||{},e){case"RFC3548":case"RFC4648":i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",o=!0;break;case"RFC4648-HEX":i="0123456789ABCDEFGHIJKLMNOPQRSTUV",o=!0;break;case"Crockford":i="0123456789ABCDEFGHJKMNPQRSTVWXYZ",o=!1;break;default:throw new Error("Unknown base32 variant: "+e)}for(var a=void 0!==n.padding?n.padding:o,s=r(t),c=0,u=0,l="",f=0;f<s.byteLength;f++)for(u=u<<8|s.getUint8(f),c+=8;c>=5;)l+=i[u>>>c-5&31],c-=5;if(c>0&&(l+=i[u<<5-c&31]),a)for(;l.length%8!=0;)l+="=";return l}},function(t,e,n){"use strict";for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=o&&(c||+o[1]<57)||s&&c,f=0;f<10;f++)r[48+f]=r[96+f]=String(f);for(f=1;f<=24;f++)r[f+111]="F"+f;for(f=65;f<=90;f++)r[f]=String.fromCharCode(f+32),i[f]=String.fromCharCode(f);for(var d in r)i.hasOwnProperty(d)||(i[d]=r[d]);var h=n(1);n.d(e,"a",(function(){return g}));var p="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function m(t){var e,n,r,i,o=t.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(var s=0;s<o.length-1;s++){var c=o[s];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);p?i=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function v(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function g(t){return new h.d({props:{handleKeyDown:y(t)}})}function y(t){var e=function(t){var e=Object.create(null);for(var n in t)e[m(n)]=t[n];return e}(t);return function(t,n){var o,s=function(t){var e=!(l&&(t.ctrlKey||t.altKey||t.metaKey)||(a||u)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),c=1==s.length&&" "!=s,f=e[v(s,n,!c)];if(f&&f(t.state,t.dispatch,t))return!0;if(c&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=s){var d=e[v(o,n,!0)];if(d&&d(t.state,t.dispatch,t))return!0}else if(c&&n.shiftKey){var h=e[v(s,n,!0)];if(h&&h(t.state,t.dispatch,t))return!0}return!1}}},function(t,e,n){"use strict";(function(e){var r=n(13),i=n(133),o=n(69),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?c=n(70):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(c=n(70)),c),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(a)})),t.exports=u}).call(this,n(16))},function(t,e,n){"use strict";var r=n(3),i=n(75),o=n(4).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(t,e){return t<<e|t>>>32-e}function u(t,e,n,r,i,o,a){return c(t+(e&n|~e&r)+i+o|0,a)+e|0}function l(t,e,n,r,i,o,a){return c(t+(e&r|n&~r)+i+o|0,a)+e|0}function f(t,e,n,r,i,o,a){return c(t+(e^n^r)+i+o|0,a)+e|0}function d(t,e,n,r,i,o,a){return c(t+(n^(e|~r))+i+o|0,a)+e|0}r(s,i),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=u(n,r,i,o,t[0],3614090360,7),o=u(o,n,r,i,t[1],3905402710,12),i=u(i,o,n,r,t[2],606105819,17),r=u(r,i,o,n,t[3],3250441966,22),n=u(n,r,i,o,t[4],4118548399,7),o=u(o,n,r,i,t[5],1200080426,12),i=u(i,o,n,r,t[6],2821735955,17),r=u(r,i,o,n,t[7],4249261313,22),n=u(n,r,i,o,t[8],1770035416,7),o=u(o,n,r,i,t[9],2336552879,12),i=u(i,o,n,r,t[10],4294925233,17),r=u(r,i,o,n,t[11],2304563134,22),n=u(n,r,i,o,t[12],1804603682,7),o=u(o,n,r,i,t[13],4254626195,12),i=u(i,o,n,r,t[14],2792965006,17),n=l(n,r=u(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=l(o,n,r,i,t[6],3225465664,9),i=l(i,o,n,r,t[11],643717713,14),r=l(r,i,o,n,t[0],3921069994,20),n=l(n,r,i,o,t[5],3593408605,5),o=l(o,n,r,i,t[10],38016083,9),i=l(i,o,n,r,t[15],3634488961,14),r=l(r,i,o,n,t[4],3889429448,20),n=l(n,r,i,o,t[9],568446438,5),o=l(o,n,r,i,t[14],3275163606,9),i=l(i,o,n,r,t[3],4107603335,14),r=l(r,i,o,n,t[8],1163531501,20),n=l(n,r,i,o,t[13],2850285829,5),o=l(o,n,r,i,t[2],4243563512,9),i=l(i,o,n,r,t[7],1735328473,14),n=f(n,r=l(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=f(o,n,r,i,t[8],2272392833,11),i=f(i,o,n,r,t[11],1839030562,16),r=f(r,i,o,n,t[14],4259657740,23),n=f(n,r,i,o,t[1],2763975236,4),o=f(o,n,r,i,t[4],1272893353,11),i=f(i,o,n,r,t[7],4139469664,16),r=f(r,i,o,n,t[10],3200236656,23),n=f(n,r,i,o,t[13],681279174,4),o=f(o,n,r,i,t[0],3936430074,11),i=f(i,o,n,r,t[3],3572445317,16),r=f(r,i,o,n,t[6],76029189,23),n=f(n,r,i,o,t[9],3654602809,4),o=f(o,n,r,i,t[12],3873151461,11),i=f(i,o,n,r,t[15],530742520,16),n=d(n,r=f(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=d(o,n,r,i,t[7],1126891415,10),i=d(i,o,n,r,t[14],2878612391,15),r=d(r,i,o,n,t[5],4237533241,21),n=d(n,r,i,o,t[12],1700485571,6),o=d(o,n,r,i,t[3],2399980690,10),i=d(i,o,n,r,t[10],4293915773,15),r=d(r,i,o,n,t[1],2240044497,21),n=d(n,r,i,o,t[8],1873313359,6),o=d(o,n,r,i,t[15],4264355552,10),i=d(i,o,n,r,t[6],2734768916,15),r=d(r,i,o,n,t[13],1309151649,21),n=d(n,r,i,o,t[4],4149444226,6),o=d(o,n,r,i,t[11],3174756917,10),i=d(i,o,n,r,t[2],718787259,15),r=d(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,n){t.exports=i;var r=n(50).EventEmitter;function i(){r.call(this)}n(3)(i,r),i.Readable=n(51),i.Writable=n(161),i.Duplex=n(162),i.Transform=n(163),i.PassThrough=n(164),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",s),n.on("close",c));var a=!1;function s(){a||(a=!0,t.end())}function c(){a||(a=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(l(),0===r.listenerCount(this,"error"))throw t}function l(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",l),n.removeListener("close",l),t.removeListener("close",l)}return n.on("error",u),t.on("error",u),n.on("end",l),n.on("close",l),t.on("close",l),t.emit("pipe",n),t}},function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var a=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,n,r){var i,o,a,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(t))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=a.length,s=c,console&&console.warn&&console.warn(s)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function m(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||a(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=v(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return u(e),this.on(t,h(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,h(this,t,e)),this},s.prototype.removeListener=function(t,e){var n,r,i,o,a;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return p(this,t,!0)},s.prototype.rawListeners=function(t){return p(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):m.call(t,e)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,n){(e=t.exports=n(76)).Stream=e,e.Readable=e,e.Writable=n(52),e.Duplex=n(28),e.Transform=n(79),e.PassThrough=n(160)},function(t,e,n){"use strict";(function(e,r,i){var o=n(37);function a(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;t.entry=null;for(;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=y;var s,c=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:o.nextTick;y.WritableState=g;var u=n(32);u.inherits=n(3);var l={deprecate:n(159)},f=n(77),d=n(4).Buffer,h=i.Uint8Array||function(){};var p,m=n(78);function v(){}function g(t,e){s=s||n(28),t=t||{};var r=e instanceof s;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,u=t.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===t.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,i){--e.pendingcb,n?(o.nextTick(i,r),o.nextTick(E,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),E(t,e))}(t,n,r,e,i);else{var a=x(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||k(t,n),r?c(w,t,n,a,i):w(t,n,a,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(t){if(s=s||n(28),!(p.call(y,this)||this instanceof s))return new y(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),f.call(this)}function b(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function w(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),E(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var s=0,c=!0;n;)i[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;i.allBuffers=c,b(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new a(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,f=n.callback;if(b(t,e,!1,e.objectMode?1:u.length,u,l,f),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function x(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),E(t,e)}))}function E(t,e){var n=x(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(y,f),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(t){return!!p.call(this,t)||this===y&&(t&&t._writableState instanceof g)}})):p=function(t){return t instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(t,e,n){var r,i=this._writableState,a=!1,s=!i.objectMode&&(r=t,d.isBuffer(r)||r instanceof h);return s&&!d.isBuffer(t)&&(t=function(t){return d.from(t)}(t)),"function"==typeof e&&(n=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),"function"!=typeof n&&(n=v),i.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(s||function(t,e,n,r){var i=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),o.nextTick(r,a),i=!1),i}(this,i,t,n))&&(i.pendingcb++,a=function(t,e,n,r,i,o){if(!n){var a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=d.from(e,n));return e}(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var c=e.length<e.highWaterMark;c||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else b(t,e,!1,s,r,i,o);return c}(this,i,s,t,e,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||k(this,t))},y.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(t,e,n){e.ending=!0,E(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(16),n(157).setImmediate,n(15))},function(t,e,n){"use strict";var r=n(4).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=l,this.end=f,e=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function l(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function f(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function d(t){return t.toString(this.encoding)}function h(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(e[r]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var r=n(6).Buffer,i=n(3),o=n(75),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function m(t,e,n,r,i,o,a,s){return p(t+(e^n^r)+o+a|0,s)+i|0}function v(t,e,n,r,i,o,a,s){return p(t+(e&n|~e&r)+o+a|0,s)+i|0}function g(t,e,n,r,i,o,a,s){return p(t+((e|~n)^r)+o+a|0,s)+i|0}function y(t,e,n,r,i,o,a,s){return p(t+(e&r|n&~r)+o+a|0,s)+i|0}function b(t,e,n,r,i,o,a,s){return p(t+(e^(n|~r))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,w=0|this._a,k=0|this._b,x=0|this._c,S=0|this._d,E=0|this._e,_=0;_<80;_+=1){var C,M;_<16?(C=m(n,r,i,o,h,t[s[_]],f[0],u[_]),M=b(w,k,x,S,E,t[c[_]],d[0],l[_])):_<32?(C=v(n,r,i,o,h,t[s[_]],f[1],u[_]),M=y(w,k,x,S,E,t[c[_]],d[1],l[_])):_<48?(C=g(n,r,i,o,h,t[s[_]],f[2],u[_]),M=g(w,k,x,S,E,t[c[_]],d[2],l[_])):_<64?(C=y(n,r,i,o,h,t[s[_]],f[3],u[_]),M=v(w,k,x,S,E,t[c[_]],d[3],l[_])):(C=b(n,r,i,o,h,t[s[_]],f[4],u[_]),M=m(w,k,x,S,E,t[c[_]],d[4],l[_])),n=h,h=o,o=p(i,10),i=r,r=C,w=E,E=S,S=p(x,10),x=k,k=M}var A=this._b+i+S|0;this._b=this._c+o+E|0,this._c=this._d+h+w|0,this._d=this._e+n+k|0,this._e=this._a+r+x|0,this._a=A},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=h},function(t,e,n){(e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n}).sha=n(165),e.sha1=n(166),e.sha224=n(167),e.sha256=n(80),e.sha384=n(168),e.sha512=n(81)},function(t,e,n){"use strict";var r=n(17);function i(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}t.exports=i,i.prototype._init=function(){},i.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},i.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},i.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},i.prototype.final=function(t){var e,n;return t&&(e=this.update(t)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},i.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},i.prototype._unpad=function(t){return t},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var r=n(177),i=n(185),o=n(93);e.createCipher=e.Cipher=r.createCipher,e.createCipheriv=e.Cipheriv=r.createCipheriv,e.createDecipher=e.Decipher=i.createDecipher,e.createDecipheriv=e.Decipheriv=i.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var r={ECB:n(178),CBC:n(179),CFB:n(180),CFB8:n(181),CFB1:n(182),OFB:n(183),CTR:n(91),GCM:n(91)},i=n(93);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){var r;function i(t){this.rand=t}if(t.exports=function(t){return r||(r=new i(null)),r.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(190);if("function"!=typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){(function(e){var r=n(8),i=n(12);function o(t,n){var i=function(t){var e=a(t);return{blinder:e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}(n),o=n.modulus.byteLength(),s=(r.mont(n.modulus),new r(t).mul(i.blinder).umod(n.modulus)),c=s.toRed(r.mont(n.prime1)),u=s.toRed(r.mont(n.prime2)),l=n.coefficient,f=n.prime1,d=n.prime2,h=c.redPow(n.exponent1),p=u.redPow(n.exponent2);h=h.fromRed(),p=p.fromRed();var m=h.isub(p).imul(l).umod(f);return m.imul(d),p.iadd(m),new e(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function a(t){for(var e=t.modulus.byteLength(),n=new r(i(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new r(i(e));return n}t.exports=o,o.getr=a}).call(this,n(6).Buffer)},function(t,e,n){"use strict";var r=e;r.version=n(195).version,r.utils=n(18),r.rand=n(59),r.curve=n(99),r.curves=n(62),r.ec=n(206),r.eddsa=n(210)},function(t,e,n){"use strict";var r,i=e,o=n(63),a=n(99),s=n(18).assert;function c(t){"short"===t.type?this.curve=new a.short(t):"edwards"===t.type?this.curve=new a.edwards(t):this.curve=new a.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var n=new c(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=c,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(205)}catch(t){r=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},function(t,e,n){var r=e;r.utils=n(20),r.common=n(34),r.sha=n(199),r.ripemd=n(203),r.hmac=n(204),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";(function(e){var r=n(14),i=n(244),o=n(115),a={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?c=n(116):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(c=n(116)),c),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw o(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(a)})),t.exports=u}).call(this,n(16))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(1),i=(n(2),function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,i){var o=n;if(e[1]){var a=e[0].lastIndexOf(e[1]);o+=e[0].slice(a+e[1].length);var s=(r+=a)-i;s>0&&(o=e[0].slice(a-s,a)+o,r=i)}return t.tr.insertText(o,r,i)}):e});function o(t){var e=t.rules,n=new r.d({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,r,i,o){return a(t,r,i,o,e,n)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var r=t.state.selection.$cursor;r&&a(t,r.pos,r.pos,"",e,n)}))}}},isInputRules:!0});return n}function a(t,e,n,r,i,o){if(t.composing)return!1;var a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r,u=0;u<i.length;u++){var l=i[u].match.exec(c),f=l&&i[u].handler(a,l,e-(l[0].length-r.length),n);if(f)return t.dispatch(f.setMeta(o,{transform:f,from:e,to:n,text:r})),!0}return!1}new i(/--$/,"—"),new i(/\.\.\.$/,"…"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new i(/"$/,"”"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new i(/'$/,"’")},function(t,e,n){"use strict";var r=n(127),i=n.n(r)()((function(t){return t[1]}));i.push([t.i,".center{width:100%;height:100%}.tabulator-row .tabulator-cell{border-right:none}.loadPopover{width:600px}.tui-image-editor-item svg{vertical-align:baseline}",""]),e.a=i},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(13);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(13),i=n(134),o=n(135),a=n(68),s=n(136),c=n(139),u=n(140),l=n(71);t.exports=function(t){return new Promise((function(e,n){var f=t.data,d=t.headers,h=t.responseType;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+v)}var g=s(t.baseURL,t.url);function y(){if(p){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p};i(e,n,o),p=null}}if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(t.withCredentials||u(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),h&&"json"!==h&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),n(t),p=null)})),f||(f=null),p.send(f)}))}},function(t,e,n){"use strict";var r=n(69);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(o,u),r.forEach(a,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(void 0,e[i])})),r.forEach(s,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var l=i.concat(o).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===l.indexOf(t)}));return r.forEach(f,u),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";var r=n(4).Buffer,i=n(49).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(3)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError(e+" must be a string or a buffer")}(t,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var a=0,s=8*t.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},function(t,e,n){"use strict";(function(e,r){var i=n(37);t.exports=b;var o,a=n(153);b.ReadableState=y;n(50).EventEmitter;var s=function(t,e){return t.listeners(e).length},c=n(77),u=n(4).Buffer,l=e.Uint8Array||function(){};var f=n(32);f.inherits=n(3);var d=n(154),h=void 0;h=d&&d.debuglog?d.debuglog("stream"):function(){};var p,m=n(155),v=n(78);f.inherits(b,c);var g=["error","close","destroy","pause","resume"];function y(t,e){t=t||{};var r=e instanceof(o=o||n(28));this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=n(53).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function b(t){if(o=o||n(28),!(this instanceof b))return new b(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),c.call(this)}function w(t,e,n,r,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,S(t)}(t,a)):(i||(o=function(t,e){var n;r=e,u.isBuffer(r)||r instanceof l||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):k(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?k(t,a,e,!1):_(t,a)):k(t,a,e,!1))):r||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function k(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&S(t)),_(t,e)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),b.prototype.destroy=v.destroy,b.prototype._undestroy=v.undestroy,b.prototype._destroy=function(t,e){this.push(null),e(t)},b.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=u.from(t,e),e=""),n=!0),w(this,t,e,!1,n)},b.prototype.unshift=function(t){return w(this,t,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(t){return p||(p=n(53).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};function x(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=8388608?t=8388608:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function S(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(h("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?i.nextTick(E,t):E(t))}function E(t){h("emit readable"),t.emit("readable"),T(t)}function _(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(C,t,e))}function C(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(h("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function M(t){h("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(h("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(h("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var r;t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,r=1,i=n.data;t-=i.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}(t,e):function(t,e){var n=u.allocUnsafe(t),r=e.head,i=1;r.data.copy(n),t-=r.data.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}(t,e);return r}(t,e.buffer,e.decoder),n);var n}function D(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,i.nextTick(I,e,t))}function I(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function N(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}b.prototype.read=function(t){h("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return h("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?D(this):S(this),null;if(0===(t=x(t,e))&&e.ended)return 0===e.length&&D(this),null;var r,i=e.needReadable;return h("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&h("length less than watermark",i=!0),e.ended||e.reading?h("reading or ended",i=!1):i&&(h("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=x(n,e))),null===(r=t>0?O(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&D(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,h("pipe count=%d opts=%j",o.pipesCount,e);var c=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr?l:b;function u(e,r){h("onunpipe"),e===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,h("cleanup"),t.removeListener("close",g),t.removeListener("finish",y),t.removeListener("drain",f),t.removeListener("error",v),t.removeListener("unpipe",u),n.removeListener("end",l),n.removeListener("end",b),n.removeListener("data",m),d=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||f())}function l(){h("onend"),t.end()}o.endEmitted?i.nextTick(c):n.once("end",c),t.on("unpipe",u);var f=function(t){return function(){var e=t._readableState;h("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,T(t))}}(n);t.on("drain",f);var d=!1;var p=!1;function m(e){h("ondata"),p=!1,!1!==t.write(e)||p||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==N(o.pipes,t))&&!d&&(h("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function v(e){h("onerror",e),b(),t.removeListener("error",v),0===s(t,"error")&&t.emit("error",e)}function g(){t.removeListener("finish",y),b()}function y(){h("onfinish"),t.removeListener("close",g),b()}function b(){h("unpipe"),n.unpipe(t)}return n.on("data",m),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?a(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",v),t.once("close",g),t.once("finish",y),t.emit("pipe",n),o.flowing||(h("pipe resume"),n.resume()),t},b.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=N(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},b.prototype.on=function(t,e){var n=c.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):i.nextTick(M,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var t=this._readableState;return t.flowing||(h("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(A,t,e))}(this,t)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(h("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){(h("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<g.length;o++)t.on(g[o],this.emit.bind(this,g[o]));return this._read=function(e){h("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,n(15),n(16))},function(t,e,n){t.exports=n(50).EventEmitter},function(t,e,n){"use strict";var r=n(37);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(r.nextTick(i,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=a;var r=n(28),i=n(32);function o(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(t){if(!(this instanceof a))return new a(t);r.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",s)}function s(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){c(t,e,n)})):c(this,null,null)}function c(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=n(3),i.inherits(a,r),a.prototype.push=function(t,e){return this._transformState.needTransform=!1,r.prototype.push.call(this,t,e)},a.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},a.prototype._destroy=function(t,e){var n=this;r.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){var r=n(3),i=n(29),o=n(4).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function f(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function d(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function h(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(c,i),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,p=0|this._f,m=0|this._g,v=0|this._h,g=0;g<16;++g)n[g]=t.readInt32BE(4*g);for(;g<64;++g)n[g]=0|(((e=n[g-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[g-7]+h(n[g-15])+n[g-16];for(var y=0;y<64;++y){var b=v+d(c)+u(c,p,m)+a[y]+n[y]|0,w=f(r)+l(r,i,o)|0;v=m,m=p,p=c,c=s+b|0,s=o,o=i,i=r,r=b+w|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0,this._f=p+this._f|0,this._g=m+this._g|0,this._h=v+this._h|0},c.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=c},function(t,e,n){var r=n(3),i=n(29),o=n(4).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function c(){this.init(),this._w=s,i.call(this,128,112)}function u(t,e,n){return n^t&(e^n)}function l(t,e,n){return t&e|n&(t|e)}function f(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function d(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function h(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function m(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function v(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function g(t,e){return t>>>0<e>>>0?1:0}r(c,i),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,c=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,k=0|this._bl,x=0|this._cl,S=0|this._dl,E=0|this._el,_=0|this._fl,C=0|this._gl,M=0|this._hl,A=0;A<32;A+=2)e[A]=t.readInt32BE(4*A),e[A+1]=t.readInt32BE(4*A+4);for(;A<160;A+=2){var T=e[A-30],O=e[A-30+1],D=h(T,O),I=p(O,T),N=m(T=e[A-4],O=e[A-4+1]),P=v(O,T),L=e[A-14],R=e[A-14+1],B=e[A-32],j=e[A-32+1],U=I+R|0,z=D+L+g(U,I)|0;z=(z=z+N+g(U=U+P|0,P)|0)+B+g(U=U+j|0,j)|0,e[A]=z,e[A+1]=U}for(var H=0;H<160;H+=2){z=e[H],U=e[H+1];var F=l(n,r,i),q=l(w,k,x),V=f(n,w),$=f(w,n),K=d(s,E),W=d(E,s),J=a[H],G=a[H+1],Y=u(s,c,y),X=u(E,_,C),Z=M+W|0,Q=b+K+g(Z,M)|0;Q=(Q=(Q=Q+Y+g(Z=Z+X|0,X)|0)+J+g(Z=Z+G|0,G)|0)+z+g(Z=Z+U|0,U)|0;var tt=$+q|0,et=V+F+g(tt,$)|0;b=y,M=C,y=c,C=_,c=s,_=E,s=o+Q+g(E=S+Z|0,S)|0,o=i,S=x,i=r,x=k,r=n,k=w,n=Q+et+g(w=Z+tt|0,Z)|0}this._al=this._al+w|0,this._bl=this._bl+k|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+E|0,this._fl=this._fl+_|0,this._gl=this._gl+C|0,this._hl=this._hl+M|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,k)|0,this._ch=this._ch+i+g(this._cl,x)|0,this._dh=this._dh+o+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,E)|0,this._fh=this._fh+c+g(this._fl,_)|0,this._gh=this._gh+y+g(this._gl,C)|0,this._hh=this._hh+b+g(this._hl,M)|0},c.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=c},function(t,e,n){"use strict";var r=n(3),i=n(169),o=n(26),a=n(4).Buffer,s=n(83),c=n(54),u=n(55),l=a.alloc(128);function f(t,e){o.call(this,"digest"),"string"==typeof e&&(e=a.from(e));var n="sha512"===t||"sha384"===t?128:64;(this._alg=t,this._key=e,e.length>n)?e=("rmd160"===t?new c:u(t)).update(e).digest():e.length<n&&(e=a.concat([e,l],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^e[s],i[s]=92^e[s];this._hash="rmd160"===t?new c:u(t),this._hash.update(r)}r(f,o),f.prototype._update=function(t){this._hash.update(t)},f.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:u(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new f("rmd160",e):"md5"===t?new i(s,e):new f(t,e)}},function(t,e,n){var r=n(48);t.exports=function(t){return(new r).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,n){e.pbkdf2=n(171),e.pbkdf2Sync=n(88)},function(t,e,n){(function(e){var n=Math.pow(2,30)-1;function r(t,n){if("string"!=typeof t&&!e.isBuffer(t))throw new TypeError(n+" must be a buffer or string")}t.exports=function(t,e,i,o){if(r(t,"Password"),r(e,"Salt"),"number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0||o>n||o!=o)throw new TypeError("Bad key length")}}).call(this,n(6).Buffer)},function(t,e,n){(function(e){var n;e.browser?n="utf-8":n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary";t.exports=n}).call(this,n(16))},function(t,e,n){var r=n(83),i=n(54),o=n(55),a=n(86),s=n(87),c=n(4).Buffer,u=c.alloc(128),l={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(t,e,n){var a=function(t){function e(e){return o(t).update(e).digest()}return"rmd160"===t||"ripemd160"===t?function(t){return(new i).update(t).digest()}:"md5"===t?r:e}(t),s="sha512"===t||"sha384"===t?128:64;e.length>s?e=a(e):e.length<s&&(e=c.concat([e,u],s));for(var f=c.allocUnsafe(s+l[t]),d=c.allocUnsafe(s+l[t]),h=0;h<s;h++)f[h]=54^e[h],d[h]=92^e[h];var p=c.allocUnsafe(s+n+4);f.copy(p,0,0,s),this.ipad1=p,this.ipad2=f,this.opad=d,this.alg=t,this.blocksize=s,this.hash=a,this.size=l[t]}f.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,r,i){a(t,e,n,r),c.isBuffer(t)||(t=c.from(t,s)),c.isBuffer(e)||(e=c.from(e,s));var o=new f(i=i||"sha1",t,e.length),u=c.allocUnsafe(r),d=c.allocUnsafe(e.length+4);e.copy(d,0,0,e.length);for(var h=0,p=l[i],m=Math.ceil(r/p),v=1;v<=m;v++){d.writeUInt32BE(v,e.length);for(var g=o.run(d,o.ipad1),y=g,b=1;b<n;b++){y=o.run(y,o.ipad2);for(var w=0;w<p;w++)g[w]^=y[w]}g.copy(u,h),h+=p}return u}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,a=0,s=r.length>>>1,c=0;c<s;c++)o<<=1,o|=t>>>r[c]&1;for(c=s;c<r.length;c++)a<<=1,a|=e>>>r[c]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){n<<=4,n|=i[64*r+(t>>>18-6*r&63)]}for(r=0;r<4;r++){n<<=4,n|=i[256+64*r+(e>>>18-6*r&63)]}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";var r=n(17),i=n(3),o=n(89),a=n(56);function s(){this.tmp=new Array(2),this.keys=null}function c(t){a.call(this,t);var e=new s;this._desState=e,this.deriveKeys(e,t.key)}i(c,a),t.exports=c,c.create=function(t){return new c(t)};var u=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(t,e){t.keys=new Array(32),r.equal(e.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(e,0),i=o.readUInt32BE(e,4);o.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var a=0;a<t.keys.length;a+=2){var s=u[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,t.keys,a)}},c.prototype._update=function(t,e,n,r){var i=this._desState,a=o.readUInt32BE(t,e),s=o.readUInt32BE(t,e+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},c.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},c.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)r.equal(t[n],e);return t.slice(0,t.length-e)},c.prototype._encrypt=function(t,e,n,r,i){for(var a=e,s=n,c=0;c<t.keys.length;c+=2){var u=t.keys[c],l=t.keys[c+1];o.expand(s,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var f=o.substitute(u,l),d=s;s=(a^o.permute(f))>>>0,a=d}o.rip(s,a,r,i)},c.prototype._decrypt=function(t,e,n,r,i){for(var a=n,s=e,c=t.keys.length-2;c>=0;c-=2){var u=t.keys[c],l=t.keys[c+1];o.expand(a,t.tmp,0),u^=t.tmp[0],l^=t.tmp[1];var f=o.substitute(u,l),d=a;a=(s^o.permute(f))>>>0,s=d}o.rip(a,s,r,i)}},function(t,e,n){var r=n(33),i=n(4).Buffer,o=n(92);function a(t){var e=t._cipher.encryptBlockRaw(t._prev);return o(t._prev),e}e.encrypt=function(t,e){var n=Math.ceil(e.length/16),o=t._cache.length;t._cache=i.concat([t._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var c=a(t),u=o+16*s;t._cache.writeUInt32BE(c[0],u+0),t._cache.writeUInt32BE(c[1],u+4),t._cache.writeUInt32BE(c[2],u+8),t._cache.writeUInt32BE(c[3],u+12)}var l=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),r(e,l)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,n){var r=n(38),i=n(4).Buffer,o=n(26),a=n(3),s=n(184),c=n(33),u=n(92);function l(t,e,n,a){o.call(this);var c=i.alloc(4,0);this._cipher=new r.AES(e);var l=this._cipher.encryptBlock(c);this._ghash=new s(l),n=function(t,e,n){if(12===e.length)return t._finID=i.concat([e,i.from([0,0,0,1])]),i.concat([e,i.from([0,0,0,2])]);var r=new s(n),o=e.length,a=o%16;r.update(e),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var c=8*o,l=i.alloc(8);l.writeUIntBE(c,0,8),r.update(l),t._finID=r.state;var f=i.from(t._finID);return u(f),f}(this,n,l),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}a(l,o),l.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=i.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},l.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},l.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},l.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},l.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=l},function(t,e,n){var r=n(38),i=n(4).Buffer,o=n(26);function a(t,e,n,a){o.call(this),this._cipher=new r.AES(e),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=t}n(3)(a,o),a.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},t.exports=a},function(t,e,n){var r=n(12);t.exports=y,y.simpleSieve=v,y.fermatTest=g;var i=n(8),o=new i(24),a=new(n(97)),s=new i(1),c=new i(2),u=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function m(){if(null!==p)return p;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!=0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return p=t,t}function v(t){for(var e=m(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function g(t){var e=i.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function y(t,e){if(t<16)return new i(2===e||5===e?[140,123]:[140,39]);var n,p;for(e=new i(e);;){for(n=new i(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(c),e.cmp(c)){if(!e.cmp(u))for(;n.mod(l).cmp(f);)n.iadd(h)}else for(;n.mod(o).cmp(d);)n.iadd(h);if(v(p=n.shrn(1))&&v(n)&&g(p)&&g(n)&&a.test(p)&&a.test(n))return n}}},function(t,e,n){var r=n(8),i=n(59);function o(t){this.rand=t||new i.Rand}t.exports=o,o.create=function(t){return new o(t)},o.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(t)>=0);return i},o.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},o.prototype.test=function(t,e,n){var i=t.bitLength(),o=r.mont(t),a=new r(1).toRed(o);e||(e=Math.max(1,i/48|0));for(var s=t.subn(1),c=0;!s.testn(c);c++);for(var u=t.shrn(c),l=s.toRed(o);e>0;e--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(o).redPow(u);if(0!==d.cmp(a)&&0!==d.cmp(l)){for(var h=1;h<c;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(l))break}if(h===c)return!1}}return!0},o.prototype.getDivisor=function(t,e){var n=t.bitLength(),i=r.mont(t),o=new r(1).toRed(i);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var c=t.shrn(s),u=a.toRed(i);e>0;e--){var l=this._randrange(new r(2),a),f=t.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(c);if(0!==d.cmp(o)&&0!==d.cmp(u)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(t);if(0===d.cmp(u))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){"use strict";var r=e;function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},r.zero2=i,r.toHex=o,r.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";var r=e;r.base=n(40),r.short=n(196),r.mont=n(197),r.edwards=n(198)},function(t,e,n){"use strict";var r=n(20).rotr32;function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}e.ft_1=function(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?a(e,n,r):2===t?o(e,n,r):void 0},e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=function(t){return r(t,2)^r(t,13)^r(t,22)},e.s1_256=function(t){return r(t,6)^r(t,11)^r(t,25)},e.g0_256=function(t){return r(t,7)^r(t,18)^t>>>3},e.g1_256=function(t){return r(t,17)^r(t,19)^t>>>10}},function(t,e,n){"use strict";var r=n(20),i=n(34),o=n(100),a=n(17),s=r.sum32,c=r.sum32_4,u=r.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,m=o.g1_256,v=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(y,v),t.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],v=this.h[2],g=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],k=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var x=u(k,h(y),l(y,b,w),this.k[r],n[r]),S=s(d(i),f(i,o,v));k=w,w=b,b=y,y=s(g,x),g=v,v=o,o=i,i=s(x,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],v),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],k)},y.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(20),i=n(34),o=n(17),a=r.rotr64_hi,s=r.rotr64_lo,c=r.shr64_hi,u=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,v=r.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function k(t,e,n,r,i,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}function x(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function S(t,e,n,r,i,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}function E(t,e){var n=a(t,e,28)^a(e,t,2)^a(e,t,7);return n<0&&(n+=4294967296),n}function _(t,e){var n=s(t,e,28)^s(e,t,2)^s(e,t,7);return n<0&&(n+=4294967296),n}function C(t,e){var n=a(t,e,14)^a(t,e,18)^a(e,t,9);return n<0&&(n+=4294967296),n}function M(t,e){var n=s(t,e,14)^s(t,e,18)^s(e,t,9);return n<0&&(n+=4294967296),n}function A(t,e){var n=a(t,e,1)^a(t,e,8)^c(t,e,7);return n<0&&(n+=4294967296),n}function T(t,e){var n=s(t,e,1)^s(t,e,8)^u(t,e,7);return n<0&&(n+=4294967296),n}function O(t,e){var n=a(t,e,19)^a(e,t,29)^c(t,e,6);return n<0&&(n+=4294967296),n}function D(t,e){var n=s(t,e,19)^s(e,t,29)^u(t,e,6);return n<0&&(n+=4294967296),n}r.inherits(b,g),t.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=O(n[r-4],n[r-3]),o=D(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],c=A(n[r-30],n[r-29]),u=T(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,o,a,s,c,u,l,f),n[r+1]=p(i,o,a,s,c,u,l,f)}},b.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],b=this.h[10],A=this.h[11],T=this.h[12],O=this.h[13],D=this.h[14],I=this.h[15];o(this.k.length===n.length);for(var N=0;N<n.length;N+=2){var P=D,L=I,R=C(g,y),B=M(g,y),j=w(g,y,b,A,T),U=k(g,y,b,A,T,O),z=this.k[N],H=this.k[N+1],F=n[N],q=n[N+1],V=m(P,L,R,B,j,U,z,H,F,q),$=v(P,L,R,B,j,U,z,H,F,q);P=E(r,i),L=_(r,i),R=x(r,i,a,s,c),B=S(r,i,a,s,c,u);var K=f(P,L,R,B),W=d(P,L,R,B);D=T,I=O,T=b,O=A,b=g,A=y,g=f(h,p,V,$),y=d(p,p,V,$),h=c,p=u,c=a,u=s,a=r,s=i,r=f(V,$,K,W),i=d(V,$,K,W)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,c,u),l(this.h,6,h,p),l(this.h,8,g,y),l(this.h,10,b,A),l(this.h,12,T,O),l(this.h,14,D,I)},b.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){var r=n(3),i=n(36).Reporter,o=n(6).Buffer;function a(t,e){i.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map((function(t){return t instanceof s||(t=new s(t,e)),this.length+=t.length,t}),this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}r(a,i),e.DecoderBuffer=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,i.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},a.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=s,s.prototype.join=function(t,e){return t||(t=new o(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach((function(n){n.join(t,e),e+=n.length})):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):o.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,n){var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach((function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n})),e},r.der=n(218)},function(t,e,n){var r=n(3),i=n(35),o=i.base,a=i.bignum,s=i.constants.der;function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){o.Node.call(this,"der",t)}function l(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=s.tagClass[n>>6],i=0==(32&n);if(31==(31&n)){var o=n;for(n=0;128==(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0==(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;r|=a}return r}t.exports=c,c.prototype.decode=function(t,e){return t instanceof o.DecoderBuffer||(t=new o.DecoderBuffer(t,e)),this.tree._decode(t,e)},r(u,o.Node),u.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=l(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},u.prototype._decodeTag=function(t,e,n){var r=l(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=f(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var o=t.save(),a=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(a)?a:(i=t.offset-o.offset,t.restore(o),t.skip(i,'Failed to match body of: "'+e+'"'))},u.prototype._skipUntilEnd=function(t,e){for(;;){var n=l(t,e);if(t.isError(n))return n;var r,i=f(t,n.primitive,e);if(t.isError(i))return i;if(r=n.primitive||null!==i?t.skip(i):this._skipUntilEnd(t,e),t.isError(r))return r;if("end"===n.tagStr)break}},u.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",r);if(t.isError(a)&&o)break;i.push(a)}return i},u.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},u.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0;!t.isEmpty();){var a=t.readUInt8();o<<=7,o|=127&a,0==(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,c=i[0]%40;if(r=n?i:[s,c].concat(i.slice(1)),e){var u=e[r.join(" ")];void 0===u&&(u=e[r.join(".")]),void 0!==u&&(r=u)}return r},u.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),c=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),c=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,c,0)},u.prototype._decodeNull=function(t){return null},u.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},u.prototype._decodeInt=function(t,e){var n=t.raw(),r=new a(n);return e&&(r=e[r.toString(10)]||r),r},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,n){var r=n(3),i=n(6).Buffer,o=n(35),a=o.base,s=o.constants.der;function c(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new u,this.tree._init(t.body)}function u(t){a.Node.call(this,"der",t)}function l(t){return t<10?"0"+t:t}t.exports=c,c.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},r(u,a.Node),u.prototype._encodeComposite=function(t,e,n,r){var o,a=function(t,e,n,r){var i;"seqof"===t?t="seq":"setof"===t&&(t="set");if(s.tagByName.hasOwnProperty(t))i=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}if(i>=31)return r.error("Multi-octet tag encoding unsupported");e||(i|=32);return i|=s.tagClassByName[n||"universal"]<<6}(t,e,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=a,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var c=1,u=r.length;u>=256;u>>=8)c++;(o=new i(2+c))[0]=a,o[1]=128|c;u=1+c;for(var l=r.length;l>0;u--,l>>=8)o[u]=255&l;return this._createEncoderBuffer([o,r])},u.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new i(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},u.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t)){t=t.slice();for(r=0;r<t.length;r++)t[r]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}var o=0;for(r=0;r<t.length;r++){var a=t[r];for(o++;a>=128;a>>=7)o++}var s=new i(o),c=s.length-1;for(r=t.length-1;r>=0;r--){a=t[r];for(s[c--]=127&a;(a>>=7)>0;)s[c--]=128|127&a}return this._createEncoderBuffer(s)},u.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!=typeof t&&!i.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new i(n)}if(i.isBuffer(t)){var r=t.length;0===t.length&&r++;var o=new i(r);return t.copy(o),0===t.length&&(o[0]=0),this._createEncoderBuffer(o)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);r=1;for(var a=t;a>=256;a>>=8)r++;for(a=(o=new Array(r)).length-1;a>=0;a--)o[a]=255&t,t>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},u.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},u.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},u.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,n){var r=n(31),i=n(4).Buffer;function o(t){var e=i.allocUnsafe(4);return e.writeUInt32BE(t,0),e}t.exports=function(t,e){for(var n,a=i.alloc(0),s=0;a.length<e;)n=o(s++),a=i.concat([a,r("sha1").update(t).update(n).digest()]);return a.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){var r=n(8),i=n(4).Buffer;t.exports=function(t,e){return i.from(t.toRed(r.mont(e.modulus)).redPow(new r(e.publicExponent)).fromRed().toArray())}},function(t,e,n){(function(e){function n(t){return(4294967296+t).toString(16).substring(1)}t.exports={normalizeInput:function(t){let n;if(t instanceof Uint8Array)n=t;else if(t instanceof e)n=new Uint8Array(t);else{if("string"!=typeof t)throw new Error("Input must be an string, Buffer or Uint8Array");n=new Uint8Array(e.from(t,"utf8"))}return n},toHex:function(t){return Array.prototype.map.call(t,(function(t){return(t<16?"0":"")+t.toString(16)})).join("")},debugPrint:function(t,e,r){let i="\n"+t+" = ";for(let o=0;o<e.length;o+=2){if(32===r)i+=n(e[o]).toUpperCase(),i+=" ",i+=n(e[o+1]).toUpperCase();else{if(64!==r)throw new Error("Invalid size "+r);i+=n(e[o+1]).toUpperCase(),i+=n(e[o]).toUpperCase()}o%6==4?i+="\n"+new Array(t.length+4).join(" "):o<e.length-2&&(i+=" ")}console.log(i)},testSpeed:function(t,e,n){let r=(new Date).getTime();const i=new Uint8Array(e);for(let t=0;t<e;t++)i[t]=t%256;const o=(new Date).getTime();console.log("Generated random input in "+(o-r)+"ms"),r=o;for(let o=0;o<n;o++){const n=t(i),o=(new Date).getTime(),a=o-r;r=o,console.log("Hashed in "+a+"ms: "+n.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(a/1e3)*100)/100+" MB PER SECOND")}}}}).call(this,n(6).Buffer)},function(t,e,n){"use strict";function r(t){return i(t,"https://")}function i(t,e){return t.startsWith(e)||(t=""+e+t),t}e.__esModule=!0,e.ensurePrefix=e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createFullScreenIframe=e.createIframe=void 0,e.createIframe=function(t,e){t=r(t);var n=document.createElement("iframe");if(null===n)throw new Error("Could not create new iframe");return n.src=t,n.name=e,n.style.display="none",document.body.appendChild(n),n},e.createFullScreenIframe=function(t,e){t=r(t);var n=document.createElement("iframe");if(null===n)throw new Error("Could not create new iframe");return n.src=t,n.name=e,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.width="100%",n.style.height="100%",n.style.border="none",n.style.margin="0",n.style.padding="0",n.style.overflow="hidden",n.style.zIndex="999999",document.body.appendChild(n),n},e.ensureUrl=r,e.removeAdjacentChars=function(t,e){for(var n=Array.from(t),r=0;r<n.length-1;)n[r]===e&&n[r+1]===e?n.splice(r,1):r++;return n.join("")},e.trimSuffix=function(t,e,n){for(;t.endsWith(e)&&!(void 0!==n&&n<=0);)t=t.substring(0,t.length-e.length),n&&(n-=1);return t},e.ensurePrefix=i},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(14);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(14),i=n(245),o=n(246),a=n(114),s=n(247),c=n(250),u=n(251),l=n(117);t.exports=function(t){return new Promise((function(e,n){var f=t.data,d=t.headers,h=t.responseType;r.isFormData(f)&&delete d["Content-Type"];var p=new XMLHttpRequest;if(t.auth){var m=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+v)}var g=s(t.baseURL,t.url);function y(){if(p){var r="getAllResponseHeaders"in p?c(p.getAllResponseHeaders()):null,o={data:h&&"text"!==h&&"json"!==h?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:t,request:p};i(e,n,o),p=null}}if(p.open(t.method.toUpperCase(),a(g,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,"onloadend"in p?p.onloadend=y:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(y)},p.onabort=function(){p&&(n(l("Request aborted",t,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",t,null,p)),p=null},p.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,t.transitional&&t.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var b=(t.withCredentials||u(g))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;b&&(d[t.xsrfHeaderName]=b)}"setRequestHeader"in p&&r.forEach(d,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete d[e]:p.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(p.withCredentials=!!t.withCredentials),h&&"json"!==h&&(p.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),n(t),p=null)})),f||(f=null),p.send(f)}))}},function(t,e,n){"use strict";var r=n(115);t.exports=function(t,e,n,i,o){var a=new Error(t);return r(a,e,n,i,o)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],o=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function u(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=c(void 0,e[t]))})),r.forEach(o,u),r.forEach(a,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=c(void 0,t[i])):n[i]=c(void 0,e[i])})),r.forEach(s,(function(r){r in e?n[r]=c(t[r],e[r]):r in t&&(n[r]=c(void 0,t[r]))}));var l=i.concat(o).concat(a).concat(s),f=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===l.indexOf(t)}));return r.forEach(f,u),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){return function(t,e){t.startsWith(e)||(t=""+e+t);return t}(t,"https://")}e.__esModule=!0,e.trimSuffix=e.removeAdjacentChars=e.ensureUrl=e.createFullScreenIframe=e.createIframe=void 0,e.createIframe=function(t,e){t=r(t);var n=document.createElement("iframe");return n.src=t,n.name=e,n.style.display="none",document.body.appendChild(n),n},e.createFullScreenIframe=function(t,e){t=r(t);var n=document.createElement("iframe");return n.src=t,n.name=e,n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.width="100%",n.style.height="100%",n.style.border="none",n.style.margin="0",n.style.padding="0",n.style.overflow="hidden",n.style.zIndex="999999",document.body.appendChild(n),n},e.ensureUrl=r,e.removeAdjacentChars=function(t,e){for(var n=Array.from(t),r=0;r<n.length-1;)n[r]===e&&n[r+1]===e?n.splice(r,1):r++;return n.join("")},e.trimSuffix=function(t,e,n){for(;t.endsWith(e)&&!(void 0!==n&&n<=0);)t=t.substring(0,t.length-e.length),n&&(n-=1);return t}},function(t,e,n){"use strict";(function(t){var r=n(0),i=n(21),o=n(2),a=n(1),s=n(46),c=n(10),u=n(65),l=n(22),f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function p(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var v=function(t,e,n){var r;for(r in n=n||null,t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))break};var g=function(t,e){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(t[r]=n[r]);return t};var y=function(t){return"string"==typeof t||t instanceof String};var b=function(t){return t instanceof Array};var w=function(t,e,n){var r=0,i=t.length;for(n=n||null;r<i&&!1!==e.call(n,t[r],r,t);r+=1);},k=b,x=w,S=v;var E=function(t,e,n){k(t)?x(t,e,n):S(t,e,n)},_=y,C=E;var M=function(t,e,n){var r=t.style;_(e)?r[e]=n:C(e,(function(t,e){r[e]=t}))},A=b;var T=function(t,e,n){var r,i;if(n=n||0,!A(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,n);for(i=e.length,r=n;n>=0&&r<i;r+=1)if(e[r]===t)return r;return-1};var O=function(t){return void 0===t},D=O;var I=function(t){return t&&t.className?D(t.className.baseVal)?t.className:t.className.baseVal:""},N=b,P=O;var L=function(t,e){e=(e=N(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),P(t.className.baseVal)?t.className=e:t.className.baseVal=e},R=E,B=T,j=I,U=L;var z=function(t){var e,n=Array.prototype.slice.call(arguments,1),r=t.classList,i=[];r?R(n,(function(e){t.classList.add(e)})):((e=j(t))&&(n=[].concat(e.split(/\s+/),n)),R(n,(function(t){B(t,i)<0&&i.push(t)})),U(t,i))},H=w,F=T,q=I,V=L;var $=function(t){var e,n,r=Array.prototype.slice.call(arguments,1),i=t.classList;i?H(r,(function(t){i.remove(t)})):(e=q(t).split(/\s+/),n=[],H(e,(function(t){F(t,r)<0&&n.push(t)})),V(t,n))};var K=function(t){return"number"==typeof t||t instanceof Number};var W=function(t){return null===t},J=v;var G=O,Y=function(t,e){var n=document.createElement("img"),r="";return J(e,(function(t,e){r+="&"+e+"="+t})),r=r.substring(1),n.src=t+"?"+r,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n};var X=function(t,e){var n=location.hostname,r="TOAST UI "+t+" for "+n+": Statistics",i=window.localStorage.getItem(r);(G(window.tui)||!1!==window.tui.usageStatistics)&&(i&&!function(t){return(new Date).getTime()-t>6048e5}(i)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||Y("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:n,dp:n,dh:t,el:t,ec:"use"})}),1e3)))};/Mac/.test(navigator.platform);var Z=/[\u0020]+/g,Q=/[>(){}[\]+-.!#|]/g,tt=/<([a-zA-Z_][a-zA-Z0-9\-._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-.:/]*)>/g,et=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/g,nt=/[*_~`]/g;function rt(t,e){return-1!==t.indexOf(e)}var it=["rel","target","hreflang","type"],ot={codeblock:/(^ {4}[^\n]+\n*)+/,thematicBreak:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,atxHeading:/^(#{1,6}) +[\s\S]+/,seTextheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,fencedCodeblock:/^((`|~){3,})/};function at(t){if(!t)return null;var e={};return it.forEach((function(n){O(t[n])||(e[n]=t[n])})),e}function st(t,e){for(var n="",r=0;r<e;r+=1)n+=t;return n}function ct(t){var e=function(t){return"\\"+t},n=t.replace(Z," ");return et.test(n)&&(n=n.replace(et,e)),n=n.replace(nt,e),tt.test(n)&&(n=n.replace(tt,e)),function(t){var e=!1;return v(ot,(function(n){return n.test(t)&&(e=!0),!e})),e}(n)&&(n=n.replace(Q,e)),n}function ut(t){return W(t)||O(t)}function lt(t,e){if(null===t&&t===e)return!0;if("object"!=typeof t||"object"!=typeof e||ut(t)||ut(e))return t===e;for(var n in t)if(t[n]!==e[n])return!1;for(var n in e)if(!(n in t))return!1;return!0}function ft(t){return t[t.length-1]}function dt(t){return"object"==typeof t&&null!==t}function ht(t,e){var n=h({},t);return t&&e&&Object.keys(e).forEach((function(t){dt(n[t])?Array.isArray(e[t])?n[t]=pt(e[t]):n.hasOwnProperty(t)?n[t]=ht(n[t],e[t]):n[t]=mt(e[t]):n[t]=e[t]})),n}function pt(t){return t.map((function(t){return dt(t)?Array.isArray(t)?pt(t):mt(t):t}))}function mt(t){var e=Object.keys(t);return e.length?e.reduce((function(e,n){return dt(t[n])?e[n]=Array.isArray(t[n])?pt(t[n]):mt(t[n]):e[n]=t[n],e}),{}):t}function vt(t,e){return void 0===e&&(e={}),Object.keys(e).forEach((function(n){t.hasOwnProperty(n)&&"object"==typeof t[n]?Array.isArray(e[n])?t[n]=e[n]:vt(t[n],e[n]):t[n]=e[n]})),t}function gt(t,e){return t>e?[e,t]:[t,e]}function yt(t,e){var n=t.nodes.paragraph;return e?n.create(null,y(e)?t.text(e):e):n.createAndFill()}function bt(t,e,n){return t.text(e,n)}function wt(t,e,n){void 0===n&&(n=e);var r=t.doc.content.size,i=r>0?r-1:1;return a.h.create(t.doc,Math.min(e,i),Math.min(n,i))}function kt(t,e,n){var r=e.pos;return t.replaceWith(r,r,yt(n)),t.setSelection(wt(t,r+1))}function xt(t){for(var e=t.state,n=t.from,i=t.startIndex,o=t.endIndex,a=t.createText,s=e.tr,c=e.doc,u=e.schema,l=i;l<=o;l+=1){var f=c.child(l),d=f.nodeSize,h=f.textContent,p=f.content,m=a(h),v=m?bt(u,m):r.c.empty,g=s.mapping.map(n),y=g+p.size;s.replaceWith(g,y,v),n+=d}return s}function St(t,e,n,r){var i=n.length;t.split(e).delete(e-i,e).insert(t.mapping.map(e),r).setSelection(wt(t,t.mapping.map(e)-i))}function Et(t){return t.sourcepos[0][0]}function _t(t){return t.sourcepos[1][0]}function Ct(t){return t.sourcepos[0][1]}function Mt(t){return t.sourcepos[1][1]}function At(t){var e=t.type;return"strike"===e||"strong"===e||"emph"===e||"code"===e||"link"===e||"image"===e}function Tt(t){return t&&("item"===t.type||"list"===t.type)}function Ot(t){return Tt(t)&&"ordered"===t.listData.type}function Dt(t){return Tt(t)&&"ordered"!==t.listData.type}function It(t){return t&&("tableCell"===t.type||"tableDelimCell"===t.type)}function Nt(t,e,n){for(void 0===n&&(n=!0),t=n?t:t.parent;t&&"document"!==t.type;){if(e(t))return t;t=t.parent}return null}function Pt(t,e){return[t[0],t[1]+e]}function Lt(t,e){return[t[0],e]}function Rt(t){var e=t.firstChild.literal;switch(t.type){case"emph":return"*"+e+"*";case"strong":return"**"+e+"**";case"strike":return"~~"+e+"~~";case"code":return"`"+e+"`";case"link":case"image":var n=t,r=n.destination,i=n.title;return("link"===t.type?"":"!")+"["+e+"]("+r+(i?' "'+i+'"':"")+")";default:return null}}function Bt(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}function jt(t){for(var e=[],n=t.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var Ut=[],zt={},Ht=/\$\$widget\d+\s/;function Ft(t){var e=t.search(Ht);if(-1!==e){var n=t.substring(e).replace(Ht,"").replace("$$","");t=t.substring(0,e),t+=Ft(n)}return t}function qt(t,e){return"$$"+t+" "+e+"$$"}function Vt(t,e){var n=zt[t],r=n.rule;return(0,n.toDOM)(e=Ft(e).match(r)[0])}function $t(){return Ut}function Kt(t){(Ut=t).forEach((function(t,e){zt["widget"+e]=t}))}function Wt(t,e,n,r){return t.concat(Jt(e,n,r))}function Jt(t,e,n){void 0===n&&(n=0);var r=[],i=(Ut[n]||{}).rule,o=n+1;if(t=Ft(t),i&&i.test(t)){for(var a=void 0;-1!==(a=t.search(i));){var s=t.substring(0,a);s&&(r=Wt(r,s,e,o));var c=(t=t.substring(a)).match(i)[0],u="widget"+n;r.push(e.nodes.widget.create({info:u},e.text(qt(u,c)))),t=t.substring(c.length)}t&&(r=Wt(r,t,e,o))}else t&&(r=n<Ut.length-1?Wt(r,t,e,o):[e.text(t)]);return r}function Gt(t){for(var e,n="",r=t.walker();e=r.next();){var i=e.node;e.entering&&(i!==t&&"text"!==i.type?(n+=Rt(i),r.resumeAt(t,!1),r.next()):"text"===i.type&&(n+=i.literal))}return n}function Yt(){return{deleteSelection:function(){return c.c},selectAll:function(){return c.g},undo:function(){return l.c},redo:function(){return l.b}}}var Xt=new a.e("widget"),Zt=function(){function t(t){var e=this;this.popup=null,this.removeWidget=function(){e.popup&&(document.body.removeChild(e.popup),e.popup=null)},this.eventEmitter=t,this.eventEmitter.listen("blur",this.removeWidget),this.eventEmitter.listen("removePopupWidget",this.removeWidget)}return t.prototype.update=function(t){var e=Xt.getState(t.state);if(this.removeWidget(),e){var n=e.node,r=e.style,i=t.coordsAtPos(e.pos),o=i.top,a=i.left,s=i.bottom-o;M(n,{position:"absolute",left:a+"px",opacity:"0"}),document.body.appendChild(n),M(n,{top:("bottom"===r?o+s:o-n.clientHeight-s)+"px",opacity:"1"}),this.popup=n,t.focus()}},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("blur",this.removeWidget)},t}();var Qt=w;var te=function(t){var e;try{e=Array.prototype.slice.call(t)}catch(n){e=[],Qt(t,(function(t){e.push(t)}))}return e};function ee(t,e,n){t.emit("addImageBlobHook",e,(function(n,r){t.emit("command","addImage",{imageUrl:n,altText:r||e.name||"image"})}),n)}function ne(t){var e=te(t).filter((function(t){return-1!==t.type.indexOf("image")}));if(1===e.length){var n=e[0];if(n)return n.getAsFile()}return null}function re(t){var e=t.eventEmitter;return new a.d({props:{handleDOMEvents:{drop:function(t,n){var r,i=null===(r=n.dataTransfer)||void 0===r?void 0:r.files;return i&&w(i,(function(t){return-1===t.type.indexOf("image")||(n.preventDefault(),n.stopPropagation(),ee(e,t,n.type),!1)})),!0}}}})}var ie=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"node"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function oe(t){var e=document.createElement("span"),n=Vt(t.attrs.info,t.textContent);return e.className="tui-widget",e.appendChild(n),{dom:e}}function ae(t){return"widget"===t.type.name}var se=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"widget"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{info:{default:null}},group:"inline",inline:!0,content:"text*",selectable:!1,atom:!0,toDOM:function(){return["span",{class:"tui-widget"},0]},parseDOM:[{tag:"span.tui-widget",getAttrs:function(t){return{info:t.textContent.match(/\$\$(widget\d+)/)[1]}}}]}},enumerable:!1,configurable:!0}),e}(ie),ce=function(){function t(t){this.el=document.createElement("div"),this.el.className="toastui-editor",this.eventEmitter=t,this.placeholder={text:""}}return t.prototype.createState=function(){return a.b.create({schema:this.schema,plugins:this.createPlugins()})},t.prototype.initEvent=function(){var t=this.eventEmitter,e=this.view,n=this.editorType;e.dom.addEventListener("focus",(function(){return t.emit("focus",n)})),e.dom.addEventListener("blur",(function(){return t.emit("blur",n)}))},t.prototype.emitChangeEvent=function(t){this.eventEmitter.emit("caretChange",this.editorType),t.docChanged&&this.eventEmitter.emit("change",this.editorType)},Object.defineProperty(t.prototype,"defaultPlugins",{get:function(){var t,e,n=Yt(),r=n.undo,o=n.redo,u=this.createInputRules(),f=p(p([],this.keymaps),[Object(s.a)(h({"Mod-z":r(),"Shift-Mod-z":o(),"Shift-Enter":c.a.Enter},c.a)),Object(l.a)(),(e=this.placeholder,new a.d({props:{decorations:function(t){var n=t.doc;if(e.text&&1===n.childCount&&n.firstChild.isTextblock&&0===n.firstChild.content.size){var r=document.createElement("span");return z(r,"placeholder"),e.className&&z(r,e.className),r.textContent=e.text,i.b.create(n,[i.a.widget(1,r)])}return null}}})),(t=this.eventEmitter,new a.d({key:Xt,state:{init:function(){return null},apply:function(t){return t.getMeta("widget")}},view:function(){return new Zt(t)}})),re(this.context)]);return u?f.concat(u):f},enumerable:!1,configurable:!0}),t.prototype.createInputRules=function(){var t=$t().map((function(t){var e=t.rule;return new u.a(e,(function(t,n,r,i){var o=t.schema,a=t.tr,s=t.doc,c=n.input.match(new RegExp(e,"g")),u=s.resolve(r),l=u.parent,f=0;if(ae(l)&&(l=u.node(u.depth-1)),l.forEach((function(t){return ae(t)&&(f+=1)})),c.length>f){var d=ft(c),h=Jt(d,o);return a.replaceWith(i-d.length+1,i,h)}return null}))}));return t.length?Object(u.b)({rules:t}):null},t.prototype.createSchema=function(){return new r.i({nodes:this.specs.nodes,marks:this.specs.marks})},t.prototype.createKeymaps=function(t){return t?this.specs.keymaps():[]},t.prototype.createCommands=function(){return this.specs.commands(this.view)},t.prototype.createPluginProps=function(){var t=this;return this.extraPlugins.map((function(e){return e(t.eventEmitter)}))},t.prototype.focus=function(){var t=this;setTimeout((function(){t.view.focus(),t.view.dispatch(t.view.state.tr.scrollIntoView())}))},t.prototype.blur=function(){this.view.dom.blur()},t.prototype.destroy=function(){var t=this;this.view.destroy(),Object.keys(this).forEach((function(e){delete t[e]}))},t.prototype.moveCursorToStart=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(wt(e,1)).scrollIntoView()),t&&this.focus()},t.prototype.moveCursorToEnd=function(t){var e=this.view.state.tr;this.view.dispatch(e.setSelection(wt(e,e.doc.content.size-1)).scrollIntoView()),t&&this.focus()},t.prototype.setScrollTop=function(t){this.view.dom.scrollTop=t},t.prototype.getScrollTop=function(){return this.view.dom.scrollTop},t.prototype.setPlaceholder=function(t){this.placeholder.text=t,this.view.dispatch(this.view.state.tr.scrollIntoView())},t.prototype.setHeight=function(t){M(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){M(this.el,{minHeight:t+"px"})},t.prototype.getElement=function(){return this.el},t}();var ue=function(t){return t instanceof Function};function le(t,e,n){return t.focus(),e(n)(t.state,t.dispatch,t)}var fe=function(){function t(t){this.specs=t}return Object.defineProperty(t.prototype,"nodes",{get:function(){return this.specs.filter((function(t){return"node"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return h(h({},t),((n={})[r]=i,n))}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"marks",{get:function(){return this.specs.filter((function(t){return"mark"===t.type})).reduce((function(t,e){var n,r=e.name,i=e.schema;return h(h({},t),((n={})[r]=i,n))}),{})},enumerable:!1,configurable:!0}),t.prototype.commands=function(t,e){var n=this.specs.filter((function(t){return t.commands})).reduce((function(e,n){var r={},i=n.commands();return ue(i)?r[n.name]=function(e){return le(t,i,e)}:Object.keys(i).forEach((function(e){r[e]=function(n){return le(t,i[e],n)}})),h(h({},e),r)}),{}),r=Yt();return Object.keys(r).forEach((function(e){n[e]=function(n){return le(t,r[e],n)}})),e&&Object.keys(e).forEach((function(r){n[r]=function(n){return le(t,e[r],n)}})),n},t.prototype.keymaps=function(){return this.specs.filter((function(t){return t.keymaps})).map((function(t){return t.keymaps()})).map((function(t){return Object(s.a)(t)}))},t.prototype.setContext=function(t){this.specs.forEach((function(e){e.setContext(t)}))},t}(),de=T,he=I;var pe=function(t,e){var n;return t.classList?t.classList.contains(e):(n=he(t).split(/\s+/),de(e,n)>-1)},me=T,ve=te,ge=Element.prototype,ye=ge.matches||ge.webkitMatchesSelector||ge.mozMatchesSelector||ge.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return me(this,ve(e.querySelectorAll(t)))>-1};var be=function(t,e){return ye.call(t,e)},we="(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)",ke="<([A-Za-z][A-Za-z0-9-]*)("+we+")*\\s*/?>",xe="(?:"+ke+"|</([A-Za-z][A-Za-z0-9-]*)\\s*[>])",Se=new RegExp("^"+xe,"i"),Ee=/<br\s*\/*>/i;function _e(t,e,n){var r=parseInt(t.left,10),i=parseInt(t.top,10),o=parseInt(t.width,10)+parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10),a=parseInt(t.height,10)+parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10);return e>=r&&e<=r+o&&n>=i&&n<=i+a}function Ce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r],a=void 0;(a=Array.isArray(o)?o[0]?o[1]:null:o)&&n.push("toastui-editor-"+a)}return n.join(" ")}function Me(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map((function(t){return"toastui-editor-md-"+t})).join(" ")}function Ae(t){return t&&t.nodeType===Node.ELEMENT_NODE}function Te(t){t.parentNode&&t.parentNode.removeChild(t)}function Oe(t,e,n){O(n)&&(n=!pe(t,e)),(n?z:$)(t,e)}function De(t,e){var n=document.createElement("div");y(t)?n.innerHTML=t:n.appendChild(t);var r=n.firstChild;return e&&e.appendChild(r),r}function Ie(t){var e=window.getComputedStyle(t);return["margin-left","margin-right"].reduce((function(t,n){return t+parseInt(e.getPropertyValue(n),10)}),0)+t.offsetWidth}function Ne(t,e){var n;for(n=y(e)?function(t){return be(t,e)}:function(t){return t===e};t&&t!==document;){if(Ae(t)&&n(t))return t;t=t.parentNode}return null}function Pe(t,e){for(var n=0,r=0;t&&t!==e;){if(n+=t.offsetTop,r+=t.offsetLeft,t.offsetParent===e.offsetParent)break;t=t.offsetParent}return{offsetTop:n,offsetLeft:r}}function Le(t,e){Object.keys(t).forEach((function(n){ut(t[n])?e.removeAttribute(n):e.setAttribute(n,t[n])}))}function Re(t){var e=t.from,n=t.to;return t instanceof a.a?[e+1,n-1]:[e,n]}function Be(t){return t.index(0)+1}function je(t,e,n){void 0===n&&(n=1);var r=0;return t.forEach((function(t,i){ae(t)&&i+2<e&&(r+=2*n)})),r}function Ue(t,e,n){void 0===n&&(n=e);var r=e===n,i=t.resolve(e),o=Be(i),a=o,s=i.start(1),c=s;if(!r){var u=t.resolve(n===t.content.size?n-1:n);c=u.start(1),a=Be(u),u.pos===t.content.size&&(n=t.content.size-2)}var l=Math.max(e-s+1,1),f=Math.max(n-c+1,1);return[[o,l+je(t.child(o-1),l,-1)],[a,f+je(t.child(a-1),f,-1)]]}function ze(t,e){for(var n=[],r=0,i=0;r<e;r+=1){var o=t.child(r);n[r]=i,i+=o.nodeSize}return n}function He(t,e,n){var r=ze(t,n[0]),i=e[0]-1,o=n[0]-1,a=t.child(i),s=t.child(o),c=r[i],u=r[o];return c+=e[1]+je(a,e[1]-1),u+=n[1]+je(s,n[1]-1),[c,Math.min(u,t.content.size)]}function Fe(t){var e=t.$from,n=t.$to,r=t.from,i=t.to,o=e.doc;return t instanceof a.a&&(e=o.resolve(r+1),n=o.resolve(i-1)),0===e.depth&&(n=e=o.resolve(r-1)),{startFromOffset:e.start(1),endFromOffset:n.start(1),startToOffset:e.end(1),endToOffset:n.end(1),startIndex:e.index(0),endIndex:n.index(0),from:e.pos,to:n.pos}}function qe(t,e){for(var n=1,r=1,i=0,o=0;i<t.childCount;i+=1){var a=t.child(i).nodeSize;if(n=o+1,r=o+a-1,i===e)break;o+=a}return{startOffset:n,endOffset:r}}var Ve="delimiter",$e="markedText",Ke={strong:2,emph:1,strike:2};function We(t,e,n,r){return{start:t,end:e,spec:{type:n,attrs:r}}}function Je(t,e,n){var r=t.type,i=Pt(e,Ke[r]),o=Pt(n,-Ke[r]);return[We(i,o,r),We(e,i,Ve),We(o,n,Ve)]}function Ge(t,e,n,r){return[We(t,e,"link"),We(Lt(t,n[1]+1),Lt(e,r),"link",{desc:!0}),We(Lt(e,r+2),Pt(e,-1),"link",{url:!0})]}function Ye(t,e,n,r){var i={start:e,end:n,spec:{attrs:{className:r+"-line-background",codeStart:e[0],codeEnd:n[0]}},lineBackground:!0};return"item"!==t.type&&"blockQuote"!==t.type?[h(h({},i),{end:e,spec:{attrs:{className:r+"-line-background start"}}}),h(h({},i),{start:[Math.min(e[0]+1,n[0]),e[1]]})]:null}function Xe(t,e){for(var n=[];t;){var r=t.type;"paragraph"!==r&&"codeBlock"!==r||n.push(We([Et(t),Ct(t)-1],[_t(t),Mt(t)+1],e)),t=t.next}return n}var Ze={heading:function(t,e,n){var r=t.level,i=t.headingType,o=[We(e,n,"heading",{level:r})];return"atx"===i?o.push(We(e,Pt(e,r),Ve)):o.push(We(Lt(n,0),n,"heading",{seText:!0})),o},strong:Je,emph:Je,strike:Je,link:function(t,e,n){var r=t.lastChild,i=t.extendedAutolink,o=r?Mt(r)+1:2;return i?[We(e,n,"link",{desc:!0})]:Ge(e,n,e,o)},image:function(t,e,n){var r=t.lastChild,i=r?Mt(r)+1:3,o=Pt(e,1);return p([We(e,o,"meta")],Ge(e,n,o,i))},code:function(t,e,n){var r=t.tickCount,i=Pt(e,r),o=Pt(n,-r);return[We(e,n,"code"),We(e,i,"code",{start:!0}),We(i,o,"code",{marked:!0}),We(o,n,"code",{end:!0})]},codeBlock:function(t,e,n,r){var i=t.fenceOffset,o=t.fenceLength,a=t.fenceChar,s=t.info,c=t.infoPadding,u=t.parent,l=i+o,f=[We(Lt(e,1),n,"codeBlock")];a&&f.push(We(e,Pt(e,l),Ve)),s&&f.push(We(Pt(e,o),Pt(e,o+c+s.length),"meta")),new RegExp("^(\\s{0,4})("+a+"{"+o+",})").test(r)&&f.push(We(Lt(n,1),n,Ve));var d=Ye(u,e,n,"code-block");return d?f.concat(d):f},blockQuote:function(t,e,n){var r=t.parent&&"blockQuote"!==t.parent.type?[We(e,n,"blockQuote")]:[];if(t.firstChild){var i=[];"paragraph"===t.firstChild.type?i=function(t){for(var e=[];t;)e.push(We([Et(t),Ct(t)],[_t(t),Mt(t)+1],$e)),t=t.next;return e}(t.firstChild.firstChild):"list"===t.firstChild.type&&(i=Xe(t.firstChild,$e)),r=p(p([],r),i)}return r},item:function(t,e){var n=t.listData,r=n.padding,i=n.task,o=function(t){for(var e=0;t.parent.parent&&"item"===t.parent.parent.type;)t=t.parent.parent,e+=1;return["listItem",h(h({},[{odd:!0},{even:!0}][e%2]),{listStyle:!0})]}(t),a=[We.apply(void 0,p([e,Pt(e,r)],o))];return i&&(a.push(We(Pt(e,r),Pt(e,r+3),"taskDelimiter")),a.push(We(Pt(e,r+1),Pt(e,r+2),"meta"))),a.concat(Xe(t.firstChild,$e))},customBlock:function(t,e,n){var r=t,i=r.offset,o=r.syntaxLength,a=r.info,s=r.parent,c=i+o,u=[We(Lt(e,1),n,"customBlock")];u.push(We(e,Pt(e,c),Ve)),a&&u.push(We(Pt(e,c),Pt(e,o+a.length),"meta")),u.push(We(Lt(n,1),n,Ve));var l=Ye(s,e,n,"custom-block");return l?u.concat(l):u}},Qe={thematicBreak:"thematicBreak",table:"table",tableCell:"tableCell",htmlInline:"html"};function tn(t,e,n,r){var i=t.type;return ue(Ze[i])?Ze[i](t,e,n,r):Qe[i]?[We(e,n,Qe[i])]:null}var en={};function nn(t){var e=t.schema,n=t.toastMark;return new a.d({appendTransaction:function(t,r,i){var o=t[0],a=i.tr;if(o.docChanged){var s=[];o.getMeta("editResult").forEach((function(t){var e=t.nodes,r=t.removedNodeRange;if(e.length){s=s.concat(function(t,e){var n=t.doc,r=e[0].sourcepos[0],i=ft(e).sourcepos[1],o=[r[0],r[1]],a=[i[0],i[1]+1],s=[];return function(t,e,n){var r=[];en={};for(var i=e[0]-1;i<n[0];i+=1){var o=t.child(i),a=o.attrs.codeEnd,s=o.attrs.codeStart;if(s&&a&&!rt(r,s)){r.push(s),a=Math.min(a,t.childCount);for(var c=s-1,u=n[0],l=c;l<u;l+=1)en[l]=!0}}}(n,r,i),s.push({start:o,end:a}),s}(a,e));for(var i=0,o=e;i<o.length;i++)for(var c=o[i].walker(),u=c.next();u;){var l=u.node;u.entering&&(s=s.concat(on(l,n))),u=c.next()}}else if(r)for(var f=a.doc.childCount-1,d=r.line,h=d[0],p=d[1],m=Math.min(h,f),v=Math.min(p,f),g=m;g<=v;g+=1)en[g]=!0})),function(t,e,n){var r=t.doc,i=e.nodes.paragraph,o=ze(r,r.childCount);n.forEach((function(n){var a=n.start,s=n.end,c=n.spec,u=n.lineBackground,l=Math.min(a[0],r.childCount)-1,f=Math.min(s[0],r.childCount)-1,d=r.child(l),h=r.child(f),p=o[l],m=o[f];(p+=a[1]+je(d,a[1]-1),m+=s[1]+je(h,s[1]-1),c)?u?function(t,e,n,r,i){void 0===i&&(i={});for(var o=r.startIndex,a=r.endIndex,s=r.from,c=r.to,u=!1,l=o;l<=a;l+=1)delete en[l],u=rn(e,l,i);u&&t.setBlockType(s,c,n,i)}(t,r,i,{from:p,to:m,startIndex:l,endIndex:f},c.attrs):t.addMark(p,m,e.mark(c.type,c.attrs)):t.removeMark(p,m)})),function(t,e,n){Object.keys(en).forEach((function(r){var i=Number(r),o=Math.min(Number(r)+1,t.doc.childCount-1),a=e[i],s=e[o]-1;i===o&&(s+=2),t.setBlockType(a,s,n)}))}(t,o,i)}(a,e,s)}return a.setMeta("widget",o.getMeta("widget"))}})}function rn(t,e,n){return Object.keys(n).some((function(r){return n[r]!==t.child(e).attrs[r]}))}function on(t,e){var n=e.getLineTexts(),r=[Et(t),Ct(t)],i=[_t(t),Mt(t)+1],o=tn(t,r,i,n[i[0]-1]);return null!=o?o:[]}function an(t){var e={},n=!0;return function(t,e,n){for(void 0===n&&(n=!0),t=n?t:t.parent;t&&"document"!==t.type;)e(t),t=t.parent}(t,(function(t){var r=function(t){return Tt(t)?t.listData.task?"taskList":"ordered"===t.listData.type?"orderedList":"bulletList":-1!==t.type.indexOf("table")?"table":t.type}(t);"customBlock"!==r&&"image"!==r&&"link"!==r&&("bulletList"===r||"orderedList"===r?n&&(e[r]=!0,n=!1):e[r]=!0)})),e}var sn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(ie),cn=function(){function t(){}return Object.defineProperty(t.prototype,"type",{get:function(){return"mark"},enumerable:!1,configurable:!0}),t.prototype.setContext=function(t){this.context=t},t}();function un(t,e){return ln(t,e-1)}function ln(t,e){return t.child(e).textContent}var fn=/^\s*> ?/,dn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("block-quote")},0]}}},enumerable:!1,configurable:!0}),e.prototype.createBlockQuoteText=function(t,e){return e?t.replace(fn,"").trim():"> "+t.trim()},e.prototype.extendBlockQuote=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,a=e.schema,s=Fe(r),c=s.endFromOffset,u=s.endToOffset,l=s.endIndex,f=s.to,d=ln(i,l);if(fn.test(d)&&f>c&&r.empty){if(!d.replace(fn,"").trim())o.deleteRange(c,u).split(o.mapping.map(u));else{var h=d.slice(f-c).trim();St(o,u,h,bt(a,t.createBlockQuoteText(h)))}return n(o),!0}return!1}},e.prototype.commands=function(){var t=this;return function(){return function(e,n){var r=e.selection,i=e.doc,o=Fe(r),a=o.startFromOffset,s=o.endToOffset,c=o.startIndex,u=o.endIndex,l=fn.test(ln(i,c)),f=xt({state:e,startIndex:c,endIndex:u,from:a,createText:function(e){return t.createBlockQuoteText(e,l)}});return n(f.setSelection(wt(f,f.mapping.map(s)))),!0}}},e.prototype.keymaps=function(){var t=this.commands()();return{"alt-q":t,"alt-Q":t,Enter:this.extendBlockQuote()}},e}(cn),hn=/(^\s*)([-*+] |[\d]+\. )/,pn=/(^\s*)([\d])+\.( \[[ xX]])? /,mn=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/,vn=/(^\s*)([-*+]|[\d]+\.)( \[[ xX]])? /,gn=/^(\s*)([-*+]+(\s(?:\[(?:x|\s)\]\s)?))(.*)/,yn=/(^\s*)([-*+] |[\d]+\. )(\[[ xX]] )/,bn=/(^\s*)([-*+])( \[[ xX]]) /;function wn(t){return pn.test(t)?"ordered":"bullet"}function kn(t){for(var e=0;t&&"document"!==t.type;)"list"===t.type&&(e+=1),t=t.parent;return e}function xn(t,e,n,r){for(var i=t.getLineTexts().length,o=[],a=e;r?a<i:a>1;){a=r?a+1:a-1;var s=t.findFirstNodeAtLine(a),c=kn(s);if(c===n)o.push({line:a,depth:n,mdNode:s});else if(c<n)break}return o}function Sn(t,e,n,r){void 0===r&&(r=0);var i=Number.MAX_VALUE,o=0;return{changedResults:e.map((function(e,a){var s=e.line;i=Math.min(s-1,i),o=Math.max(s-1,o);var c=un(t,s);return{text:c="bullet"===n?function(t){if(!hn.test(t))return"* "+t;var e=wn(t);return"bullet"===e&&vn.test(t)?t=t.replace(bn,"$1$2 "):"ordered"===e&&(t=t.replace(pn,"$1* ")),t}(c):function(t,e){if(!hn.test(t))return e+". "+t;var n=wn(t);if("bullet"===n||"ordered"===n&&vn.test(t))t=t.replace(vn,"$1"+e+". ");else if("ordered"===n){var r=mn.exec(t)[3];Number(r)!==e&&(t=t.replace(pn,"$1"+e+". "))}return t}(c,a+1+r),line:s}})),firstIndex:i,lastIndex:o}}function En(t,e){var n,r,i,o,a,s,c,u=(r=(n=e).toastMark,i=n.mdNode,o=n.line,a=kn(i),s=xn(r,o,a,!1).reverse(),c=xn(r,o,a,!0),s.concat([{line:o,depth:a,mdNode:i}]).concat(c));return Sn(e.doc,u,t)}var _n={bullet:function(t){return En("bullet",t)},ordered:function(t){return En("ordered",t)},task:function(t){var e=t.mdNode,n=t.doc,r=t.line,i=un(n,r);return e.listData.task?i=i.replace(yn,"$1$2"):Tt(e)&&(i=i.replace(hn,"$1$2[ ] ")),{changedResults:[{text:i,line:r}]}}},Cn={bullet:function(t){var e=t.doc,n=t.line;return{changedResults:[{text:"* "+un(e,n),line:n}]}},ordered:function(t){for(var e=t.toastMark,n=t.doc,r=t.line,i=t.startLine,o=un(n,r),a=1,s=i,c=0,u=i-1;u>0;u-=1){var l=e.findFirstNodeAtLine(u),f=un(n,u)&&!!Nt(l,(function(t){return Tt(t)})),d=mn.exec(un(n,u));if(!d&&!f)break;if(d||!f){var h=d,p=h[1],m=h[3];if(!p){a=Number(m),s=u;break}}else c+=1}return{changedResults:[{text:a+r-s-c+". "+o,line:r}]}},task:function(t){var e=t.doc,n=t.line;return{changedResults:[{text:"* [ ] "+un(e,n),line:n}]}}},Mn={bullet:function(t){var e=t.line,n=un(t.doc,e),r=gn.exec(n);return{listSyntax:""+r[1]+r[2]}},ordered:function(t){var e=t.toastMark,n=t.line,r=t.mdNode,i=t.doc,o=kn(r),a=un(i,n),s=mn.exec(a),c=s[1],u=s[3],l=s[4],f=Number(u)+1,d=""+c+f+l,p=xn(e,n,o,!0).filter((function(t){var e=mn.exec(un(i,t.line));return e&&e[1].length===c.length&&!!Nt(t.mdNode,(function(t){return Ot(t)}))}));return h({listSyntax:d},Sn(i,p,"ordered",f))}};var An=/(^\s{1,4})(.*)/;function Tn(t,e,n){return t<e||hn.test(n)||fn.test(n)}function On(t,e,n){var r=n.$from;0===r.depth&&(r=t.resolve(r.pos-1));var i=r.node(1),o=r.start(1),a=i.content.size;return i.rangeHasMark(0,a,e.marks.table)&&r.pos-o!==a&&r.pos!==o}function Dn(t,e){var n=e.from,r=e.to;if("indent"===e.type){n+=4,r+=4*(e.lineLen+1)}else{var i=e.spaceLenList;n-=i[0];for(var o=0;o<i.length;o+=1)r-=i[o]}return wt(t,n,r)}var In=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",attrs:{className:{default:null},codeStart:{default:null},codeEnd:{default:null}},selectable:!1,group:"block",parseDOM:[{tag:"div"}],toDOM:function(t){var e=t.attrs;return e.className?["div",{class:Me(e.className)},0]:["div",0]}}},enumerable:!1,configurable:!0}),e.prototype.reorderList=function(t,e){for(var n=this.context,r=n.view,i=n.toastMark,o=n.schema,a=r.state,s=a.tr,c=a.selection,u=a.doc,l=i.findFirstNodeAtLine(t),f=l;l&&!Dt(l)&&"document"!==l.parent.type;)if(Ot(l=l.parent)){f=l;break}f&&(t=f.sourcepos[0][0]);var d=mn.exec(un(u,t)),h=d[1],p=d[3],m=h.length,v=function t(e,n,r,i,o){for(var a=[],s=un(e,r),c=mn.exec(s);c;){var u=c[1],l=c[4],f=c[5],d=u.length;if(d===o)a.push(bt(n,""+u+i+l+f)),i+=1,r+=1;else if(d>o){var h=t(e,n,r,1,d);r=h.line,a=a.concat(h.nodes)}if(d<o||r>e.childCount)break;s=un(e,r),c=mn.exec(s)}return{nodes:a,line:r}}(u,o,t,Number(p),m),g=v.line,y=v.nodes;e=Math.max(e,g-1);for(var b=qe(u,t-1).startOffset,w=t-1;w<=e-1;w+=1){var k=u.child(w),x=k.nodeSize,S=k.content,E=s.mapping.map(b),_=E+S.size;s.replaceWith(E,_,y[w-t+1]),b+=x}var C=wt(s,c.from,c.to);r.dispatch(s.setSelection(C))},e.prototype.indent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.schema,o=n.selection,a=n.doc,s=Fe(o),c=s.from,u=s.to,l=s.startFromOffset,f=s.startIndex,d=s.endIndex;if(t&&On(a,i,o))return!1;var h=ln(a,f);if(t&&Tn(c,u,h)||!t&&hn.test(h)){var p=xt({state:n,from:l,startIndex:f,endIndex:d,createText:function(t){return"    "+t}}),m={type:"indent",from:c,to:u,lineLen:d-f};r(p.setSelection(Dn(p,m))),mn.test(h)&&e.reorderList(f+1,d+1)}else t&&r(n.tr.insert(u,bt(i,"    ")));return!0}}},e.prototype.outdent=function(t){var e=this;return void 0===t&&(t=!1),function(){return function(n,r){var i=n.selection,o=n.doc,a=n.schema,s=Fe(i),c=s.from,u=s.to,l=s.startFromOffset,f=s.startIndex,d=s.endIndex;if(t&&On(o,a,i))return!1;var h=ln(o,f);if(t&&Tn(c,u,h)||!t&&hn.test(h)){var p=[],m=xt({state:n,from:l,startIndex:f,endIndex:d,createText:function(t){var e=An.exec(t);return p.push(e?e[1].length:0),t.replace(An,"$2")}}),v={type:"outdent",from:c,to:u,spaceLenList:p};r(m.setSelection(Dn(m,v))),mn.test(h)&&e.reorderList(f+1,d+1)}else if(t){var g=h.slice(0,u-l),y=g.replace(/\s{1,4}$/,""),b=u-(g.length-y.length);r(n.tr.delete(b,u))}return!0}}},e.prototype.deleteLines=function(){var t=this;return function(e,n){var r=t.context.view,i=Fe(e.selection),o=i.startFromOffset,a=i.endToOffset;return Object(c.b)((function(){return n(e.tr.deleteRange(o,a)),!0}),c.e)(e,n,r)}},e.prototype.moveDown=function(){return function(t,e){var n=t.doc,r=t.tr,i=t.selection,o=t.schema,a=Fe(i),s=a.startFromOffset,c=a.endToOffset,u=a.endIndex;if(u<n.content.childCount-1){var l=n.child(u+1),f=l.nodeSize,d=l.textContent;return r.delete(c,c+f).split(s).insert(r.mapping.map(s)-2,bt(o,d)),e(r),!0}return!1}},e.prototype.moveUp=function(){return function(t,e){var n=t.tr,r=t.doc,i=t.selection,o=t.schema,a=Fe(i),s=a.startFromOffset,c=a.endToOffset,u=a.startIndex;if(u>0){var l=r.child(u-1),f=l.nodeSize,d=l.textContent;return n.delete(s-f,s).split(n.mapping.map(c)).insert(n.mapping.map(c),bt(o,d)),e(n),!0}return!1}},e.prototype.commands=function(){return{indent:this.indent(),outdent:this.outdent()}},e.prototype.keymaps=function(){return{Tab:this.indent(!0)(),"Shift-Tab":this.outdent(!0)(),"Mod-d":this.deleteLines(),"Mod-D":this.deleteLines(),"Alt-ArrowUp":this.moveUp(),"Alt-ArrowDown":this.moveDown()}},e}(ie),Nn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e}(ie),Pn=/^#{1,6}\s/,Ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{level:{default:1},seText:{default:!1}},toDOM:function(t){var e=t.attrs,n="heading|heading"+e.level;return e.seText&&(n+="|delimiter|setext"),["span",{class:Me.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.createHeadingText=function(t,e,n){for(var r=e.replace(n,"").trim(),i="";t>0;)i+="#",t-=1;return i+" "+r},e.prototype.commands=function(){var t=this;return function(e){return function(n,r){var i=e.level,o=Fe(n.selection),a=o.startFromOffset,s=o.endToOffset,c=xt({state:n,from:a,startIndex:o.startIndex,endIndex:o.endIndex,createText:function(e){var n=e.match(Pn),r=n?n[0]:"";return t.createHeadingText(i,e,r)}});return r(c.setSelection(wt(c,c.mapping.map(s)))),!0}}},e}(cn),Rn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("code-block")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=Fe(n),a=o.startFromOffset,s=o.endToOffset,c=bt(r,"```");return i.insert(a,c).split(a+"```".length),i.split(i.mapping.map(s)).insert(i.mapping.map(s),c),e(i.setSelection(wt(i,i.mapping.map(s)-("```".length+2)))),!0}}},e.prototype.keepIndentation=function(){var t=this;return function(e,n){var r=e.selection,i=e.tr,o=e.doc,a=e.schema,s=t.context.toastMark,c=Fe(r),u=c.startFromOffset,l=c.endToOffset,f=c.endIndex,d=c.from,h=c.to,p=ln(o,f);if(d===h&&p.trim()){var m=p.match(/^\s+/);if(function(t){return t&&"codeBlock"===t.type}(s.findFirstNodeAtLine(f+1))&&m){var v=m[0],g=p.slice(h-u);return St(i,l,g,bt(a,v+g)),n(i),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,Enter:this.keepIndentation()}},e}(cn),Bn=/\||\s/g;function jn(t,e){for(var n="|",r=0;r<t;r+=1)n+=e?" --- |":"  |";return n}var Un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("table")},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendTable=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.tr,a=e.schema;if(!r.empty)return!1;var s=Fe(r),c=s.endFromOffset,u=s.endToOffset,l=s.endIndex,f=s.to,d=ln(i,l),h=[l+1,f-c+1],p=Nt(t.context.toastMark.findNodeAtPosition(h),(function(t){return It(t)&&("tableDelimRow"===t.parent.type||"tableBody"===t.parent.parent.type)}));if(p){var m=!d.replace(Bn,"").trim(),v=jn(p.parent.parent.parent.columns.length);return m?o.deleteRange(c,u).split(o.mapping.map(u)):o.split(u).insert(o.mapping.map(u),bt(a,v)).setSelection(wt(o,o.mapping.map(u)-2)),n(o),!0}return!1}},e.prototype.moveTableCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,a=Fe(i),s=a.endFromOffset,c=[a.endIndex+1,a.to-s],u=Nt(e.context.toastMark.findNodeAtPosition(c),(function(t){return It(t)}));if(u){var l=u.parent,f=function(t){return t?{type:"next",parentType:"tableHead",childType:"firstChild"}:{type:"prev",parentType:"tableBody",childType:"lastChild"}}(t),d=f.type,h=f.parentType,p=f.childType,m=Mt(u);if(u[d])m=Mt(u[d])-1;else{var v=l[d]||l.parent.type!==h?l[d]:l.parent[d][p];if("next"===d)m+=(v?Mt(v[p]):0)+2;else"prev"===d&&(m=v?-4:0)}return r(o.setSelection(wt(o,s+m))),!0}return!1}},e.prototype.addTable=function(){return function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,a=t,s=a.columnCount,c=a.rowCount,u=Fe(r).endToOffset,l=function(t){return[jn(t),jn(t,!0)]}(s),f=function(t,e){for(var n=[],r=0;r<e;r+=1)n.push(jn(t));return n}(s,c-1);return p(p([],l),f).forEach((function(t){i.split(i.mapping.map(u)).insert(i.mapping.map(u),bt(o,t))})),n(i.setSelection(wt(i,u+4))),!0}}},e.prototype.commands=function(){return{addTable:this.addTable()}},e.prototype.keymaps=function(){return{Enter:this.extendTable(),Tab:this.moveTableCell(!0),"Shift-Tab":this.moveTableCell(!1)}},e}(cn),zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("thematic-break")},0]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){return function(){return function(t,e){var n=t.selection,r=t.schema,i=t.tr,o=Fe(n),a=o.from,s=o.to,c=o.endToOffset,u=bt(r,"***");return i.split(a).replaceWith(i.mapping.map(a),i.mapping.map(s),u).split(i.mapping.map(s)).setSelection(wt(i,i.mapping.map(c))),e(i),!0}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(cn);function Hn(t){var e=t.type;return"codeBlock"===e||"heading"===e||-1!==e.indexOf("table")}var Fn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{odd:{default:!1},even:{default:!1},listStyle:{default:!1}},toDOM:function(t){var e=t.attrs,n=e.odd,r=e.even,i="list-item";return e.listStyle&&(i+="|list-item-style"),n&&(i+="|list-item-odd"),r&&(i+="|list-item-even"),["span",{class:Me.apply(void 0,i.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.extendList=function(){var t=this;return function(e,n){var r=e.selection,i=e.doc,o=e.schema,a=e.tr,s=t.context.toastMark,c=Fe(r),u=c.to,l=c.startFromOffset,f=c.endFromOffset,d=c.endIndex,h=c.endToOffset,p=ln(i,d);if(!hn.test(p)||r.from===l||!r.empty)return!1;if(!p.replace(vn,"").trim())a.deleteRange(f,h).split(a.mapping.map(h));else{var m=wn(p),v=s.findFirstNodeAtLine(d+1),g=p.slice(u-f),y={toastMark:s,mdNode:v,doc:i,line:d+1},b=Mn[m](y),w=b.listSyntax,k=b.changedResults;if(null==k?void 0:k.length){a.split(u),k.unshift({text:w+g,line:d+1}),t.changeToListPerLine(a,k,{from:u,startLine:k[0].line,endLine:ft(k).line});var x=a.mapping.map(h)-g.length;a.setSelection(wt(a,x))}else{St(a,h,g,bt(o,w+g))}}return n(a),!0}},e.prototype.toList=function(t){var e=this;return function(){return function(n,r){for(var i=n.doc,o=n.tr,a=n.selection,s=e.context.toastMark,c=Fe(a),u=c.startIndex+1,l=c.endIndex+1,f=c.endToOffset,d=[],h=u;h<=l;h+=1){var p=s.findFirstNodeAtLine(h);if(p&&Hn(p))break;if(-1===d.indexOf(h)){var m={toastMark:s,mdNode:p,doc:i,line:h,startLine:u},v=(Tt(p)?_n[t](m):Cn[t](m)).changedResults,g=e.changeToListPerLine(o,v,{from:qe(i,v[0].line-1).startOffset,startLine:v[0].line,endLine:ft(v).line,indexDiff:1});f=Math.max(g,f),v&&(d=d.concat(v.map((function(t){return t.line}))))}}return r(o.setSelection(wt(o,o.mapping.map(f)))),!0}}},e.prototype.changeToListPerLine=function(t,e,n){for(var r=n.from,i=n.startLine,o=n.endLine,a=n.indexDiff,s=void 0===a?0:a,c=0,u=function(n){var i=t.doc.child(n),o=i.nodeSize,a=i.content,u=t.mapping.map(r),f=u+a.size,d=e.filter((function(t){return t.line-s===n}))[0];d&&(t.replaceWith(u,f,bt(l.context.schema,d.text)),c=Math.max(c,r+a.size)),r+=o},l=this,f=i-s;f<=o-s;f+=1)u(f);return c},e.prototype.toggleTask=function(){var t=this;return function(e,n){for(var r=e.selection,i=e.tr,o=e.doc,a=e.schema,s=t.context.toastMark,c=Fe(r),u=c.startIndex,l=c.endIndex,f=null,d=u;d<=l;d+=1){var h=s.findFirstNodeAtLine(d+1);if(Tt(h)&&h.listData.task){var p=h.listData,m=p.checked,v=p.padding,g=m?" ":"x",y=h.sourcepos[0],b=qe(o,y[0]-1).startOffset;b+=y[1]+v,f=i.replaceWith(b,b+1,a.text(g))}}return!!f&&(n(f),!0)}},e.prototype.commands=function(){return{bulletList:this.toList("bullet"),orderedList:this.toList("ordered"),taskList:this.toList("task")}},e.prototype.keymaps=function(){var t=this.toList("bullet")(),e=this.toList("ordered")(),n=this.toList("task")(),r=this.toggleTask();return{"Mod-u":t,"Mod-U":t,"Mod-o":e,"Mod-O":e,"alt-t":n,"alt-T":n,"Shift-Ctrl-x":r,"Shift-Ctrl-X":r,Enter:this.extendList()}},e}(cn);function qn(t,e){return function(){return function(n,r){var i=n.tr,o=n.selection,a=ue(t)?t:function(e){return t.test(e)},s=e.length,c=i.doc,u=Re(o),l=u[0],f=u[1],d=Math.max(l-s,1),h=Math.min(f+s,c.content.size-1),p=o.content(),m=p.content.textBetween(0,p.content.size,"\n"),v=c.textBetween(d,l,"\n"),g=c.textBetween(f,h,"\n");if(m=""+v+m+g,v&&g&&a(m))i.delete(h-s,h).delete(d,d+s);else{i.insertText(e,f).insertText(e,l);var y=o.empty?wt(i,l+s):wt(i,l+s,f+s);i.setSelection(y)}return r(i),!0}}}var Vn=/^(\*{2}|_{2}).*([\s\S]*)\1$/m,$n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("strong")},0]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return qn(Vn,"**")},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(cn),Kn=/^(~{2}).*([\s\S]*)\1$/m,Wn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("strike")},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return qn(Kn,"~~")},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(cn),Jn=/^(\*|_).*([\s\S]*)\1$/m,Gn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("emph")},0]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return qn(Jn,"*")},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(cn),Yn=/^(`).*([\s\S]*)\1$/m,Xn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{start:{default:!1},end:{default:!1},marked:{default:!1}},toDOM:function(t){var e=t.attrs,n="code";return e.start&&(n+="|delimiter|start"),e.end&&(n+="|delimiter|end"),e.marked&&(n+="|marked-text"),["span",{class:Me.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return qn(Yn,"`")},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(cn),Zn=[{regExp:/\(/g,encoded:"%28",escaped:"\\("},{regExp:/\)/g,encoded:"%29",escaped:"\\)"},{regExp:/\[/g,encoded:"%5B",escaped:"\\["},{regExp:/\]/g,encoded:"%5D",escaped:"\\]"},{regExp:/</g,encoded:"%3C",escaped:"\\<"},{regExp:/>/g,encoded:"%3E",escaped:"\\>"},{regExp:/ /g,encoded:"%20",escaped:" "}];function Qn(t){return Zn.reduce((function(t,e){var n=e.regExp,r=e.escaped;return t.replace(n,r)}),t)}function tr(t){return Zn.reduce((function(t,e){var n=e.regExp,r=e.encoded;return t.replace(n,r)}),t)}var er=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:{url:{default:!1},desc:{default:!1}},toDOM:function(t){var e=t.attrs,n="link";return e.url&&(n+="|link-url|marked-text"),e.desc&&(n+="|link-desc|marked-text"),["span",{class:Me.apply(void 0,n.split("|"))},0]}}},enumerable:!1,configurable:!0}),e.prototype.addLinkOrImage=function(t){return function(e){return function(n,r){var i=n.selection,o=n.tr,a=n.schema,s=Re(i),c=s[0],u=s[1],l=e,f=l.linkText,d=l.altText,h=l.linkUrl,p=l.imageUrl,m=f,v=h,g="";return"image"===t&&(m=d,v=p,g="!"),g+="["+(m=Qn(m))+"]("+(v=tr(v))+")",r(o.replaceWith(c,u,bt(a,g))),!0}}},e.prototype.commands=function(){return{addImage:this.addLinkOrImage("image"),addLink:this.addLinkOrImage("link")}},e}(cn),nr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"taskDelimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("delimiter","list-item")},0]}}},enumerable:!1,configurable:!0}),e}(cn),rr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"delimiter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("delimiter")},0]}}},enumerable:!1,configurable:!0}),e}(cn),ir=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"meta"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("meta")},0]}}},enumerable:!1,configurable:!0}),e}(cn),or=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"markedText"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("marked-text")},0]}}},enumerable:!1,configurable:!0}),e}(cn),ar=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("table-cell")},0]}}},enumerable:!1,configurable:!0}),e}(cn),sr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"html"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("html")},0]}}},enumerable:!1,configurable:!0}),e}(cn),cr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{toDOM:function(){return["span",{class:Me("custom-block")},0]}}},enumerable:!1,configurable:!0}),e}(cn),ur=/x|backspace/i,lr=/^\[(\s*)(x?)(\s*)\](?:\s+)/i;function fr(t){var e=t.schema,n=t.toastMark;return new a.d({props:{handleDOMEvents:{keyup:function(t,r){var i,o=t.state,a=o.doc,s=o.tr,c=o.selection;if(c.empty&&ur.test(r.key)){var u=Fe(c),l=u.startIndex,f=u.startFromOffset,d=[l+1,u.from-f+1],h=Nt(n.findNodeAtPosition(d),(function(t){var e;return"paragraph"===t.type&&"item"===(null===(e=t.parent)||void 0===e?void 0:e.type)}));if(null===(i=null==h?void 0:h.firstChild)||void 0===i?void 0:i.literal){var p=h.firstChild,m=p.literal.match(lr);if(m){var v=p.sourcepos[0],g=m[1],y=m[2],b=m[3],w=g.length+b.length,k=qe(a,v[0]-1).startOffset,x=v[1]+k;if(y){var S=w?w+1:0;s.replaceWith(x,S+x,e.text(y)),t.dispatch(s)}else w||(s.insertText(" ",x),t.dispatch(s))}}}return!1}}}})}var dr=/\r\n|\n|\r/,hr=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toastMark,o=n.useCommandShortcut,a=void 0===o||o,s=n.mdPlugins,c=void 0===s?[]:s;return r.editorType="markdown",r.el.classList.add("md-mode"),r.toastMark=i,r.extraPlugins=c,r.specs=r.createSpecs(),r.schema=r.createSchema(),r.context=r.createContext(),r.keymaps=r.createKeymaps(a),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(h(h({},r.context),{view:r.view})),r.createClipboard(),r.eventEmitter.listen("changePreviewTabWrite",(function(){return r.toggleActive(!0)})),r.eventEmitter.listen("changePreviewTabPreview",(function(){return r.toggleActive(!1)})),r.initEvent(),r}return d(e,t),e.prototype.toggleActive=function(t){Oe(this.el,"active",t),t?this.focus():this.blur()},e.prototype.createClipboard=function(){var t=this;this.clipboard=document.createElement("textarea"),this.clipboard.className=Ce("pseudo-clipboard"),this.clipboard.addEventListener("paste",(function(e){var n=e.clipboardData||window.clipboardData,r=n&&n.items;if(r){var i=ne(r);i&&(e.preventDefault(),ee(t.eventEmitter,i,e.type))}})),this.clipboard.addEventListener("input",(function(e){var n=e.target.value;t.replaceSelection(n),e.preventDefault(),e.target.value=""})),this.el.insertBefore(this.clipboard,this.view.dom)},e.prototype.createContext=function(){return{toastMark:this.toastMark,schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSpecs=function(){return new fe([new sn,new In,new se,new Nn,new Ln,new dn,new Rn,new cr,new Un,new ar,new zn,new Fn,new $n,new Wn,new Gn,new Xn,new er,new rr,new nr,new or,new ir,new sr])},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(p([nn(this.context),(t=this.context,e=t.toastMark,n=t.eventEmitter,new a.d({view:function(){return{update:function(t,r){var i=t.state,o=i.doc,a=i.selection;if(!(r&&r.doc.eq(o)&&r.selection.eq(a))){var s=a.from,c=i.doc.resolve(s).start(),u=s-c;s===c&&(u+=1);var l=[i.doc.content.findIndex(s).index+1,u],f=e.findNodeAtPosition(l),d=an(f);n.emit("changeToolbarState",{cursorPos:l,mdNode:f,toolbarState:d}),n.emit("setFocusedNode",f)}}}}})),fr(this.context)],this.createPluginProps()));var t,e,n},e.prototype.createView=function(){var t=this;return new i.c(this.el,{state:this.createState(),dispatchTransaction:function(e){t.updateMarkdown(e);var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e)},handleKeyDown:function(e,n){return(n.metaKey||n.ctrlKey)&&"V"===n.key.toUpperCase()&&t.clipboard.focus(),t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{copy:function(e,n){return t.captureCopy(n)},cut:function(e,n){return t.captureCopy(n,"cut")},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1}},nodeViews:{widget:oe}})},e.prototype.createCommands=function(){return this.specs.commands(this.view)},e.prototype.captureCopy=function(t,e){t.preventDefault();var n=this.view.state,r=n.selection,i=n.tr;if(r.empty)return!0;var o=this.getChanged(r.content());return t.clipboardData?t.clipboardData.setData("text/plain",o):window.clipboardData.setData("Text",o),"cut"===e&&this.view.dispatch(i.deleteSelection().scrollIntoView().setMeta("uiEvent","cut")),!0},e.prototype.updateMarkdown=function(t){var e=this;t.docChanged&&t.steps.forEach((function(n,r){if(n.slice&&!(n instanceof o.b)){var i=t.docs[r],a=[n.from,n.to],s=Ue(i,a[0],a[1]),c=s[0],u=s[1],l=e.getChanged(n.slice);c[0]===u[0]&&c[1]===u[1]&&""===l&&(l="\n");var f=e.toastMark.editMarkdown(c,u,l);e.eventEmitter.emit("updatePreview",f),t.setMeta("editResult",f).scrollIntoView()}}))},e.prototype.getChanged=function(t){var e="",n=t.content.size;return t.content.nodesBetween(0,n,(function(t,r){t.isText?e+=t.text.slice(Math.max(0,r)-r,n-r):t.isBlock&&r>0&&(e+="\n")})),e},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=He(n.doc,t,e),i=r[0],o=r[1];this.view.dispatch(n.setSelection(wt(n,i,o)).scrollIntoView())},e.prototype.replaceSelection=function(t,e,n){var i,o=this.view.state,a=o.tr,s=o.schema,c=o.doc,u=t.split(dr).map((function(t){return yt(s,Jt(t,s))})),l=new r.j(r.c.from(u),1,1);if(this.focus(),e&&n){var f=He(c,e,n),d=f[0],h=f[1];i=a.replaceRange(d,h,l)}else i=a.replaceSelection(l);this.view.dispatch(i.scrollIntoView())},e.prototype.deleteSelection=function(t,e){var n,r=this.view.state,i=r.tr,o=r.doc;if(t&&e){var a=He(o,t,e),s=a[0],c=a[1];n=i.deleteRange(s,c)}else n=i.deleteSelection();this.view.dispatch(n.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;if(t&&e){var s=He(r,t,e);o=s[0],a=s[1]}return r.textBetween(o,a,"\n")},e.prototype.getSelection=function(){var t=this.view.state.selection,e=t.from,n=t.to;return Ue(this.view.state.tr.doc,e,n)},e.prototype.setMarkdown=function(t,e){void 0===e&&(e=!0);var n=t.split(dr),r=this.view.state,i=r.tr,o=r.doc,a=r.schema,s=n.map((function(t){return yt(a,Jt(t,a))}));this.view.dispatch(i.replaceWith(0,o.content.size,s)),e&&this.moveCursorToEnd(!0)},e.prototype.addWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.doc,a=r.selection,s=n?He(o,n,n)[0]:a.to;this.view.dispatch(i.setMeta("widget",{pos:s,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=r.schema,a=He(r.doc,t,e),s=Jt(n,o);this.view.dispatch(i.replaceWith(a[0],a[1],s))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t||Ue(n,r.from)[0],o=this.toastMark.findNodeAtPosition(i);return"text"===o.type&&"paragraph"!==o.parent.type&&(o=o.parent),o.sourcepos[1][1]+=1,{range:o.sourcepos,type:o.type}},e.prototype.getMarkdown=function(){return this.toastMark.getLineTexts().map((function(t){return Ft(t)})).join("\n")},e.prototype.getToastMark=function(){return this.toastMark},e}(ce);var pr=function(t,e){var n,r=t._feEventKey;return r||(r=t._feEventKey={}),(n=r[e])||(n=r[e]=[]),n},mr=y,vr=E,gr=pr;function yr(t,e,n){var r,i=gr(t,e);n?(vr(i,(function(i,o){return n!==i.handler||(br(t,e,i.wrappedHandler),r=o,!1)})),i.splice(r,1)):(vr(i,(function(n){br(t,e,n.wrappedHandler)})),i.splice(0,i.length))}function br(t,e,n){"removeEventListener"in t?t.removeEventListener(e,n):"detachEvent"in t&&t.detachEvent("on"+e,n)}var wr=function(t,e,n){mr(e)?vr(e.split(/\s+/g),(function(e){yr(t,e,n)})):vr(e,(function(e,n){yr(t,n,e)}))},kr=y,xr=E,Sr=pr;function Er(t,e,n,r){function i(e){n.call(r||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,i):"attachEvent"in t&&t.attachEvent("on"+e,i),function(t,e,n,r){var i=Sr(t,e),o=!1;xr(i,(function(t){return t.handler!==n||(o=!0,!1)})),o||i.push({handler:n,wrappedHandler:r})}(t,e,n,i)}var _r=function(t,e,n,r){kr(e)?xr(e.split(/\s+/g),(function(e){Er(t,e,n,r)})):xr(e,(function(e,r){Er(t,r,e,n)}))},Cr=function(t,e){return(Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Mr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Cr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ar=function(){return(Ar=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function Tr(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}var Or="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},Dr={};function Ir(t,e,n){var r,i,o,a,s,c="";for("string"!=typeof e&&(n=e,e=Ir.defaultChars),void 0===n&&(n=!0),s=function(t){var e,n,r=Dr[t];if(r)return r;for(r=Dr[t]=[],e=0;e<128;e++)n=String.fromCharCode(e),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)r[t.charCodeAt(e)]=t[e];return r}(e),r=0,i=t.length;r<i;r++)if(o=t.charCodeAt(r),n&&37===o&&r+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(r+1,r+3)))c+=t.slice(r,r+3),r+=2;else if(o<128)c+=s[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&r+1<i&&(a=t.charCodeAt(r+1))>=56320&&a<=57343){c+=encodeURIComponent(t[r]+t[r+1]),r++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(t[r]);return c}Ir.defaultChars=";/?:@&=+$,-_.!~*'()#",Ir.componentChars="-_.!~*'()";var Nr=Ir,Pr={},Lr={},Rr={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},Br={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"},jr={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'},Ur={},zr=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ur,"__esModule",{value:!0});var Hr=zr({0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}),Fr=String.fromCodePoint||function(t){var e="";return t>65535&&(t-=65536,e+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e+=String.fromCharCode(t)};Ur.default=function(t){return t>=55296&&t<=57343||t>1114111?"�":(t in Hr.default&&(t=Hr.default[t]),Fr(t))};var qr=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.decodeHTML=Lr.decodeHTMLStrict=Lr.decodeXML=void 0;var Vr=qr(Rr),$r=qr(Br),Kr=qr(jr),Wr=qr(Ur),Jr=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function Gr(t){var e=Xr(t);return function(t){return String(t).replace(Jr,e)}}Lr.decodeXML=Gr(Kr.default),Lr.decodeHTMLStrict=Gr(Vr.default);var Yr=function(t,e){return t<e?1:-1};function Xr(t){return function(e){if("#"===e.charAt(1)){var n=e.charAt(2);return"X"===n||"x"===n?Wr.default(parseInt(e.substr(3),16)):Wr.default(parseInt(e.substr(2),10))}return t[e.slice(1,-1)]||e}}Lr.decodeHTML=function(){for(var t=Object.keys($r.default).sort(Yr),e=Object.keys(Vr.default).sort(Yr),n=0,r=0;n<e.length;n++)t[r]===e[n]?(e[n]+=";?",r++):e[n]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),o=Xr(Vr.default);function a(t){return";"!==t.substr(-1)&&(t+=";"),o(t)}return function(t){return String(t).replace(i,a)}}();var Zr={},Qr=Or&&Or.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.escapeUTF8=Zr.escape=Zr.encodeNonAsciiHTML=Zr.encodeHTML=Zr.encodeXML=void 0;var ti=ai(Qr(jr).default),ei=si(ti);Zr.encodeXML=di(ti);var ni,ri,ii=ai(Qr(Rr).default),oi=si(ii);function ai(t){return Object.keys(t).sort().reduce((function(e,n){return e[t[n]]="&"+n+";",e}),{})}function si(t){for(var e=[],n=[],r=0,i=Object.keys(t);r<i.length;r++){var o=i[r];1===o.length?e.push("\\"+o):n.push(o)}e.sort();for(var a=0;a<e.length-1;a++){for(var s=a;s<e.length-1&&e[s].charCodeAt(1)+1===e[s+1].charCodeAt(1);)s+=1;var c=1+s-a;c<3||e.splice(a,c,e[a]+"-"+e[s])}return n.unshift("["+e.join("")+"]"),new RegExp(n.join("|"),"g")}Zr.encodeHTML=(ni=ii,ri=oi,function(t){return t.replace(ri,(function(t){return ni[t]})).replace(ci,li)}),Zr.encodeNonAsciiHTML=di(ii);var ci=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,ui=null!=String.prototype.codePointAt?function(t){return t.codePointAt(0)}:function(t){return 1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536};function li(t){return"&#x"+(t.length>1?ui(t):t.charCodeAt(0)).toString(16).toUpperCase()+";"}var fi=new RegExp(ei.source+"|"+ci.source,"g");function di(t){return function(e){return e.replace(fi,(function(e){return t[e]||li(e)}))}}Zr.escape=function(t){return t.replace(fi,li)},Zr.escapeUTF8=function(t){return t.replace(ei,li)},function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var e=Lr,n=Zr;t.decode=function(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTML)(t)},t.decodeStrict=function(t,n){return(!n||n<=0?e.decodeXML:e.decodeHTMLStrict)(t)},t.encode=function(t,e){return(!e||e<=0?n.encodeXML:n.encodeHTML)(t)};var r=Zr;Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return r.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return r.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return r.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return r.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return r.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return r.encodeHTML}});var i=Lr;Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return i.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return i.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return i.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return i.decodeXML}})}(Pr);var hi="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});",pi=/[\\&]/,mi="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",vi=new RegExp("\\\\"+mi+"|"+hi,"gi"),gi=new RegExp('[&<>"]',"g"),yi=function(t){return 92===t.charCodeAt(0)?t.charAt(1):Pr.decodeHTML(t)};function bi(t){return pi.test(t)?t.replace(vi,yi):t}function wi(t){try{return Nr(t)}catch(e){return t}}function ki(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return t}}function xi(t){return gi.test(t)?t.replace(gi,ki):t}function Si(t,e){for(var n=[],r=0;r<e;r++)n.push(t);return n.join("")}function Ei(t){return!t||!/[^ \t]+/.test(t)}var _i=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.next=function(){var t=this.current,e=this.entering;if(null===t)return null;var n=Ci(t);return e&&n?t.firstChild?(this.current=t.firstChild,this.entering=!0):this.entering=!1:t===this.root?this.current=null:null===t.next?(this.current=t.parent,this.entering=!1):(this.current=t.next,this.entering=!0),{entering:e,node:t}},t.prototype.resumeAt=function(t,e){this.current=t,this.entering=!0===e},t}();function Ci(t){switch(t.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":case"customInline":return!0;default:return!1}}var Mi=1,Ai={};function Ti(t){delete Ai[t]}var Oi=function(){function t(t,e){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===t?-1:Mi++,this.type=t,this.sourcepos=e,Ai[this.id]=this}return t.prototype.isContainer=function(){return Ci(this)},t.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},t.prototype.replaceWith=function(t){this.insertBefore(t),this.unlink()},t.prototype.insertAfter=function(t){t.unlink(),t.next=this.next,t.next&&(t.next.prev=t),t.prev=this,this.next=t,this.parent&&(t.parent=this.parent,t.next||(t.parent.lastChild=t))},t.prototype.insertBefore=function(t){t.unlink(),t.prev=this.prev,t.prev&&(t.prev.next=t),t.next=this,this.prev=t,t.parent=this.parent,t.prev||(t.parent.firstChild=t)},t.prototype.appendChild=function(t){t.unlink(),t.parent=this,this.lastChild?(this.lastChild.next=t,t.prev=this.lastChild,this.lastChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.prependChild=function(t){t.unlink(),t.parent=this,this.firstChild?(this.firstChild.prev=t,t.next=this.firstChild,this.firstChild=t):(this.firstChild=t,this.lastChild=t)},t.prototype.walker=function(){return new _i(this)},t}(),Di=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=e,r}return Mr(e,t),e}(Oi),Ii=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listData=null,e}return Mr(e,t),e}(Di),Ni=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.headingType="atx",e}return Mr(e,t),e}(Di),Pi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFenced=!1,e.fenceChar=null,e.fenceLength=0,e.fenceOffset=-1,e.info=null,e.infoPadding=0,e}return Mr(e,t),e}(Di),Li=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.columns=[],e}return Mr(e,t),e}(Di),Ri=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startIdx=0,e.endIdx=0,e.paddingLeft=0,e.paddingRight=0,e.ignored=!1,e}return Mr(e,t),e}(Di),Bi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title="",e.dest="",e.label="",e}return Mr(e,t),e}(Di),ji=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.syntaxLength=0,e.offset=-1,e.info="",e}return Mr(e,t),e}(Di),Ui=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.htmlBlockType=-1,e}return Mr(e,t),e}(Di),zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.destination=null,e.title=null,e.extendedAutolink=!1,e}return Mr(e,t),e}(Oi),Hi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tickCount=0,e}return Mr(e,t),e}(Oi),Fi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.info="",e}return Mr(e,t),e}(Oi);function qi(t,e){switch(t){case"heading":return new Ni(t,e);case"list":case"item":return new Ii(t,e);case"link":case"image":return new zi(t,e);case"codeBlock":return new Pi(t,e);case"htmlBlock":return new Ui(t,e);case"table":return new Li(t,e);case"tableCell":return new Ri(t,e);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":case"frontMatter":return new Di(t,e);case"code":return new Hi(t,e);case"refDef":return new Bi(t,e);case"customBlock":return new ji(t,e);case"customInline":return new Fi(t,e);default:return new Oi(t,e)}}function Vi(t){return"codeBlock"===t.type}function $i(t){return"list"===t.type}function Ki(t){return"refDef"===t.type}function Wi(t){return"customBlock"===t.type}function Ji(t,e){var n=qi("text",e);return n.literal=t,n}var Gi,Yi="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",Xi="</[A-Za-z][A-Za-z0-9-]*\\s*[>]",Zi=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i");if(String.fromCodePoint)Gi=function(t){try{return String.fromCodePoint(t)}catch(t){if(t instanceof RangeError)return String.fromCharCode(65533);throw t}};else{var Qi=String.fromCharCode,to=Math.floor;Gi=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,i=16384,o=[],a=-1,s=t.length;if(!s)return"";for(var c="";++a<s;){var u=Number(t[a]);if(!isFinite(u)||u<0||u>1114111||to(u)!==u)return String.fromCharCode(65533);u<=65535?o.push(u):(n=55296+((u-=65536)>>10),r=u%1024+56320,o.push(n,r)),(a+1===s||o.length>i)&&(c+=Qi.apply(void 0,o),o.length=0)}return c}}var eo=Gi;function no(t){var e=/\)+$/.exec(t);if(e){for(var n=0,r=0,i=t;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,e[0].length);return t.substring(0,t.length-a)}}return t}function ro(t){return t.replace(/&[A-Za-z0-9]+;$/,"")}function io(t){return Tr(Tr([],function(t){for(var e,n=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),r=[];e=n.exec(t);){var i=ro(no(e[0])),o="www"===e[1]?"http://":"";r.push({text:i,range:[e.index,e.index+i.length-1],url:""+o+i})}return r}(t)),function(t){for(var e,n=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),r=[];e=n.exec(t);){var i=e[0];/[_-]+$/.test(i)||r.push({text:i,range:[e.index,e.index+i.length-1],url:"mailto:"+i})}return r}(t)).sort((function(t,e){return t.range[0]-e.range[0]}))}function oo(t){return t[t.length-1]}function ao(t){return t.slice(1,t.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()}function so(t,e){Object.keys(t).forEach((function(n){e(n,t[n])}))}function co(t){return!Object.keys(t).length}var uo="\\\\"+mi,lo=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),fo=new RegExp('^(?:"('+uo+'|[^"\\x00])*"|\'('+uo+"|[^'\\x00])*'|\\(("+uo+"|[^()\\x00])*\\))"),ho=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,po=new RegExp("^"+mi),mo=new RegExp("^"+hi,"i"),vo=/`+/,go=/^`+/,yo=/\.\.\./g,bo=/--+/g,wo=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,ko=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,xo=/^ *(?:\n *)?/,So=/^[ \t\n\x0b\x0c\x0d]/,Eo=/^\s/,_o=/ *$/,Co=/^ */,Mo=/^ *(?:\n|$)/,Ao=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,To=/^[^\n`\[\]\\!<&*_'"~$]+/m,Oo=function(){function t(t){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=t}return t.prototype.sourcepos=function(t,e){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,t+n];return"number"==typeof e?[i,[r,e+n]]:i},t.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},t.prototype.match=function(t){var e=t.exec(this.subject.slice(this.pos));return null===e?null:(this.pos+=e.index+e[0].length,e[0])},t.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},t.prototype.spnl=function(){return this.match(xo),!0},t.prototype.parseBackticks=function(t){var e=this.pos+1,n=this.match(go);if(null===n)return!1;for(var r,i=this.pos;null!==(r=this.match(vo));)if(r===n){var o=this.subject.slice(i,this.pos-n.length),a=this.sourcepos(e,this.pos),s=o.split("\n");if(s.length>1){var c=oo(s);this.lineIdx+=s.length-1,this.linePosOffset=-(this.pos-c.length-n.length),a[1]=this.sourcepos(this.pos),o=s.join(" ")}var u=qi("code",a);return o.length>0&&null!==o.match(/[^ ]/)&&" "==o[0]&&" "==o[o.length-1]?u.literal=o.slice(1,o.length-1):u.literal=o,u.tickCount=n.length,t.appendChild(u),!0}return this.pos=i,t.appendChild(Ji(n,this.sourcepos(e,this.pos-1))),!0},t.prototype.parseBackslash=function(t){var e,n=this.subject;this.pos+=1;var r=this.pos;return 10===this.peek()?(this.pos+=1,e=qi("linebreak",this.sourcepos(this.pos-1,this.pos)),t.appendChild(e),this.nextLine()):po.test(n.charAt(this.pos))?(t.appendChild(Ji(n.charAt(this.pos),this.sourcepos(r,this.pos))),this.pos+=1):t.appendChild(Ji("\\",this.sourcepos(r,r))),!0},t.prototype.parseAutolink=function(t){var e,n,r,i=this.pos+1;return(e=this.match(wo))?(n=e.slice(1,e.length-1),(r=qi("link",this.sourcepos(i,this.pos))).destination=wi("mailto:"+n),r.title="",r.appendChild(Ji(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0):!!(e=this.match(ko))&&(n=e.slice(1,e.length-1),(r=qi("link",this.sourcepos(i,this.pos))).destination=wi(n),r.title="",r.appendChild(Ji(n,this.sourcepos(i+1,this.pos-1))),t.appendChild(r),!0)},t.prototype.parseHtmlTag=function(t){var e=this.pos+1,n=this.match(Zi);if(null===n)return!1;var r=qi("htmlInline",this.sourcepos(e,this.pos));return r.literal=n,t.appendChild(r),!0},t.prototype.scanDelims=function(t){var e=0,n=this.pos;if(39===t||34===t)e++,this.pos++;else for(;this.peek()===t;)e++,this.pos++;if(0===e||e<2&&(126===t||36===t))return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":eo(o);var a,s,c=Eo.test(r),u=lo.test(r),l=Eo.test(i),f=lo.test(i),d=!c&&(!u||l||f),h=!l&&(!f||c||u);return 95===t?(a=d&&(!h||f),s=h&&(!d||u)):39===t||34===t?(a=d&&!h,s=h):36===t?(a=!c,s=!l):(a=d,s=h),this.pos=n,{numdelims:e,canOpen:a,canClose:s}},t.prototype.handleDelim=function(t,e){var n=this.scanDelims(t);if(!n)return!1;var r=n.numdelims,i=this.pos+1;this.pos+=r;var o=Ji(39===t?"’":34===t?"“":this.subject.slice(i-1,this.pos),this.sourcepos(i,this.pos));return e.appendChild(o),(n.canOpen||n.canClose)&&(this.options.smart||39!==t&&34!==t)&&(this.delimiters={cc:t,numdelims:r,origdelims:r,node:o,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},t.prototype.removeDelimiter=function(t){null!==t.previous&&(t.previous.next=t.next),null===t.next?this.delimiters=t.previous:t.next.previous=t.previous},t.prototype.removeDelimitersBetween=function(t,e){t.next!==e&&(t.next=e,e.previous=t)},t.prototype.processEmphasis=function(t){var e,n,r,i,o,a,s,c=!1,u=((e={})[95]=[t,t,t],e[42]=[t,t,t],e[39]=[t],e[34]=[t],e[126]=[t],e[36]=[t],e);for(r=this.delimiters;null!==r&&r.previous!==t;)r=r.previous;for(;null!==r;){var l=r.cc,f=95===l||42===l;if(r.canClose){for(n=r.previous,s=!1;null!==n&&n!==t&&n!==u[l][f?r.origdelims%3:0];){if(c=f&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!c){s=!0;break}n=n.previous}if(i=r,f||126===l||36===l)if(s){if(n){var d=r.numdelims>=2&&n.numdelims>=2?2:1,h=f?0:1;o=n.node,a=r.node;var p=f?1===d?"emph":"strong":"strike";36===l&&(p="customInline");var m=qi(p),v=o.sourcepos[1],g=a.sourcepos[0];m.sourcepos=[[v[0],v[1]-d+1],[g[0],g[1]+d-1]],o.sourcepos[1][1]-=d,a.sourcepos[0][1]+=d,o.literal=o.literal.slice(d),a.literal=a.literal.slice(d),n.numdelims-=d,r.numdelims-=d;for(var y=o.next,b=void 0;y&&y!==a;)b=y.next,y.unlink(),m.appendChild(y),y=b;if(36===l){var w=m.firstChild,k=w.literal||"",x=k.split(/\s/)[0];m.info=x,k.length===x.length+1?w.unlink():(w.sourcepos[0][1]+=x.length,w.literal=k.replace(x+" ",""))}if(o.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=h&&(0===n.numdelims&&o.unlink(),this.removeDelimiter(n)),r.numdelims<=h){0===r.numdelims&&a.unlink();var S=r.next;this.removeDelimiter(r),r=S}}}else r=r.next;else 39===l?(r.node.literal="’",s&&(n.node.literal="‘"),r=r.next):34===l&&(r.node.literal="”",s&&(n.node.literal="“"),r=r.next);s||(u[l][f?i.origdelims%3:0]=i.previous,i.canOpen||this.removeDelimiter(i))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==t;)this.removeDelimiter(this.delimiters)},t.prototype.parseLinkTitle=function(){var t=this.match(fo);return null===t?null:bi(t.substr(1,t.length-2))},t.prototype.parseLinkDestination=function(){var t=this.match(ho);if(null===t){if(60===this.peek())return null;for(var e=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&po.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==So.exec(eo(r)))break;this.pos+=1}return this.pos===e&&41!==r?null:0!==n?null:wi(bi(t=this.subject.substr(e,this.pos-e)))}return wi(bi(t.substr(1,t.length-2)))},t.prototype.parseLinkLabel=function(){var t=this.match(Ao);return null===t||t.length>1001?0:t.length},t.prototype.parseOpenBracket=function(t){var e=this.pos;this.pos+=1;var n=Ji("[",this.sourcepos(this.pos,this.pos));return t.appendChild(n),this.addBracket(n,e,!1),!0},t.prototype.parseBang=function(t){var e=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=Ji("![",this.sourcepos(this.pos-1,this.pos));t.appendChild(n),this.addBracket(n,e+1,!0)}else{n=Ji("!",this.sourcepos(this.pos,this.pos));t.appendChild(n)}return!0},t.prototype.parseCloseBracket=function(t){var e=null,n=null,r=!1;this.pos+=1;var i=this.pos,o=this.brackets;if(null===o)return t.appendChild(Ji("]",this.sourcepos(i,i))),!0;if(!o.active)return t.appendChild(Ji("]",this.sourcepos(i,i))),this.removeBracket(),!0;var a=o.image,s=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(e=this.parseLinkDestination())&&this.spnl()&&(So.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=s);var c="";if(!r){var u=this.pos,l=this.parseLinkLabel();if(l>2?c=this.subject.slice(u,u+l):o.bracketAfter||(c=this.subject.slice(o.index,i)),0===l&&(this.pos=s),c){c=ao(c);var f=this.refMap[c];f&&(e=f.destination,n=f.title,r=!0)}}if(r){var d=qi(a?"image":"link");d.destination=e,d.title=n||"",d.sourcepos=[o.startpos,this.sourcepos(this.pos)];for(var h=o.node.next,p=void 0;h;)p=h.next,h.unlink(),d.appendChild(h),h=p;if(t.appendChild(d),this.processEmphasis(o.previousDelimiter),this.removeBracket(),o.node.unlink(),!a)for(o=this.brackets;null!==o;)o.image||(o.active=!1),o=o.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:c}),!0}return this.removeBracket(),this.pos=i,t.appendChild(Ji("]",this.sourcepos(i,i))),this.options.referenceDefinition&&(this.refLinkCandidateMap[t.id]={node:t,refLabel:c}),!0},t.prototype.addBracket=function(t,e,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:t,startpos:this.sourcepos(e+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:e,image:n,active:!0}},t.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},t.prototype.parseEntity=function(t){var e,n=this.pos+1;return!!(e=this.match(mo))&&(t.appendChild(Ji(Pr.decodeHTML(e),this.sourcepos(n,this.pos))),!0)},t.prototype.parseString=function(t){var e,n=this.pos+1;if(e=this.match(To)){if(this.options.smart){var r=e.replace(yo,"…").replace(bo,(function(t){var e=0,n=0;return t.length%3==0?n=t.length/3:t.length%2==0?e=t.length/2:t.length%3==2?(e=1,n=(t.length-2)/3):(e=2,n=(t.length-4)/3),Si("—",n)+Si("–",e)}));t.appendChild(Ji(r,this.sourcepos(n,this.pos)))}else{var i=Ji(e,this.sourcepos(n,this.pos));t.appendChild(i)}return!0}return!1},t.prototype.parseNewline=function(t){this.pos+=1;var e=t.lastChild;if(e&&"text"===e.type&&" "===e.literal[e.literal.length-1]){var n=" "===e.literal[e.literal.length-2],r=e.literal.length;e.literal=e.literal.replace(_o,"");var i=r-e.literal.length;e.sourcepos[1][1]-=i,t.appendChild(qi(n?"linebreak":"softbreak",this.sourcepos(this.pos-i,this.pos)))}else t.appendChild(qi("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(Co),!0},t.prototype.parseReference=function(t,e){if(!this.options.referenceDefinition)return 0;this.subject=t.stringContent,this.pos=0;var n=null,r=this.pos,i=this.parseLinkLabel();if(0===i)return 0;var o=this.subject.substr(0,i);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var a=this.parseLinkDestination();if(null===a)return this.pos=r,0;var s=this.pos;this.spnl(),this.pos!==s&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=s);var c=!0;if(null===this.match(Mo)&&(""===n?c=!1:(n="",this.pos=s,c=null!==this.match(Mo))),!c)return this.pos=r,0;var u=ao(o);if(""===u)return this.pos=r,0;var l=this.getReferenceDefSourcepos(t);t.sourcepos[0][0]=l[1][0]+1;var f=qi("refDef",l);return f.title=n,f.dest=a,f.label=u,t.insertBefore(f),e[u]?this.refDefCandidateMap[f.id]=f:e[u]=ya(f),this.pos-r},t.prototype.mergeTextNodes=function(t){for(var e,n=[];e=t.next();){var r=e.entering,i=e.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},t.prototype.getReferenceDefSourcepos=function(t){for(var e=t.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<e.length;o+=1){var a=e[o];if(So.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:e[s].length},n=!0}var c=a.match(/'|"/g);if(c&&(r+=c.length),2===r){i={line:o,ch:a.length};break}}return[[t.sourcepos[0][0],t.sourcepos[0][1]],[t.sourcepos[0][0]+i.line,i.ch]]},t.prototype.parseInline=function(t){var e,n=!1,r=this.peek();if(-1===r)return!1;switch(r){case 10:n=this.parseNewline(t);break;case 92:n=this.parseBackslash(t);break;case 96:n=this.parseBackticks(t);break;case 42:case 95:case 126:case 36:n=this.handleDelim(r,t);break;case 39:case 34:n=!!(null===(e=this.options)||void 0===e?void 0:e.smart)&&this.handleDelim(r,t);break;case 91:n=this.parseOpenBracket(t);break;case 33:n=this.parseBang(t);break;case 93:n=this.parseCloseBracket(t);break;case 60:n=this.parseAutolink(t)||this.parseHtmlTag(t);break;case 38:n=this.parseEntity(t);break;default:n=this.parseString(t)}return n||(this.pos+=1,t.appendChild(Ji(eo(r),this.sourcepos(this.pos,this.pos+1)))),!0},t.prototype.parse=function(t){for(this.subject=t.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=t.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=t.sourcepos[0][0],function(t){return"heading"===t.type}(t)&&(this.lineOffsets[0]+=t.level+1);this.parseInline(t););t.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(t.walker());var e=this.options,n=e.extendedAutolinks,r=e.customParser;if(n&&function(t,e){var n;"boolean"==typeof e&&(e=io);for(var r=function(){var t=n.entering,r=n.node;if(t&&"text"===r.type&&"link"!==r.parent.type){var i=r.literal,o=e(i);if(!o||!o.length)return"continue";for(var a=0,s=r.sourcepos[0],c=s[0],u=s[1],l=function(t,e){return[[c,u+t],[c,u+e]]},f=[],d=0,h=o;d<h.length;d++){var p=h[d],m=p.range,v=p.url,g=p.text;m[0]>a&&f.push(Ji(i.substring(a,m[0]),l(a,m[0]-1)));var y=qi("link",l.apply(void 0,m));y.appendChild(Ji(g,l.apply(void 0,m))),y.destination=v,y.extendedAutolink=!0,f.push(y),a=m[1]+1}a<i.length&&f.push(Ji(i.substring(a),l(a,i.length-1)));for(var b=0,w=f;b<w.length;b++){var k=w[b];r.insertBefore(k)}r.unlink()}};n=t.next();)r()}(t.walker(),n),r&&t.firstChild)for(var i,o=t.firstChild.walker();i=o.next();){var a=i.node,s=i.entering;r[a.type]&&r[a.type](a,{entering:s,options:this.options})}},t}(),Do=/^\[([ \txX])\][ \t]+/;var Io=/[^ \t\f\v\r\n]/,No=/^(?:`{3,}|~{3,})(?= *$)/;function Po(t){for(var e=t;e;){if(e.lastLineBlank)return!0;var n=e.type;if(e.lastLineChecked||"list"!==n&&"item"!==n){e.lastLineChecked=!0;break}e.lastLineChecked=!0,e=e.lastChild}return!1}function Lo(t,e){return e<t.length?t.charCodeAt(e):-1}function Ro(t){return!Io.test(t)}function Bo(t){return 32===t||9===t}var jo=/^\$\$$/,Uo={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0},zo={document:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},list:{continue:function(){return 0},finalize:function(t,e){for(var n=e.firstChild;n;){if(Po(n)&&n.next){e.listData.tight=!1;break}for(var r=n.firstChild;r;){if(Po(r)&&(n.next||r.next)){e.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(t){return"item"===t},acceptsLines:!1},blockQuote:{continue:function(t){var e=t.currentLine;return t.indented||62!==Lo(e,t.nextNonspace)?1:(t.advanceNextNonspace(),t.advanceOffset(1,!1),Bo(Lo(e,t.offset))&&t.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(t){return"item"!==t},acceptsLines:!1},item:{continue:function(t,e){if(t.blank){if(null===e.firstChild)return 1;t.advanceNextNonspace()}else{if(!(t.indent>=e.listData.markerOffset+e.listData.padding))return 1;t.advanceOffset(e.listData.markerOffset+e.listData.padding,!0)}return 0},finalize:function(t,e){if(e.firstChild&&"paragraph"===e.firstChild.type){var n=e.firstChild,r=n.stringContent.match(Do);if(r){var i=r[0].length;n.stringContent=n.stringContent.substring(i-1),n.sourcepos[0][1]+=i,n.lineOffsets[0]+=i,e.listData.task=!0,e.listData.checked=/[xX]/.test(r[1])}}},canContain:function(t){return"item"!==t},acceptsLines:!1},heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:{continue:function(t,e){var n=t.currentLine,r=t.indent;if(e.isFenced){var i=r<=3&&n.charAt(t.nextNonspace)===e.fenceChar&&n.slice(t.nextNonspace).match(No);if(i&&i[0].length>=e.fenceLength)return t.lastLineLength=t.offset+r+i[0].length,t.finalize(e,t.lineNumber),2;for(var o=e.fenceOffset;o>0&&Bo(Lo(n,t.offset));)t.advanceOffset(1,!0),o--}else if(r>=4)t.advanceOffset(4,!0);else{if(!t.blank)return 1;t.advanceNextNonspace()}return 0},finalize:function(t,e){var n;if(null!==e.stringContent){if(e.isFenced){var r=e.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),a=r.slice(i+1),s=o.match(/^(\s*)(.*)/);e.infoPadding=s[1].length,e.info=bi(s[2].trim()),e.literal=a}else e.literal=null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},htmlBlock:{continue:function(t,e){return!t.blank||6!==e.htmlBlockType&&7!==e.htmlBlockType?0:1},finalize:function(t,e){var n;e.literal=(null===(n=e.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,e.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:{continue:function(t){return t.blank?1:0},finalize:function(t,e){if(null!==e.stringContent){for(var n,r=!1;91===Lo(e.stringContent,0)&&(n=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(n),r=!0;r&&Ro(e.stringContent)&&e.unlink()}},canContain:function(){return!1},acceptsLines:!0},table:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableHead"===t||"tableBody"===t},acceptsLines:!1},tableBody:{continue:function(){return 0},finalize:function(){},canContain:function(t){return"tableRow"===t},acceptsLines:!1},tableHead:{continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableRow"===t||"tableDelimRow"===t},acceptsLines:!1},tableRow:{continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableCell"===t},acceptsLines:!1},tableCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},tableDelimRow:{continue:function(){return 1},finalize:function(){},canContain:function(t){return"tableDelimCell"===t},acceptsLines:!1},tableDelimCell:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},refDef:Uo,customBlock:{continue:function(t,e){var n=t.currentLine,r=n.match(jo);if(r)return t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2;for(var i=e.offset;i>0&&Bo(Lo(n,t.offset));)t.advanceOffset(1,!0),i--;return 0},finalize:function(t,e){if(null!==e.stringContent){var n=e.stringContent,r=n.indexOf("\n"),i=n.slice(0,r),o=n.slice(r+1),a=i.match(/^(\s*)(.*)/);e.info=bi(a[2].trim()),e.literal=o,e.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},frontMatter:Uo};function Ho(t){for(var e=0,n=0,r=[],i=0;i<t.length;i+=1)if("|"===t[i]&&"\\"!==t[i-1]){var o=t.substring(e,i);0===e&&Ei(o)?n=i+1:r.push(o),e=i+1}e<t.length&&(Ei(o=t.substring(e,t.length))||r.push(o));return[n,r]}function Fo(t,e,n,r){for(var i=[],o=0,a=e;o<a.length;o++){var s=a[o],c=s.match(/^[ \t]+/),u=c?c[0].length:0,l=void 0,f=void 0;if(u===s.length)u=0,l=0,f="";else{var d=s.match(/[ \t]+$/);l=d?d[0].length:0,f=s.slice(u,s.length-l)}var h=r+u,p=qi(t,[[n,r],[n,r+s.length-1]]);p.stringContent=f.replace(/\\\|/g,"|"),p.startIdx=i.length,p.endIdx=i.length,p.lineOffsets=[h-1],p.paddingLeft=u,p.paddingRight=l,i.push(p),r+=s.length+1}return i}function qo(t){var e=null,n=t.stringContent,r=n[0];return":"===n[n.length-1]?e=":"===r?"center":"right":":"===r&&(e="left"),{align:e}}var Vo=/^(\$\$)(\s*[a-zA-Z])+/,$o=/^(\$\$)(\s*[a-zA-Z])+.*(\$\$)/,Ko=/^`{3,}(?!.*`)|^~{3,}/,Wo=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+Yi+"|"+Xi+")\\s*$","i")],Jo=/^(?:=+|-+)[ \t]*$/,Go=/^#{1,6}(?:[ \t]+|$)/,Yo=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/,Xo=/^[*+-]/,Zo=/^(\d{1,9})([.)])/;function Qo(t,e){return t.options.disallowDeepHeading&&("blockQuote"===e.type||"item"===e.type)}var ta=[function(t){return t.indented||62!==Lo(t.currentLine,t.nextNonspace)?0:(t.advanceNextNonspace(),t.advanceOffset(1,!1),Bo(Lo(t.currentLine,t.offset))&&t.advanceOffset(1,!0),t.closeUnmatchedBlocks(),t.addChild("blockQuote",t.nextNonspace),1)},function(t,e){var n;if(!t.indented&&!Qo(t,e)&&(n=t.currentLine.slice(t.nextNonspace).match(Go))){t.advanceNextNonspace(),t.advanceOffset(n[0].length,!1),t.closeUnmatchedBlocks();var r=t.addChild("heading",t.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=t.currentLine.slice(t.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),t.advanceOffset(t.currentLine.length-t.offset),2}return 0},function(t){var e;if(!t.indented&&(e=t.currentLine.slice(t.nextNonspace).match(Ko))){var n=e[0].length;t.closeUnmatchedBlocks();var r=t.addChild("codeBlock",t.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=e[0][0],r.fenceOffset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0},function(t,e){if(!t.indented&&60===Lo(t.currentLine,t.nextNonspace)){var n=t.currentLine.slice(t.nextNonspace),r=t.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var o=n.match(Wo[i]);if(o){if(7===i){if("paragraph"===e.type)return 0;if(r.length>0)if(new RegExp("</?(?:"+r.join("|")+")","i").test(o[0]))return 0}return t.closeUnmatchedBlocks(),t.addChild("htmlBlock",t.offset).htmlBlockType=i,2}}}return 0},function(t,e){var n;if(null!==e.stringContent&&!t.indented&&"paragraph"===e.type&&!Qo(t,e.parent)&&(n=t.currentLine.slice(t.nextNonspace).match(Jo))){t.closeUnmatchedBlocks();for(var r=void 0;91===Lo(e.stringContent,0)&&(r=t.inlineParser.parseReference(e,t.refMap));)e.stringContent=e.stringContent.slice(r);if(e.stringContent.length>0){var i=qi("heading",e.sourcepos);return i.level="="===n[0][0]?1:2,i.headingType="setext",i.stringContent=e.stringContent,e.insertAfter(i),e.unlink(),t.tip=i,t.advanceOffset(t.currentLine.length-t.offset,!1),2}return 0}return 0},function(t){return!t.indented&&Yo.test(t.currentLine.slice(t.nextNonspace))?(t.closeUnmatchedBlocks(),t.addChild("thematicBreak",t.nextNonspace),t.advanceOffset(t.currentLine.length-t.offset,!1),2):0},function(t,e){var n,r,i,o=e;return t.indented&&"list"!==e.type||!(n=function(t,e){var n,r,i=t.currentLine.slice(t.nextNonspace),o={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:t.indent,task:!1,checked:!1};if(t.indent>=4)return null;if(n=i.match(Xo))o.type="bullet",o.bulletChar=n[0][0];else{if(!(n=i.match(Zo))||"paragraph"===e.type&&"1"!==n[1])return null;o.type="ordered",o.start=parseInt(n[1],10),o.delimiter=n[2]}if(-1!==(r=Lo(t.currentLine,t.nextNonspace+n[0].length))&&9!==r&&32!==r)return null;if("paragraph"===e.type&&!t.currentLine.slice(t.nextNonspace+n[0].length).match(Io))return null;t.advanceNextNonspace(),t.advanceOffset(n[0].length,!0);var a=t.column,s=t.offset;do{t.advanceOffset(1,!0),r=Lo(t.currentLine,t.offset)}while(t.column-a<5&&Bo(r));var c=-1===Lo(t.currentLine,t.offset),u=t.column-a;return u>=5||u<1||c?(o.padding=n[0].length+1,t.column=a,t.offset=s,Bo(Lo(t.currentLine,t.offset))&&t.advanceOffset(1,!0)):o.padding=n[0].length+u,o}(t,o))?0:(t.closeUnmatchedBlocks(),"list"===t.tip.type&&(r=o.listData,i=n,r.type===i.type&&r.delimiter===i.delimiter&&r.bulletChar===i.bulletChar)||((o=t.addChild("list",t.nextNonspace)).listData=n),(o=t.addChild("item",t.nextNonspace)).listData=n,1)},function(t){return t.indented&&"paragraph"!==t.tip.type&&!t.blank?(t.advanceOffset(4,!0),t.closeUnmatchedBlocks(),t.addChild("codeBlock",t.offset),2):0},function(t,e){var n=e.stringContent;if("paragraph"===e.type&&!t.indented&&!t.blank){var r=n.length-1,i=n.lastIndexOf("\n",r-1)+1,o=n.slice(i,r),a=t.currentLine.slice(t.nextNonspace),s=Ho(o),c=s[0],u=s[1],l=Ho(a),f=l[0],d=l[1],h=/^[ \t]*:?-+:?[ \t]*$/;if(!u.length||!d.length||d.some((function(t){return!h.test(t)}))||1===d.length&&0!==a.indexOf("|"))return 0;var p=e.lineOffsets,m=t.lineNumber-1,v=oo(p)+1,g=qi("table",[[m,v],[t.lineNumber,t.offset]]);if(g.columns=d.map((function(){return{align:null}})),e.insertAfter(g),1===p.length)e.unlink();else{e.stringContent=n.slice(0,i);var y=i-(n.lastIndexOf("\n",i-2)+1)-1;t.lastLineLength=p[p.length-2]+y,t.finalize(e,m-1)}t.advanceOffset(t.currentLine.length-t.offset,!1);var b=qi("tableHead",[[m,v],[t.lineNumber,t.offset]]);g.appendChild(b);var w=qi("tableRow",[[m,v],[m,v+o.length-1]]),k=qi("tableDelimRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.offset]]);b.appendChild(w),b.appendChild(k),Fo("tableCell",u,m,v+c).forEach((function(t){w.appendChild(t)}));var x=Fo("tableDelimCell",d,t.lineNumber,t.nextNonspace+1+f);return x.forEach((function(t){k.appendChild(t)})),g.columns=x.map(qo),t.tip=g,2}return 0},function(t,e){if("table"!==e.type&&"tableBody"!==e.type||!t.blank&&-1===t.currentLine.indexOf("|"))return 0;if(t.advanceOffset(t.currentLine.length-t.offset,!1),t.blank){var n=e;return"tableBody"===e.type&&(n=e.parent,t.finalize(e,t.lineNumber-1)),t.finalize(n,t.lineNumber-1),0}var r=e;"table"===e.type&&((r=t.addChild("tableBody",t.nextNonspace)).stringContent=null);var i=qi("tableRow",[[t.lineNumber,t.nextNonspace+1],[t.lineNumber,t.currentLine.length]]);r.appendChild(i);var o=r.parent,a=Ho(t.currentLine.slice(t.nextNonspace)),s=a[0];return Fo("tableCell",a[1],t.lineNumber,t.nextNonspace+1+s).forEach((function(t,e){e>=o.columns.length&&(t.ignored=!0),i.appendChild(t)})),2},function(t){var e;if(!t.indented&&!$o.test(t.currentLine)&&(e=t.currentLine.match(Vo))){var n=e[1].length;t.closeUnmatchedBlocks();var r=t.addChild("customBlock",t.nextNonspace);return r.syntaxLength=n,r.offset=t.indent,t.advanceNextNonspace(),t.advanceOffset(n,!1),2}return 0}],ea=/^(-{3}|\+{3}|;{3})$/,na=function(t,e){var n=t.currentLine,r=t.lineNumber,i=t.indented;return 1===r&&!i&&"document"===e.type&&ea.test(n)?(t.closeUnmatchedBlocks(),t.addChild("frontMatter",t.nextNonspace).stringContent=n,t.advanceNextNonspace(),t.advanceOffset(n.length,!1),2):0},ra={continue:function(t,e){var n=t.currentLine,r=n.match(ea);return"frontMatter"===e.type&&r?(e.stringContent+=n,t.lastLineLength=r[0].length,t.finalize(e,t.lineNumber),2):0},finalize:function(t,e){null!==e.stringContent&&(e.literal=e.stringContent,e.stringContent=null)},canContain:function(){return!1},acceptsLines:!0},ia=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],oa=/^[#`~*+_=<>0-9-;$]/,aa=/\r\n|\n|\r/;function sa(){return qi("document",[[1,1],[0,0]])}var ca={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null,frontMatter:!1},ua=function(){function t(t){this.options=Ar(Ar({},ca),t),this.doc=sa(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.lines=[],this.options.frontMatter&&(zo.frontMatter=ra,ta.unshift(na)),this.inlineParser=new Oo(this.options)}return t.prototype.advanceOffset=function(t,e){void 0===e&&(e=!1);for(var n,r,i,o=this.currentLine;t>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,e?(this.partiallyConsumedTab=n>t,r=n>t?t:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,t-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,t-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,t-=1)},t.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},t.prototype.findNextNonspace=function(){for(var t,e=this.currentLine,n=this.offset,r=this.column;""!==(t=e.charAt(n));)if(" "===t)n++,r++;else{if("\t"!==t)break;n++,r+=4-r%4}this.blank="\n"===t||"\r"===t||""===t,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},t.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var t=4-this.column%4;this.tip.stringContent+=Si(" ",t)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},t.prototype.addChild=function(t,e){for(;!zo[this.tip.type].canContain(t);)this.finalize(this.tip,this.lineNumber-1);var n=e+1,r=qi(t,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},t.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var t=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=t}this.allClosed=!0}},t.prototype.finalize=function(t,e){var n=t.parent;t.open=!1,t.sourcepos[1]=[e,this.lastLineLength],zo[t.type].finalize(this,t),this.tip=n},t.prototype.processInlines=function(t){var e,n=this.options.customParser,r=t.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;e=r.next();){var i=e.node,o=e.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o,options:this.options}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},t.prototype.incorporateLine=function(t){var e=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==t.indexOf("\0")&&(t=t.replace(/\0/g,"�")),this.currentLine=t;for(var n,r=!0;(n=e.lastChild)&&n.open;){switch(e=n,this.findNextNonspace(),zo[e.type].continue(this,e)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=t.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){e=e.parent;break}}this.allClosed=e===this.oldtip,this.lastMatchedContainer=e;for(var i="paragraph"!==e.type&&zo[e.type].acceptsLines,o=ta.length;!i;){if(this.findNextNonspace(),"table"!==e.type&&"tableBody"!==e.type&&"paragraph"!==e.type&&!this.indented&&!oa.test(t.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var a=0;a<o;){var s=ta[a](this,e);if(1===s){e=this.tip;break}if(2===s){e=this.tip,i=!0;break}a++}if(a===o){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&e.lastChild&&(e.lastChild.lastLineBlank=!0);for(var c=e.type,u=this.blank&&!("blockQuote"===c||Vi(e)&&e.isFenced||"item"===c&&!e.firstChild&&e.sourcepos[0][0]===this.lineNumber),l=e;l;)l.lastLineBlank=u,l=l.parent;zo[c].acceptsLines?(this.addLine(),"htmlBlock"===e.type&&e.htmlBlockType>=1&&e.htmlBlockType<=5&&ia[e.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=t.length,this.finalize(e,this.lineNumber))):this.offset<t.length&&!this.blank&&(e=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=t.length},t.prototype.parse=function(t,e){this.doc=sa(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var n=t.split(aa),r=n.length;this.lines=e||n,this.options.referenceDefinition&&this.clearRefMaps(),10===t.charCodeAt(t.length-1)&&(r-=1);for(var i=0;i<r;i++)this.incorporateLine(n[i]);for(;this.tip;)this.finalize(this.tip,r);return this.processInlines(this.doc),this.doc},t.prototype.partialParseStart=function(t,e){this.doc=sa(),this.tip=this.doc,this.lineNumber=t-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=e.length,r=0;r<n;r++)this.incorporateLine(e[r]);return this.doc},t.prototype.partialParseExtends=function(t){for(var e=0;e<t.length;e++)this.incorporateLine(t[e])},t.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},t.prototype.setRefMaps=function(t,e,n){this.refMap=t,this.refLinkCandidateMap=e,this.refDefCandidateMap=n},t.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){var e;e=t,Object.keys(e).forEach((function(t){delete e[t]}))}))},t}();function la(t,e){return t[0]<e[0]?1:t[0]>e[0]?-1:t[1]<e[1]?1:t[1]>e[1]?-1:0}function fa(t,e){var n=t[0];return 1===la(t[1],e)?1:-1===la(n,e)?-1:0}function da(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];t.insertBefore(i)}}function ha(t,e){var n=t[0];return t[1][0]<e?1:n[0]>e?-1:0}function pa(t,e){for(var n=t.firstChild;n;){var r=ha(n.sourcepos,e);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return t.lastChild}function ma(t){return function(t){return Ai[t]}(t)||null}function va(t,e,n){if(void 0===n&&(n=null),e)for(var r=e.walker();e&&e!==n;){t(e);var i=r.next();if(!i)break;e=i.node}}var ga=/\r\n|\n|\r/;function ya(t){return{id:t.id,title:t.title,sourcepos:t.sourcepos,unlinked:!1,destination:t.dest}}var ba=function(){function t(t,e){this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null==e?void 0:e.referenceDefinition),this.parser=new ua(e),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},t=t||"",this.lineTexts=t.split(ga),this.root=this.parser.parse(t,this.lineTexts)}return t.prototype.updateLineTexts=function(t,e,n){var r,i=t[0],o=t[1],a=e[0],s=e[1],c=n.split(ga),u=c.length,l=this.lineTexts[i-1],f=this.lineTexts[a-1];c[0]=l.slice(0,o-1)+c[0],c[u-1]=c[u-1]+f.slice(s-1);var d=a-i+1;return(r=this.lineTexts).splice.apply(r,Tr([i-1,d],c)),u-d},t.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var t=this.lineTexts,e=t.length-1;""===t[e];)e-=1;t.length-2>e&&(e+=1),this.root.sourcepos[1]=[e+1,t[e].length]},t.prototype.replaceRangeNodes=function(t,e,n){t?(da(t,n),function(t,e){if(t.parent===e.parent&&t!==e){for(var n=t.next;n&&n!==e;){for(var r=n.next,i=0,o=["parent","prev","next"];i<o.length;i++){var a=o[i];n[a]&&(Ti(n[a].id),n[a]=null)}n=r}t.next=e.next,e.next?e.next.prev=t:t.parent.lastChild=t}}(t,e),[t.id,e.id].forEach((function(t){return Ti(t)})),t.unlink()):e?(da(e,n),Ti(e.id),e.unlink()):function(t,e){for(var n=e.length-1;n>=0;n-=1)t.prependChild(e[n])}(this.root,n)},t.prototype.getNodeRange=function(t,e){var n=pa(this.root,t[0]),r=pa(this.root,e[0]);return r&&r.next&&e[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},t.prototype.trigger=function(t,e){this.eventHandlerMap[t].forEach((function(t){t(e)}))},t.prototype.extendEndLine=function(t){for(;""===this.lineTexts[t];)t+=1;return t},t.prototype.parseRange=function(t,e,n,r){var i;t&&t.prev&&($i(t.prev)&&function(t){var e=t.match(/^[ \t]+/);if(e&&(e[0].length>=2||/\t/.test(e[0])))return!0;var n=e?t.slice(e.length):t;return Xo.test(n)||Zo.test(n)}(this.lineTexts[n-1])||"table"===t.prev.type&&(!Ro(i=this.lineTexts[n-1])&&-1!==i.indexOf("|")))&&(n=(t=t.prev).sourcepos[0][0]);for(var o=this.lineTexts.slice(n-1,r),a=this.parser.partialParseStart(n,o),s=e?e.next:this.root.firstChild,c=a.lastChild,u=c&&Vi(c)&&c.open,l=c&&Wi(c)&&c.open,f=c&&$i(c);(u||l)&&s||f&&s&&("list"===s.type||s.sourcepos[0][1]>=2);){var d=this.extendEndLine(s.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,d)),t||(t=e),e=s,r=d,s=s.next}return this.parser.partialParseFinish(),{newNodes:function(t){for(var e=[],n=t.firstChild;n;)e.push(n),n=n.next;return e}(a),extStartNode:t,extEndNode:e}},t.prototype.getRemovedNodeRange=function(t,e){return!t||t&&Ki(t)||e&&Ki(e)?null:{id:[t.id,e.id],line:[t.sourcepos[0][0]-1,e.sourcepos[1][0]-1]}},t.prototype.markDeletedRefMap=function(t,e){var n=this;if(!co(this.refMap)){var r=function(t){if(Ki(t)){var e=n.refMap[t.label];e&&t.id===e.id&&(e.unlinked=!0)}};t&&va(r,t.parent,e),e&&va(r,e)}},t.prototype.replaceWithNewRefDefState=function(t){var e=this;if(!co(this.refMap)){var n=function(t){if(Ki(t)){var n=t.label,r=e.refMap[n];r&&!r.unlinked||(e.refMap[n]=ya(t))}};t.forEach((function(t){va(n,t)}))}},t.prototype.replaceWithRefDefCandidate=function(){var t=this;co(this.refDefCandidateMap)||so(this.refDefCandidateMap,(function(e,n){var r=n.label,i=n.sourcepos,o=t.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(t.refMap[r]=ya(n))}))},t.prototype.getRangeWithRefDef=function(t,e,n,r,i){if(this.referenceDefinition&&!co(this.refMap)){var o=pa(this.root,t-1),a=pa(this.root,e+1);o&&Ki(o)&&o!==n&&o!==r&&(t=(n=o).sourcepos[0][0]),a&&Ki(a)&&a!==n&&a!==r&&(r=a,e=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,t,e]},t.prototype.parse=function(t,e,n){void 0===n&&(n=0);var r=this.getNodeRange(t,e),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],t[0]):t[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],e[0]):e[0])+n),c=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),u=c.newNodes,l=c.extStartNode,f=c.extEndNode,d=this.getRemovedNodeRange(l,f),h=f?f.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(l,f),this.replaceRangeNodes(l,f,u),this.replaceWithNewRefDefState(u)):this.replaceRangeNodes(l,f,u),{nodes:u,removedNodeRange:d,nextNode:h}},t.prototype.parseRefLink=function(){var t=this,e=[];return co(this.refMap)||so(this.refMap,(function(n,r){r.unlinked&&delete t.refMap[n],so(t.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&e.push(t.parse(o.sourcepos[0],o.sourcepos[1]))}))})),e},t.prototype.removeUnlinkedCandidate=function(){co(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(t){so(t,(function(e){(function(t){var e=ma(t);if(!e)return!0;for(;e&&"document"!==e.type;){if(!e.parent&&!e.prev&&!e.next)return!0;e=e.parent}return!1})(e)&&delete t[e]}))}))},t.prototype.editMarkdown=function(t,e,n){var r=this.updateLineTexts(t,e,n),i=this.parse(t,e,r),o=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Ar({},t);return e.forEach((function(t){delete r[t]})),r}(i,"nextNode");!function(t,e){if(t&&t.parent&&0!==e){var n,r=t.parent.walker();for(r.resumeAt(t,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=e,i.sourcepos[1][0]+=e)}}}(i.nextNode,r),this.updateRootNodeState();var a=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),a=a.concat(this.parseRefLink())),this.trigger("change",a),a},t.prototype.getLineTexts=function(){return this.lineTexts},t.prototype.getRootNode=function(){return this.root},t.prototype.findNodeAtPosition=function(t){var e=function(t,e){for(var n=t,r=null;n;){var i=fa(n.sourcepos,e);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n}(this.root,t);return e&&e!==this.root?e:null},t.prototype.findFirstNodeAtLine=function(t){return function(t,e){for(var n=t.firstChild,r=null;n;){var i=ha(n.sourcepos,e);if(0===i){if(n.sourcepos[0][0]===e||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(t){for(;t.parent&&"document"!==t.parent.type&&t.parent.sourcepos[0][0]===t.sourcepos[0][0];)t=t.parent;return t}(function(t){for(;t.lastChild;)t=t.lastChild;return t}(r)):null}(this.root,t)},t.prototype.on=function(t,e){this.eventHandlerMap[t].push(e)},t.prototype.off=function(t,e){var n=this.eventHandlerMap[t],r=n.indexOf(e);n.splice(r,1)},t.prototype.findNodeById=function(t){return ma(t)},t.prototype.removeAllNode=function(){Ai={}},t}(),wa=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");function ka(t){return wa.test(t)?t.replace(wa,(function(t,e){return"&lt;"+e})):t}var xa={heading:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"h"+t.level,outerNewLine:!0}},text:function(t){return{type:"text",content:t.literal}},softbreak:function(t,e){return{type:"html",content:e.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"em"}},strong:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(t,e){var n,r=e.entering,i=null===(n=t.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(t,e){var n=e.entering,r=t.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(t,e){return{type:"html",content:e.options.tagFilter?ka(t.literal):t.literal}},htmlBlock:function(t,e){var n=e.options,r=n.tagFilter?ka(t.literal):t.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code"},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t.info,n=e?e.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+xi(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(t,e){if(e.entering){var n=t,r=n.title,i=n.destination;return{type:"openTag",tagName:"a",attributes:Ar({href:xi(i)},r&&{title:xi(r)})}}return{type:"closeTag",tagName:"a"}},image:function(t,e){var n=e.getChildrenText,r=e.skipChildren,i=t,o=i.title,a=i.destination;return r(),{type:"openTag",tagName:"img",selfClose:!0,attributes:Ar({src:xi(a),alt:n(t)},o&&{title:xi(o)})}},customBlock:function(t,e,n){var r=t.info.trim().toLowerCase(),i=n[r];if(i)try{return i(t,e)}catch(t){console.warn("[@toast-ui/editor] - The error occurred when "+r+" block node was parsed in markdown renderer: "+t)}return[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},frontMatter:function(t){return[{type:"openTag",tagName:"div",outerNewLine:!0,attributes:{style:"white-space: pre; display: none;"}},{type:"text",content:t.literal},{type:"closeTag",tagName:"div",outerNewLine:!0}]},customInline:function(t,e,n){var r=t,i=r.sourcepos,o=r.info,a=o.trim().toLowerCase(),s=n[a],c=e.entering;if(s)try{return s(t,e)}catch(t){console.warn("[@toast-ui/editor] - The error occurred when "+a+" inline node was parsed in markdown renderer: "+t)}var u=i[1][1]-i[0][1]+1===o.length+4?"":o+" ";return c?[{type:"openTag",tagName:"span"},{type:"text",content:"$$"+u}]:[{type:"text",content:"$$"},{type:"closeTag",tagName:"span"}]}},Sa={strike:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"del"}},item:function(t,e){var n=e.entering,r=t.listData,i=r.checked,o=r.task;if(n){var a={type:"openTag",tagName:"li",outerNewLine:!0};return o?[a,{type:"openTag",tagName:"input",selfClose:!0,attributes:Ar(Ar({},i&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:a}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(t,e){return{type:e.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(t,e){if(e.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(t.lastChild)for(var r=t.parent.parent.columns.length,i=t.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(t,e){var n=e.entering;if(t.ignored)return{type:"text",content:""};var r=t.parent.parent,i="tableHead"===r.type?"th":"td",o=r.parent.columns[t.startIdx],a=(null==o?void 0:o.align)?{align:o.align}:null;return n?Ar({type:"openTag",tagName:i,outerNewLine:!0},a&&{attributes:a}):{type:"closeTag",tagName:i,outerNewLine:!0}}},Ea={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function _a(t){for(var e=[],n=t.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&e.push(i.literal)}return e.join("")}var Ca=function(){function t(t){this.buffer=[],this.options=Ar(Ar({},Ea),t),this.convertors=this.createConvertors(),delete this.options.convertors}return t.prototype.createConvertors=function(){var t=Ar({},xa);if(this.options.gfm&&(t=Ar(Ar({},t),Sa)),this.options.convertors){var e=this.options.convertors,n=Object.keys(e),r=Ar(Ar({},xa),Sa);n.forEach((function(n){var i=t[n],o=e[n],a=-1===Object.keys(r).indexOf(n)?n.toLowerCase():n;t[a]=i?function(t,e,n){return e.origin=function(){return i(t,e,n)},o(t,e)}:o}))}return t},t.prototype.getConvertors=function(){return this.convertors},t.prototype.getOptions=function(){return this.options},t.prototype.render=function(t){var e=this;this.buffer=[];for(var n=t.walker(),r=null,i=function(){var t=r.node,i=r.entering,a=o.convertors[t.type];if(!a)return"continue";var s=!1,c={entering:i,leaf:!Ci(t),options:o.options,getChildrenText:_a,skipChildren:function(){s=!0}},u=Wi(t)||function(t){return"customInline"===t.type}(t)?a(t,c,o.convertors):a(t,c);u&&((Array.isArray(u)?u:[u]).forEach((function(n,r){"openTag"===n.type&&e.options.nodeId&&0===r&&(n.attributes||(n.attributes={}),n.attributes["data-nodeid"]=String(t.id)),e.renderHTMLNode(n)})),s&&(n.resumeAt(t,!1),n.next()))},o=this;r=n.next();)i();return this.addNewLine(),this.buffer.join("")},t.prototype.renderHTMLNode=function(t){switch(t.type){case"openTag":case"closeTag":this.renderElementNode(t);break;case"text":this.renderTextNode(t);break;case"html":this.renderRawHtmlNode(t)}},t.prototype.generateOpenTagString=function(t){var e=this,n=t.tagName,r=t.classNames,i=t.attributes;this.buffer.push("<"+n),r&&r.length>0&&this.buffer.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(t){var n=i[t];e.buffer.push(" "+t+'="'+n+'"')})),t.selfClose&&this.buffer.push(" /"),this.buffer.push(">")},t.prototype.generateCloseTagString=function(t){var e=t.tagName;this.buffer.push("</"+e+">")},t.prototype.addNewLine=function(){this.buffer.length&&"\n"!==oo(oo(this.buffer))&&this.buffer.push("\n")},t.prototype.addOuterNewLine=function(t){t.outerNewLine&&this.addNewLine()},t.prototype.addInnerNewLine=function(t){t.innerNewLine&&this.addNewLine()},t.prototype.renderTextNode=function(t){this.buffer.push(xi(t.content))},t.prototype.renderRawHtmlNode=function(t){this.addOuterNewLine(t),this.buffer.push(t.content),this.addOuterNewLine(t)},t.prototype.renderElementNode=function(t){"openTag"===t.type?(this.addOuterNewLine(t),this.generateOpenTagString(t),t.selfClose?this.addOuterNewLine(t):this.addInnerNewLine(t)):(this.addInnerNewLine(t),this.generateCloseTagString(t),this.addOuterNewLine(t))},t}();
/*! @license DOMPurify 2.3.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.3.3/LICENSE */var Ma=Object.hasOwnProperty,Aa=Object.setPrototypeOf,Ta=Object.isFrozen,Oa=Object.getPrototypeOf,Da=Object.getOwnPropertyDescriptor,Ia=Object.freeze,Na=Object.seal,Pa=Object.create,La="undefined"!=typeof Reflect&&Reflect,Ra=La.apply,Ba=La.construct;Ra||(Ra=function(t,e,n){return t.apply(e,n)}),Ia||(Ia=function(t){return t}),Na||(Na=function(t){return t}),Ba||(Ba=function(t,e){return new(Function.prototype.bind.apply(t,[null].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))))});var ja,Ua=Ga(Array.prototype.forEach),za=Ga(Array.prototype.pop),Ha=Ga(Array.prototype.push),Fa=Ga(String.prototype.toLowerCase),qa=Ga(String.prototype.match),Va=Ga(String.prototype.replace),$a=Ga(String.prototype.indexOf),Ka=Ga(String.prototype.trim),Wa=Ga(RegExp.prototype.test),Ja=(ja=TypeError,function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return Ba(ja,e)});function Ga(t){return function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Ra(t,e,r)}}function Ya(t,e){Aa&&Aa(t,null);for(var n=e.length;n--;){var r=e[n];if("string"==typeof r){var i=Fa(r);i!==r&&(Ta(e)||(e[n]=i),r=i)}t[r]=!0}return t}function Xa(t){var e=Pa(null),n=void 0;for(n in t)Ra(Ma,t,[n])&&(e[n]=t[n]);return e}function Za(t,e){for(;null!==t;){var n=Da(t,e);if(n){if(n.get)return Ga(n.get);if("function"==typeof n.value)return Ga(n.value)}t=Oa(t)}return function(t){return console.warn("fallback value for",t),null}}var Qa=Ia(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ts=Ia(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),es=Ia(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ns=Ia(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rs=Ia(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),is=Ia(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),os=Ia(["#text"]),as=Ia(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ss=Ia(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cs=Ia(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),us=Ia(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ls=Na(/\{\{[\s\S]*|[\s\S]*\}\}/gm),fs=Na(/<%[\s\S]*|[\s\S]*%>/gm),ds=Na(/^data-[\-\w.\u00B7-\uFFFF]/),hs=Na(/^aria-[\-\w]+$/),ps=Na(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ms=Na(/^(?:\w+script|data):/i),vs=Na(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function ys(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var bs=function(){return"undefined"==typeof window?null:window},ws=function(t,e){if("object"!==(void 0===t?"undefined":gs(t))||"function"!=typeof t.createPolicy)return null;var n=null;e.currentScript&&e.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=e.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return t.createPolicy(r,{createHTML:function(t){return t}})}catch(t){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var ks=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bs(),n=function(e){return t(e)};if(n.version="2.3.3",n.removed=[],!e||!e.document||9!==e.document.nodeType)return n.isSupported=!1,n;var r=e.document,i=e.document,o=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.Node,c=e.Element,u=e.NodeFilter,l=e.NamedNodeMap,f=void 0===l?e.NamedNodeMap||e.MozNamedAttrMap:l,d=e.Text,h=e.Comment,p=e.DOMParser,m=e.trustedTypes,v=c.prototype,g=Za(v,"cloneNode"),y=Za(v,"nextSibling"),b=Za(v,"childNodes"),w=Za(v,"parentNode");if("function"==typeof a){var k=i.createElement("template");k.content&&k.content.ownerDocument&&(i=k.content.ownerDocument)}var x=ws(m,r),S=x&&et?x.createHTML(""):"",E=i,_=E.implementation,C=E.createNodeIterator,M=E.createDocumentFragment,A=E.getElementsByTagName,T=r.importNode,O={};try{O=Xa(i).documentMode?i.documentMode:{}}catch(t){}var D={};n.isSupported="function"==typeof w&&_&&void 0!==_.createHTMLDocument&&9!==O;var I=ls,N=fs,P=ds,L=hs,R=ms,B=vs,j=ps,U=null,z=Ya({},[].concat(ys(Qa),ys(ts),ys(es),ys(rs),ys(os))),H=null,F=Ya({},[].concat(ys(as),ys(ss),ys(cs),ys(us))),q=null,V=null,$=!0,K=!0,W=!1,J=!1,G=!1,Y=!1,X=!1,Z=!1,Q=!1,tt=!0,et=!1,nt=!0,rt=!0,it=!1,ot={},at=null,st=Ya({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ct=null,ut=Ya({},["audio","video","img","source","image","track"]),lt=null,ft=Ya({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),dt="http://www.w3.org/1998/Math/MathML",ht="http://www.w3.org/2000/svg",pt="http://www.w3.org/1999/xhtml",mt=pt,vt=!1,gt=void 0,yt=["application/xhtml+xml","text/html"],bt="text/html",wt=void 0,kt=null,xt=i.createElement("form"),St=function(t){kt&&kt===t||(t&&"object"===(void 0===t?"undefined":gs(t))||(t={}),t=Xa(t),U="ALLOWED_TAGS"in t?Ya({},t.ALLOWED_TAGS):z,H="ALLOWED_ATTR"in t?Ya({},t.ALLOWED_ATTR):F,lt="ADD_URI_SAFE_ATTR"in t?Ya(Xa(ft),t.ADD_URI_SAFE_ATTR):ft,ct="ADD_DATA_URI_TAGS"in t?Ya(Xa(ut),t.ADD_DATA_URI_TAGS):ut,at="FORBID_CONTENTS"in t?Ya({},t.FORBID_CONTENTS):st,q="FORBID_TAGS"in t?Ya({},t.FORBID_TAGS):{},V="FORBID_ATTR"in t?Ya({},t.FORBID_ATTR):{},ot="USE_PROFILES"in t&&t.USE_PROFILES,$=!1!==t.ALLOW_ARIA_ATTR,K=!1!==t.ALLOW_DATA_ATTR,W=t.ALLOW_UNKNOWN_PROTOCOLS||!1,J=t.SAFE_FOR_TEMPLATES||!1,G=t.WHOLE_DOCUMENT||!1,Z=t.RETURN_DOM||!1,Q=t.RETURN_DOM_FRAGMENT||!1,tt=!1!==t.RETURN_DOM_IMPORT,et=t.RETURN_TRUSTED_TYPE||!1,X=t.FORCE_BODY||!1,nt=!1!==t.SANITIZE_DOM,rt=!1!==t.KEEP_CONTENT,it=t.IN_PLACE||!1,j=t.ALLOWED_URI_REGEXP||j,mt=t.NAMESPACE||pt,gt=gt=-1===yt.indexOf(t.PARSER_MEDIA_TYPE)?bt:t.PARSER_MEDIA_TYPE,wt="application/xhtml+xml"===gt?function(t){return t}:Fa,J&&(K=!1),Q&&(Z=!0),ot&&(U=Ya({},[].concat(ys(os))),H=[],!0===ot.html&&(Ya(U,Qa),Ya(H,as)),!0===ot.svg&&(Ya(U,ts),Ya(H,ss),Ya(H,us)),!0===ot.svgFilters&&(Ya(U,es),Ya(H,ss),Ya(H,us)),!0===ot.mathMl&&(Ya(U,rs),Ya(H,cs),Ya(H,us))),t.ADD_TAGS&&(U===z&&(U=Xa(U)),Ya(U,t.ADD_TAGS)),t.ADD_ATTR&&(H===F&&(H=Xa(H)),Ya(H,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&Ya(lt,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(at===st&&(at=Xa(at)),Ya(at,t.FORBID_CONTENTS)),rt&&(U["#text"]=!0),G&&Ya(U,["html","head","body"]),U.table&&(Ya(U,["tbody"]),delete q.tbody),Ia&&Ia(t),kt=t)},Et=Ya({},["mi","mo","mn","ms","mtext"]),_t=Ya({},["foreignobject","desc","title","annotation-xml"]),Ct=Ya({},ts);Ya(Ct,es),Ya(Ct,ns);var Mt=Ya({},rs);Ya(Mt,is);var At=function(t){var e=w(t);e&&e.tagName||(e={namespaceURI:pt,tagName:"template"});var n=Fa(t.tagName),r=Fa(e.tagName);if(t.namespaceURI===ht)return e.namespaceURI===pt?"svg"===n:e.namespaceURI===dt?"svg"===n&&("annotation-xml"===r||Et[r]):Boolean(Ct[n]);if(t.namespaceURI===dt)return e.namespaceURI===pt?"math"===n:e.namespaceURI===ht?"math"===n&&_t[r]:Boolean(Mt[n]);if(t.namespaceURI===pt){if(e.namespaceURI===ht&&!_t[r])return!1;if(e.namespaceURI===dt&&!Et[r])return!1;var i=Ya({},["title","style","font","a","script"]);return!Mt[n]&&(i[n]||!Ct[n])}return!1},Tt=function(t){Ha(n.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=S}catch(e){t.remove()}}},Ot=function(t,e){try{Ha(n.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){Ha(n.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!H[t])if(Z||Q)try{Tt(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},Dt=function(t){var e=void 0,n=void 0;if(X)t="<remove></remove>"+t;else{var r=qa(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===gt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var o=x?x.createHTML(t):t;if(mt===pt)try{e=(new p).parseFromString(o,gt)}catch(t){}if(!e||!e.documentElement){e=_.createDocument(mt,"template",null);try{e.documentElement.innerHTML=vt?"":o}catch(t){}}var a=e.body||e.documentElement;return t&&n&&a.insertBefore(i.createTextNode(n),a.childNodes[0]||null),mt===pt?A.call(e,G?"html":"body")[0]:G?e.documentElement:a},It=function(t){return C.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Nt=function(t){return!(t instanceof d||t instanceof h)&&!("string"==typeof t.nodeName&&"string"==typeof t.textContent&&"function"==typeof t.removeChild&&t.attributes instanceof f&&"function"==typeof t.removeAttribute&&"function"==typeof t.setAttribute&&"string"==typeof t.namespaceURI&&"function"==typeof t.insertBefore)},Pt=function(t){return"object"===(void 0===s?"undefined":gs(s))?t instanceof s:t&&"object"===(void 0===t?"undefined":gs(t))&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},Lt=function(t,e,r){D[t]&&Ua(D[t],(function(t){t.call(n,e,r,kt)}))},Rt=function(t){var e=void 0;if(Lt("beforeSanitizeElements",t,null),Nt(t))return Tt(t),!0;if(qa(t.nodeName,/[\u0080-\uFFFF]/))return Tt(t),!0;var r=wt(t.nodeName);if(Lt("uponSanitizeElement",t,{tagName:r,allowedTags:U}),!Pt(t.firstElementChild)&&(!Pt(t.content)||!Pt(t.content.firstElementChild))&&Wa(/<[/\w]/g,t.innerHTML)&&Wa(/<[/\w]/g,t.textContent))return Tt(t),!0;if("select"===r&&Wa(/<template/i,t.innerHTML))return Tt(t),!0;if(!U[r]||q[r]){if(rt&&!at[r]){var i=w(t)||t.parentNode,o=b(t)||t.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(g(o[a],!0),y(t))}return Tt(t),!0}return t instanceof c&&!At(t)?(Tt(t),!0):"noscript"!==r&&"noembed"!==r||!Wa(/<\/no(script|embed)/i,t.innerHTML)?(J&&3===t.nodeType&&(e=t.textContent,e=Va(e,I," "),e=Va(e,N," "),t.textContent!==e&&(Ha(n.removed,{element:t.cloneNode()}),t.textContent=e)),Lt("afterSanitizeElements",t,null),!1):(Tt(t),!0)},Bt=function(t,e,n){if(nt&&("id"===e||"name"===e)&&(n in i||n in xt))return!1;if(K&&!V[e]&&Wa(P,e));else if($&&Wa(L,e));else{if(!H[e]||V[e])return!1;if(lt[e]);else if(Wa(j,Va(n,B,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==$a(n,"data:")||!ct[t]){if(W&&!Wa(R,Va(n,B,"")));else if(n)return!1}else;}return!0},jt=function(t){var e=void 0,r=void 0,i=void 0,o=void 0;Lt("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H};for(o=a.length;o--;){var c=e=a[o],u=c.name,l=c.namespaceURI;if(r=Ka(e.value),i=wt(u),s.attrName=i,s.attrValue=r,s.keepAttr=!0,s.forceKeepAttr=void 0,Lt("uponSanitizeAttribute",t,s),r=s.attrValue,!s.forceKeepAttr&&(Ot(u,t),s.keepAttr))if(Wa(/\/>/i,r))Ot(u,t);else{J&&(r=Va(r,I," "),r=Va(r,N," "));var f=wt(t.nodeName);if(Bt(f,i,r))try{l?t.setAttributeNS(l,u,r):t.setAttribute(u,r),za(n.removed)}catch(t){}}}Lt("afterSanitizeAttributes",t,null)}},Ut=function t(e){var n=void 0,r=It(e);for(Lt("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)Lt("uponSanitizeShadowNode",n,null),Rt(n)||(n.content instanceof o&&t(n.content),jt(n));Lt("afterSanitizeShadowDOM",e,null)};return n.sanitize=function(t,i){var a=void 0,c=void 0,u=void 0,l=void 0,f=void 0;if((vt=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!Pt(t)){if("function"!=typeof t.toString)throw Ja("toString is not a function");if("string"!=typeof(t=t.toString()))throw Ja("dirty is not a string, aborting")}if(!n.isSupported){if("object"===gs(e.toStaticHTML)||"function"==typeof e.toStaticHTML){if("string"==typeof t)return e.toStaticHTML(t);if(Pt(t))return e.toStaticHTML(t.outerHTML)}return t}if(Y||St(i),n.removed=[],"string"==typeof t&&(it=!1),it);else if(t instanceof s)1===(c=(a=Dt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===c.nodeName?a=c:"HTML"===c.nodeName?a=c:a.appendChild(c);else{if(!Z&&!J&&!G&&-1===t.indexOf("<"))return x&&et?x.createHTML(t):t;if(!(a=Dt(t)))return Z?null:S}a&&X&&Tt(a.firstChild);for(var d=It(it?t:a);u=d.nextNode();)3===u.nodeType&&u===l||Rt(u)||(u.content instanceof o&&Ut(u.content),jt(u),l=u);if(l=null,it)return t;if(Z){if(Q)for(f=M.call(a.ownerDocument);a.firstChild;)f.appendChild(a.firstChild);else f=a;return tt&&(f=T.call(r,f,!0)),f}var h=G?a.outerHTML:a.innerHTML;return J&&(h=Va(h,I," "),h=Va(h,N," ")),x&&et?x.createHTML(h):h},n.setConfig=function(t){St(t),Y=!0},n.clearConfig=function(){kt=null,Y=!1},n.isValidAttribute=function(t,e,n){kt||St({});var r=wt(t),i=wt(e);return Bt(r,i,n)},n.addHook=function(t,e){"function"==typeof e&&(D[t]=D[t]||[],Ha(D[t],e))},n.removeHook=function(t){D[t]&&za(D[t])},n.removeHooks=function(t){D[t]&&(D[t]=[])},n.removeAllHooks=function(){D={}},n}(),xs=["iframe","embed"],Ss=[];function Es(t){rt(xs,t)&&Ss.push(t.toLowerCase())}function _s(t,e){return ks.sanitize(t,h({ADD_TAGS:Ss,ADD_ATTR:["rel","target","hreflang","type"],FORBID_TAGS:["input","script","textarea","form","button","select","meta","style","link","title","object","base"]},e))}function Cs(t,e){return t.literal.replace(new RegExp("(<\\s*"+e+"[^>]+?>)|(</"+e+"\\s*[>])","ig"),"").trim()}function Ms(t){var e=(t=t.match(Se)[0]).match(new RegExp(we,"g"));return e?e.reduce((function(t,e){var n=e.trim().split("="),r=n[0],i=n.slice(1);return i.length&&(t[r]=i.join("=").replace(/'|"/g,"").trim()),t}),{}):{}}function As(t){return te(t.attributes).reduce((function(t,e){return t[e.nodeName]=e.nodeValue,t}),{})}function Ts(t,e,n,r){var i=r.getToDOMNode(e)(t),o=n(i.outerHTML),a=document.createElement("div");return a.innerHTML=o,{dom:i=a.firstChild,htmlAttrs:As(i)}}var Os={htmlBlock:function(t,e,n){return{atom:!0,content:"block+",group:"block",attrs:{htmlAttrs:{default:{}},childrenHTML:{default:""},htmlBlock:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:As(t),childrenHTML:t.innerHTML}}}],toDOM:function(r){var i=Ts(r,t,e,n),o=i.dom,a=i.htmlAttrs;return a.class=a.class?a.class+" html-block":"html-block",p([t,a],te(o.childNodes))}}},htmlInline:function(t,e,n){return{attrs:{htmlAttrs:{default:{}},htmlInline:{default:!0}},parseDOM:[{tag:t,getAttrs:function(t){return{htmlAttrs:As(t)}}}],toDOM:function(r){var i=Ts(r,t,e,n).htmlAttrs;return[t,i,0]}}}};var Ds=/^\s*<\s*\//,Is={paragraph:function(t,e){var n=e.entering,r=e.origin;return e.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(t){return{type:"html",content:t.prev&&"htmlInline"===t.prev.type&&/<br ?\/?>/.test(t.prev.literal)?"\n":"<br>\n"}},item:function(t,e){if(e.entering){var n={},r=[];return t.listData.task&&(n["data-task"]="",r.push("task-list-item"),t.listData.checked&&(r.push("checked"),n["data-task-checked"]="")),{type:"openTag",tagName:"li",classNames:r,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(t){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":String(t.tickCount)}},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(t){var e=t,n=e.fenceLength,r=e.info,i=r?r.split(/\s+/):[],o=[],a={};if(n>3&&(a["data-backticks"]=n),i.length>0&&i[0].length>0){var s=i[0];o.push("lang-"+s),a["data-language"]=s}return[{type:"openTag",tagName:"pre",classNames:o},{type:"openTag",tagName:"code",attributes:a},{type:"text",content:t.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]},customInline:function(t,e){var n=e.origin,r=e.entering,i=e.skipChildren,o=t.info;return-1!==o.indexOf("widget")&&r?(i(),[{type:"openTag",tagName:"span",classNames:["tui-widget"]},{type:"html",content:Vt(o,Gt(t)).outerHTML},{type:"closeTag",tagName:"span"}]):n()}};function Ns(t,e){var n=h({},Is);return t&&(n.link=function(e,n){var r=n.entering,i=(0,n.origin)();return r&&(i.attributes=h(h({},i.attributes),t)),i}),e&&Object.keys(e).forEach((function(t){var r=n[t],i=e[t];r&&ue(i)?n[t]=function(t,e){var n=h({},e);return n.origin=function(){return r(t,e)},i(t,n)}:rt(["htmlBlock","htmlInline"],t)&&!ue(i)?n[t]=function(t,e){var n=t.literal.match(Se);if(n){var r=n[0],o=n[1],a=n[3],s=(o||a).toLowerCase(),c=i[s],u=Cs(t,s);if(c){var l=h({},t);return l.attrs=Ms(r),l.childrenHTML=u,l.type=s,e.entering=!Ds.test(t.literal),c(l,e)}}return e.origin()}:n[t]=i})),n}var Ps=["list","item","blockQuote"],Ls=["UL","OL","BLOCKQUOTE"];function Rs(t,e){var n,r=t.child(e);return!r.childCount||1===r.childCount&&!(null===(n=r.firstChild.text)||void 0===n?void 0:n.trim())}function Bs(t,e,n){var r=Et(e)-1,i=_t(e)-1,o=n[r].getBoundingClientRect(),a=n[i].offsetTop-n[r].offsetTop+n[i].clientHeight;return{height:a<=0?n[r].clientHeight:a+js(t,n,Math.min(i+1,t.childCount-1)),rect:o}}function js(t,e,n){for(var r=t.childCount-1,i=0;n<=r&&Rs(t,n);)i+=e[n].clientHeight,n+=1;return i}function Us(t,e){for(var n=0;t&&t!==e&&(rt(Ls,t.tagName)||(n+=t.offsetTop),t.offsetParent!==e.offsetParent);)t=t.parentElement;return n}function zs(t,e,n){return t&&e>n+t.offsetTop?zs(t.nextElementSibling,e,n)||t:null}function Hs(t){for(var e=document.querySelector('[data-nodeid="'+t.id+'"]');!e||At(t);)t=t.parent,e=document.querySelector('[data-nodeid="'+t.id+'"]');return function(t){var e=t.mdNode,n=t.el;for(;(rt(Ps,e.type)||"table"===e.type)&&e.firstChild;)e=e.firstChild,n=n.firstElementChild;return{mdNode:e,el:n}}({mdNode:t,el:e})}var Fs={};function qs(t){t&&(delete Fs[Number(t.getAttribute("data-nodeid"))],te(t.children).forEach((function(t){qs(t)})))}function Vs(t,e,n){var r,i=Fs[r=n]&&Fs[r].height,o=function(t){return Fs[t]&&Fs[t].offsetTop}(n),a=i||t.clientHeight,s=o||Us(t,e)||t.offsetTop;return i||function(t,e){Fs[t]=Fs[t]||{},Fs[t].height=e}(n,a),o||function(t,e){Fs[t]=Fs[t]||{},Fs[t].offsetTop=e}(n,s),{nodeHeight:a,offsetTop:s}}var $s=Ce("md-preview-highlight");var Ks=function(){function t(t,e){var n=document.createElement("div");this.el=n,this.eventEmitter=t,this.isViewer=!!e.isViewer,this.el.className=Ce("md-preview");var r=e.linkAttributes,i=e.customHTMLRenderer,o=e.sanitizer,a=e.highlight,s=void 0!==a&&a;this.renderer=new Ca({gfm:!0,nodeId:!0,convertors:Ns(r,i)}),this.cursorNodeId=null,this.sanitizer=o,this.initEvent(s),this.initContentSection()}return t.prototype.initContentSection=function(){this.previewContent=De('<div class="'+Ce("contents")+'"></div>'),this.el.appendChild(this.previewContent)},t.prototype.toggleActive=function(t){Oe(this.el,"active",t)},t.prototype.initEvent=function(t){var e=this;this.eventEmitter.listen("updatePreview",this.update.bind(this)),t&&(this.eventEmitter.listen("changeToolbarState",(function(t){var n=t.mdNode,r=t.cursorPos;e.updateCursorNode(n,r)})),this.eventEmitter.listen("blur",(function(){e.removeHighlight()}))),_r(this.el,"scroll",(function(t){e.eventEmitter.emit("scroll","preview",function(t,e){for(var n=e,r=null;n;){var i=n.firstElementChild;if(!i)break;r=n,n=zs(i,t,Us(n,e))}var o=n||r;return o===e?null:o}(t.target.scrollTop,e.previewContent))})),this.eventEmitter.listen("changePreviewTabPreview",(function(){return e.toggleActive(!0)})),this.eventEmitter.listen("changePreviewTabWrite",(function(){return e.toggleActive(!1)}))},t.prototype.removeHighlight=function(){if(this.cursorNodeId){var t=this.getElementByNodeId(this.cursorNodeId);t&&$(t,$s)}},t.prototype.updateCursorNode=function(t,e){t&&("tableRow"===(t=Nt(t,(function(t){return!function(t){switch(t.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":case"customInline":return!0;default:return!1}}(t)}))).type?t=function(t,e){for(var n=t.firstChild;n&&n.next&&!(Ct(n.next)>e+1);)n=n.next;return n}(t,e[1]):"tableBody"===t.type&&(t=null));var n=t?t.id:null;if(this.cursorNodeId!==n){var r=this.getElementByNodeId(this.cursorNodeId),i=this.getElementByNodeId(n);r&&$(r,$s),i&&z(i,$s),this.cursorNodeId=n}},t.prototype.getElementByNodeId=function(t){return t?this.previewContent.querySelector('[data-nodeid="'+t+'"]'):null},t.prototype.update=function(t){var e=this;t.forEach((function(t){return e.replaceRangeNodes(t)})),this.eventEmitter.emit("afterPreviewRender",this)},t.prototype.replaceRangeNodes=function(t){var e=this,n=t.nodes,r=t.removedNodeRange,i=this.previewContent,o=this.eventEmitter.emitReduce("beforePreviewRender",this.sanitizer(n.map((function(t){return e.renderer.render(t)})).join("")));if(r){var a=r.id,s=a[0],c=a[1],u=this.getElementByNodeId(s),l=this.getElementByNodeId(c);if(u){u.insertAdjacentHTML("beforebegin",o);for(var f=u;f&&f!==l;){var d=f.nextElementSibling;Te(f),qs(f),f=d}(null==f?void 0:f.parentNode)&&(Te(f),qs(f))}}else i.insertAdjacentHTML("afterbegin",o)},t.prototype.getRenderer=function(){return this.renderer},t.prototype.destroy=function(){wr(this.el,"scroll"),this.el=null},t.prototype.getElement=function(){return this.el},t.prototype.getHTML=function(){return this.previewContent.innerHTML},t.prototype.setHTML=function(t){this.previewContent.innerHTML=t},t.prototype.setHeight=function(t){M(this.el,{height:t+"px"})},t.prototype.setMinHeight=function(t){M(this.el,{minHeight:t+"px"})},t}();function Ws(t,e){for(var n=t.depth;n;){var r=t.node(n);if(e(r,n))return{node:r,depth:n,offset:n>0?t.before(n):0};n-=1}return null}function Js(t){return!!Ws(t,(function(t){var e=t.type;return"listItem"===e.name||"bulletList"===e.name||"orderedList"===e.name}))}function Gs(t){return!!Ws(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function Ys(t){return Ws(t,(function(t){return"listItem"===t.type.name}))}function Xs(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({},e&&{rawHTML:e})}}}function Zs(t){return Object.keys(t).reduce((function(e,n){return"rawHTML"!==n&&t[n]&&(e[n="className"===n?"class":n]=t[n]),e}),{})}function Qs(t){return{tag:t,getAttrs:function(t){return["rawHTML","colspan","rowspan","extended"].reduce((function(e,n){var r="rawHTML"===n?"data-raw-html":n,i=t.getAttribute(r);return i&&(e[n]=rt(["rawHTML","extended"],n)?i:Number(i)),e}),{})}}}function tc(t){var e=t.htmlAttrs,n=t.classNames;return h(h({},e),{class:n?n.join(" "):null})}function ec(t,e,n,i){var a=e.$from,s=e.$to,c=e.depth,u=e,l=!1;if(c>=2&&a.node(c-1).type.compatibleContent(n)&&0===e.startIndex&&a.index(c-1)){var f=t.doc.resolve(e.start-2);u=new r.g(f,f,c),e.endIndex<e.parent.childCount&&(e=new r.g(a,t.doc.resolve(s.end(c)),c)),l=!0}var d=function(t,e,n,r){var i=function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(o){var a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}return null}(t,n),o=function(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(a){for(var s=(a.length?a[a.length-1]:e).contentMatch,c=r;s&&c<i;c+=1)s=s.matchType(n.child(c).type);if(s&&s.validEnd)return a}return null}(e,n);if(i&&o){var a=i.map((function(t){return{type:t}})),s=o.map((function(t){return{type:t,attrs:r}}));return a.concat({type:n}).concat(s)}return null}(u,e,n,i);return d?function(t,e,n,i,a){for(var s=e.start,c=e.end,u=e.startIndex,l=e.endIndex,f=e.parent,d=r.c.empty,h=n.length-1;h>=0;h-=1)d=r.c.from(n[h].type.create(n[h].attrs,d));t.step(new o.b(s-(i?2:0),c,s,c,new r.j(d,0,0),n.length,!0));var p=0;for(h=0;h<n.length;h+=1)if(n[h].type===a){p=h+1;break}for(var m=n.length-p,v=s+n.length-(i?2:0),g=(h=u,l);h<g;h+=1){!(h===u)&&Object(o.g)(t.doc,v,m)&&(t.split(v,m),v+=2*m),v+=f.child(h).nodeSize}return t}(t,e,d,l,n):t}function nc(t,e){for(var n=t.resolve(e);"paragraph"!==n.node().type.name;)e-=2,n=t.resolve(e);return Ys(n)}function rc(t){return function(e,n){var r=e.selection,i=e.tr,o=r.$from,a=r.$to,s=o.blockRange(a);return!!s&&(n(Js(o)?function(t,e,n){var r=e.$from,i=e.$to,o=Ys(r),a=Ys(i);if(o&&a)for(;a;){var s=a.offset,c=a.node,u=a.depth;c.attrs.task&&t.setNodeMarkup(s,null,{task:!1,checked:!1});var l=t.doc.resolve(s);if(l.parent.type!==n){var f=l.before(u-1);t.setNodeMarkup(f,n)}if(s===o.offset)break;a=nc(t.doc,s)}return t}(i,s,t):ec(i,s,t)),!0)}}function ic(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,a=n.$to,s=o.blockRange(a);return!!s&&(e(Js(o)?function(t,e){var n=e.$from,r=e.$to,i=Ys(n),o=Ys(r);if(i&&o)for(;o;){var a=o.offset,s={task:!o.node.attrs.task,checked:!1};if(t.setNodeMarkup(a,null,s),a===i.offset)break;o=nc(t.doc,a)}return t}(r,s):ec(r,s,i.nodes.bulletList,{task:!0})),!0)}}function oc(t){return function(e,n){var i=e.tr,a=e.selection,s=a.$from,c=a.$to,u=s.blockRange(c,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));return!!u&&(n(s.node(u.depth-1).type===t?function(t,e,n){var i=e.$from,a=e.$to,s=e.end,c=e.depth,u=e.parent,l=a.end(c);return s<l&&(t.step(new o.b(s-1,l,s,l,new r.j(r.c.from(n.create(null,u.copy())),1,0),1,!0)),e=new r.g(t.doc.resolve(i.pos),t.doc.resolve(l),c)),t.lift(e,Object(o.k)(e)),t}(i,u,t):function(t,e){for(var n=e.parent,i=e.end,a=e.endIndex-1,s=e.startIndex;a>s;a-=1)i-=n.child(a).nodeSize,t.delete(i-1,i+1);var c=t.doc.resolve(e.start),u=c.nodeAfter,l=0===e.startIndex,f=e.endIndex===n.childCount,d=c.node(-1),h=c.index(-1),p=d.canReplace(h+(l?0:1),h+1,null==u?void 0:u.content.append(f?r.c.empty:r.c.from(n)));if(u&&p){var m=c.pos,v=m+u.nodeSize;t.step(new o.b(m-(l?1:0),v+(f?1:0),m+1,v-1,new r.j((l?r.c.empty:r.c.from(n.copy(r.c.empty))).append(f?r.c.empty:r.c.from(n.copy(r.c.empty))),l?0:1,f?0:1),l?0:1))}return t}(i,u)),!0)}}function ac(){return function(){return function(t,e){var n=t.selection,i=t.schema,a=n.$from,s=n.$to;return!(!a.blockRange(s)||!Js(a))&&function(t){return function(e,n){var i=e.tr,a=e.selection,s=a.$from,c=a.$to,u=s.blockRange(c,(function(e){var n=e.childCount,r=e.firstChild;return!!n&&r.type===t}));if(u&&u.startIndex>0){var l=u.parent,f=l.child(u.startIndex-1);if(f.type!==t)return!1;var d=f.lastChild&&f.lastChild.type===l.type,h=d?r.c.from(t.create()):null,p=new r.j(r.c.from(t.create(null,r.c.from(l.type.create(null,h)))),d?3:1,0),m=u.start,v=u.end;return i.step(new o.b(m-(d?3:1),v,m,v,p,1,!0)),n(i),!0}return!1}}(i.nodes.listItem)(t,e)}}}function sc(){return{indent:ac(),outdent:function(){return function(t,e){var n=t.selection,r=t.schema,i=n.$from,o=n.$to;return!(!i.blockRange(o)||!Js(i))&&oc(r.nodes.listItem)(t,e)}}}}var cc=new Map,uc=function(){function t(t,e,n,r){this.table=t,this.tableRows=e,this.tableStartPos=n,this.rowInfo=r}return t.create=function(e){var n=Ws(e,(function(t){return"table"===t.type.name}));if(n){var r=n.node,i=n.depth,o=n.offset,a=cc.get(r);if((null==a?void 0:a.tableStartPos)===o+1)return a;var s=[],c=e.start(i),u=r.child(0),l=r.child(1),f=lc(u,c),d=lc(l,c+u.nodeSize);u.forEach((function(t){return s.push(t)})),l.forEach((function(t){return s.push(t)}));var h=new t(r,s,c,f.concat(d));return cc.set(r,h),h}return null},Object.defineProperty(t.prototype,"totalRowCount",{get:function(){return this.rowInfo.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalColumnCount",{get:function(){return this.rowInfo[0].length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableStartOffset",{get:function(){return this.tableStartPos},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tableEndOffset",{get:function(){return this.tableStartPos+this.table.nodeSize-1},enumerable:!1,configurable:!0}),t.prototype.getCellInfo=function(t,e){return this.rowInfo[t][e]},t.prototype.posAt=function(t,e){for(var n=0,r=this.tableStartPos;;n+=1){var i=r+this.tableRows[n].nodeSize;if(n===t){for(var o=e;o<this.totalColumnCount&&this.rowInfo[n][o].offset<r;)o+=1;return o===this.totalColumnCount?i:this.rowInfo[n][o].offset}r=i}},t.prototype.getNodeAndPos=function(t,e){var n=this.rowInfo[t][e];return{node:this.table.nodeAt(n.offset-1),pos:n.offset}},t.prototype.extendedRowspan=function(t,e){return!1},t.prototype.extendedColspan=function(t,e){return!1},t.prototype.getRowspanCount=function(t,e){return 0},t.prototype.getColspanCount=function(t,e){return 0},t.prototype.decreaseColspanCount=function(t,e){return 0},t.prototype.decreaseRowspanCount=function(t,e){return 0},t.prototype.getColspanStartInfo=function(t,e){return null},t.prototype.getRowspanStartInfo=function(t,e){return null},t.prototype.getCellStartOffset=function(t,e){var n=this.rowInfo[t][e].offset;return this.extendedRowspan(t,e)?this.posAt(t,e):n},t.prototype.getCellEndOffset=function(t,e){var n=this.rowInfo[t][e],r=n.offset,i=n.nodeSize;return this.extendedRowspan(t,e)?this.posAt(t,e):r+i},t.prototype.getCellIndex=function(t){for(var e=0;e<this.totalRowCount;e+=1)for(var n=this.rowInfo[e],r=0;r<this.totalColumnCount;r+=1)if(n[r].offset+1>t.pos)return[e,r];return[0,0]},t.prototype.getRectOffsets=function(t,e){var n,r,i;void 0===e&&(e=t),t.pos>e.pos&&(t=(n=[e,t])[0],e=n[1]);var o=this.getCellIndex(t),a=o[0],s=o[1],c=this.getCellIndex(e),u=c[0],l=c[1];return a=(r=gt(a,u))[0],u=r[1],s=(i=gt(s,l))[0],l=i[1],this.getSpannedOffsets({startRowIdx:a,startColIdx:s,endRowIdx:u,endColIdx:l})},t.prototype.getSpannedOffsets=function(t){return t},t}(),lc=function(t,e){var n=[];return t.forEach((function(t,r){var i={rowspanMap:{},colspanMap:{},length:0};t.forEach((function(t,n){for(var o=t.nodeSize,a=0;i[a];)a+=1;i[a]={offset:e+r+n+2,nodeSize:o},i.length+=1})),n.push(i)})),n};function fc(t,e){return vt(uc.prototype,t),lc=e,uc}var dc=function(t){function e(e,n){void 0===n&&(n=e);var r=this,i=e.node(0),o=uc.create(e),s=o.getRectOffsets(e,n),c=function(t,e,n){for(var r=n.startRowIdx,i=n.startColIdx,o=n.endRowIdx,s=n.endColIdx,c=[],u=r;u<=o;u+=1)for(var l=i;l<=s;l+=1){var f=e.getCellInfo(u,l),d=f.offset,h=f.nodeSize;c.push(new a.g(t.resolve(d+1),t.resolve(d+h-1)))}return c}(i,o,s);return(r=t.call(this,c[0].$from,c[0].$to,c)||this).startCell=e,r.endCell=n,r.offsetMap=o,r.isCellSelection=!0,r.visible=!1,r}return d(e,t),e.prototype.map=function(t,n){var r=this.startCell.pos,i=this.endCell.pos,o=t.resolve(n.map(r)),s=t.resolve(n.map(i)),c=uc.create(o);if(this.offsetMap.totalColumnCount>c.totalColumnCount||this.offsetMap.totalRowCount>c.totalRowCount){var u={tableBody:1,tableRow:2,tableCell:3,paragraph:4}[s.parent.type.name],l=s.end(s.depth-u),f=Math.min(l-4,s.pos);return a.h.create(t,f)}return new e(o,s)},e.prototype.eq=function(t){return t instanceof e&&t.startCell.pos===this.startCell.pos&&t.endCell.pos===this.endCell.pos},e.prototype.content=function(){for(var t=this.startCell.node(-2),e=this.startCell.start(-2),n=t.child(1).firstChild,i=t.child(0).type.create(),o=t.child(1).type.create(),a=uc.create(this.startCell),s=a.getRectOffsets(this.startCell,this.endCell),c=s.startRowIdx,u=s.startColIdx,l=s.endRowIdx,f=s.endColIdx,d=!1,h=c;h<=l;h+=1){for(var p=[],m=u;m<=f;m+=1){var v=a.getCellInfo(h,m).offset,g=t.nodeAt(v-e);g&&(d="tableHeadCell"===g.type.name,a.extendedRowspan(h,m)||a.extendedColspan(h,m)?p.push(g.type.create({extended:!0})):p.push(g.copy(g.content)))}var y=n.copy(r.c.from(p)),b=d?i:o;b.content=b.content.append(r.c.from(y))}return new r.j(function(t,e){var n=[];return t.childCount&&n.push(t),e.childCount&&n.push(e),r.c.from(n)}(i,o),1,1)},e}(a.f);function hc(t,e,n,r){for(var i=n.nodes,o=i.tableRow,a=i.tableBodyCell,s=i.paragraph,c=[],u=0;u<t;u+=1){for(var l=[],f=0;f<e;f+=1){var d=r&&r[u*e+f],h=s.create(null,d?n.text(d):[]);l.push(a.create(null,h))}c.push(o.create(null,l))}return c}function pc(t,e,n,r){void 0===r&&(r=null);for(var i=n.nodes,o=i.tableHeadCell,a=i.tableBodyCell,s=i.paragraph,c=0===e?o:a,u=[],l=0;l<t;l+=1)u.push(c.create(r,s.create()));return u}function mc(t,e){for(;t&&t!==e;){if("TD"===t.nodeName||"TH"===t.nodeName)return t;t=t.parentNode}return null}function vc(t){return Ws(t,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}))}function gc(t){if(t instanceof a.h){var e=t.$anchor,n=vc(e);if(n){var r=e.node(0).resolve(e.before(n.depth));return{anchor:r,head:r}}}var i=t;return{anchor:i.startCell,head:i.endCell}}function yc(t){var e;if(t.size){var n=t.content,r=t.openStart,i=t.openEnd;if(1!==n.childCount)return null;for(;1===n.childCount&&(r>0&&i>0||"table"===(null===(e=n.firstChild)||void 0===e?void 0:e.type.name));)r-=1,i-=1,n=n.firstChild.content;if("tableHead"===n.firstChild.type.name||"tableBody"===n.firstChild.type.name)return n}return null}function bc(t){var e=t.startRowIdx,n=t.startColIdx;return{rowCount:t.endRowIdx-e+1,columnCount:t.endColIdx-n+1}}function wc(t,e){return h(h({},t.attrs),e)}var kc=new a.e("cellSelection"),xc=function(){function t(t){this.view=t,this.handlers={mousedown:this.handleMousedown.bind(this),mousemove:this.handleMousemove.bind(this),mouseup:this.handleMouseup.bind(this)},this.startCellPos=null,this.init()}return t.prototype.init=function(){this.view.dom.addEventListener("mousedown",this.handlers.mousedown)},t.prototype.handleMousedown=function(t){var e=mc(t.target,this.view.dom);if(2!==t.button){if(e){var n=this.getCellPos(t);n&&(this.startCellPos=n),this.bindEvent()}}else t.preventDefault()},t.prototype.handleMousemove=function(t){var e,n=kc.getState(this.view.state),r=this.getCellPos(t),i=this.startCellPos;n?e=this.view.state.doc.resolve(n):i!==r&&(e=i),e&&i&&r&&this.setCellSelection(i,r)},t.prototype.handleMouseup=function(){this.startCellPos=null,this.unbindEvent(),null!==kc.getState(this.view.state)&&this.view.dispatch(this.view.state.tr.setMeta(kc,-1))},t.prototype.bindEvent=function(){var t=this.view.dom;t.addEventListener("mousemove",this.handlers.mousemove),t.addEventListener("mouseup",this.handlers.mouseup)},t.prototype.unbindEvent=function(){var t=this.view.dom;t.removeEventListener("mousemove",this.handlers.mousemove),t.removeEventListener("mouseup",this.handlers.mouseup)},t.prototype.getCellPos=function(t){var e=t.clientX,n=t.clientY,r=this.view.posAtCoords({left:e,top:n});if(r){var i=this.view.state.doc,o=i.resolve(r.pos),a=vc(o);if(a){var s=o.before(a.depth);return i.resolve(s)}}return null},t.prototype.setCellSelection=function(t,e){var n=this.view.state,r=n.selection,i=n.tr,o=null===kc.getState(this.view.state),a=new dc(t,e);if(o||!r.eq(a)){var s=i.setSelection(a);o&&s.setMeta(kc,e.pos),this.view.dispatch(s)}},t.prototype.destroy=function(){this.view.dom.removeEventListener("mousedown",this.handlers.mousedown)},t}(),Sc=Ce("cell-selected");function Ec(t){var e=t.selection,n=t.doc;if(e instanceof dc){var r=[];return e.ranges.forEach((function(t){var e=t.$from,n=t.$to;r.push(i.a.node(e.pos-1,n.pos+1,{class:Sc}))})),i.b.create(n,r)}return null}var _c=function(){function t(){this.keys=[],this.values=[]}return t.prototype.getKeyIndex=function(t){return T(t,this.keys)},t.prototype.get=function(t){return this.values[this.getKeyIndex(t)]},t.prototype.set=function(t,e){var n=this.getKeyIndex(t);return n>-1?this.values[n]=e:(this.keys.push(t),this.values.push(e)),this},t.prototype.has=function(t){return this.getKeyIndex(t)>-1},t.prototype.delete=function(t){var e=this.getKeyIndex(t);return e>-1&&(this.keys.splice(e,1),this.values.splice(e,1),!0)},t.prototype.forEach=function(t,e){var n=this;void 0===e&&(e=this),this.values.forEach((function(r,i){r&&n.keys[i]&&t.call(e,r,n.keys[i],n)}))},t.prototype.clear=function(){this.keys=[],this.values=[]},t}(),Cc=new(function(){function t(){this.code="en-US",this.langs=new _c}return t.prototype.setCode=function(t){this.code=t||"en-US"},t.prototype.setLanguage=function(t,e){var n=this;(t=[].concat(t)).forEach((function(t){if(n.langs.has(t)){var r=n.langs.get(t);n.langs.set(t,g(r,e))}else n.langs.set(t,e)}))},t.prototype.get=function(t,e){e||(e=this.code);var n=this.langs.get(e);n||(n=this.langs.get("en-US"));var r=n[t];if(!r)throw new Error('There is no text key "'+t+'" in '+e);return r},t}()),Mc=[[{action:"Add row to up",command:"addRowToUp",disableInThead:!0,className:"add-row-up"},{action:"Add row to down",command:"addRowToDown",disableInThead:!0,className:"add-row-down"},{action:"Remove row",command:"removeRow",disableInThead:!0,className:"remove-row"}],[{action:"Add column to left",command:"addColumnToLeft",className:"add-column-left"},{action:"Add column to right",command:"addColumnToRight",className:"add-column-right"},{action:"Remove column",command:"removeColumn",className:"remove-column"}],[{action:"Align column to left",command:"alignColumn",payload:{align:"left"},className:"align-column-left"},{action:"Align column to center",command:"alignColumn",payload:{align:"center"},className:"align-column-center"},{action:"Align column to right",command:"alignColumn",payload:{align:"right"},className:"align-column-right"}],[{action:"Remove table",command:"removeTable",className:"remove-table"}]];function Ac(t,e){return Mc.map((function(n){return n.map((function(n){var r=n.action,i=n.command,o=n.payload,a=n.disableInThead,s=n.className;return{label:Cc.get(r),onClick:function(){t.emit("command",i,o)},disabled:e&&!!a,className:s}}))})).concat()}var Tc=["image","link","customBlock","frontMatter"],Oc=["strong","strike","emph","code"],Dc=["bulletList","orderedList","taskList"];function Ic(t,e,n){var r=t.$from,i=t.$to,o=t.from,a=t.to,s={},c={};return e.nodesBetween(o,a,(function(t,e,o){var a=function(t,e){var n=t.type.name;return"listItem"===n?t.attrs.task?"taskList":e.type.name:-1!==n.indexOf("table")?"table":n}(t,o);rt(Tc,a)||(rt(Dc,a)?function(t,e){e[t]=!0,Dc.filter((function(e){return e!==t})).forEach((function(t){e[t]&&delete e[t]}))}(a,s):"paragraph"===a||"text"===a?c=function(t,e,n){var r={};return Oc.forEach((function(i){var o=n.marks[i],a=t.marksAcross(e)||[];!!o.isInSet(a)&&(r[i]=!0)})),r}(r,i,n):s[a]=!0)})),h(h({},s),c)}function Nc(t){return new a.d({view:function(){return{update:function(e){var n=e.state,r=n.selection,i=n.doc,o=n.schema;t.emit("changeToolbarState",{toolbarState:Ic(r,i,o)})}}}})}var Pc=function(){function t(t,e,n,r){var o=this;this.openEditor=function(){if(o.innerEditorView)throw new Error("The editor is already opened.");o.wrapper.style.display="none",o.innerViewContainer.style.display="block",o.innerEditorView=new i.c(o.innerViewContainer,{state:a.b.create({doc:o.node,plugins:[Object(s.a)({"Mod-z":function(){return Object(l.c)(o.innerEditorView.state,o.innerEditorView.dispatch)},"Shift-Mod-z":function(){return Object(l.b)(o.innerEditorView.state,o.innerEditorView.dispatch)},Tab:function(t,e){return e(t.tr.insertText("\t")),!0},Enter:c.f,Escape:function(){return o.cancelEditing(),!0},"Ctrl-Enter":function(){return o.saveAndFinishEditing(),!0}}),Object(l.a)()]}),dispatchTransaction:function(t){return o.dispatchInner(t)},handleDOMEvents:{mousedown:function(){return o.editorView.hasFocus()&&o.innerEditorView.focus(),!0},blur:function(){return o.saveAndFinishEditing(),!0}}}),o.innerEditorView.focus()},this.node=t,this.editorView=e,this.getPos=n,this.toDOMAdaptor=r,this.innerEditorView=null,this.canceled=!1,this.dom=document.createElement("div"),this.dom.className=Ce("custom-block"),this.wrapper=document.createElement("div"),this.wrapper.className=Ce("custom-block-view"),this.createInnerViewContainer(),this.renderCustomBlock(),this.dom.appendChild(this.innerViewContainer),this.dom.appendChild(this.wrapper)}return t.prototype.renderToolArea=function(){var t=this,e=document.createElement("div"),n=document.createElement("span"),r=document.createElement("button");e.className="tool",n.textContent=this.node.attrs.info,n.className="info",r.type="button",r.addEventListener("click",(function(){return t.openEditor()})),e.appendChild(n),e.appendChild(r),this.wrapper.appendChild(e)},t.prototype.renderCustomBlock=function(){var t=this.toDOMAdaptor.getToDOMNode(this.node.attrs.info);if(t){for(var e=t(this.node);this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);e&&this.wrapper.appendChild(e),this.renderToolArea()}},t.prototype.createInnerViewContainer=function(){this.innerViewContainer=document.createElement("div"),this.innerViewContainer.className=Ce("custom-block-editor"),this.innerViewContainer.style.display="none"},t.prototype.closeEditor=function(){this.innerEditorView&&(this.innerEditorView.destroy(),this.innerEditorView=null,this.innerViewContainer.style.display="none"),this.wrapper.style.display="block"},t.prototype.saveAndFinishEditing=function(){var t=this.editorView.state.selection.to,e=this.editorView.state;this.editorView.dispatch(e.tr.setSelection(wt(e.tr,t))),this.editorView.focus(),this.renderCustomBlock(),this.closeEditor()},t.prototype.cancelEditing=function(){var t=Object(l.d)(this.innerEditorView.state);for(this.canceled=!0;t--;)Object(l.c)(this.innerEditorView.state,this.innerEditorView.dispatch),Object(l.c)(this.editorView.state,this.editorView.dispatch);this.canceled=!1;var e=this.editorView.state.selection.to,n=this.editorView.state;this.editorView.dispatch(n.tr.setSelection(a.h.create(n.doc,e))),this.editorView.focus(),this.closeEditor()},t.prototype.dispatchInner=function(t){var e=this.innerEditorView.state.applyTransaction(t),n=e.state,r=e.transactions;if(this.innerEditorView.updateState(n),!this.canceled&&ue(this.getPos)){for(var i=this.editorView.state.tr,a=o.d.offset(this.getPos()+1),s=0;s<r.length;s+=1)for(var c=r[s].steps,u=0;u<c.length;u+=1)i.step(c[u].map(a));i.docChanged&&this.editorView.dispatch(i)}},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,this.innerEditorView||this.renderCustomBlock(),!0)},t.prototype.stopEvent=function(t){return!!this.innerEditorView&&!!t.target&&this.innerEditorView.dom.contains(t.target)},t.prototype.ignoreMutation=function(){return!0},t.prototype.destroy=function(){this.dom.removeEventListener("dblclick",this.openEditor),this.closeEditor()},t}(),Lc=function(){function t(t,e,n,r){var i,o=this;this.handleMousedown=function(t){t.preventDefault();var e=t.target,n=t.offsetX,r=t.offsetY;if(o.imageLink&&ue(o.getPos)&&pe(e,"image-link")){var i=getComputedStyle(e,":before");if(t.stopPropagation(),_e(i,n,r)){var a=o.view.state.tr,s=o.getPos();a.setSelection(wt(a,s,s+1)),o.view.dispatch(a),o.eventEmitter.emit("openPopup","link",o.imageLink.attrs)}}},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.imageLink=null!==(i=t.marks.filter((function(t){return"link"===t.type.name}))[0])&&void 0!==i?i:null,this.dom=this.createElement(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.createImageElement(this.node);if(this.imageLink){var e=document.createElement("span");return e.className="image-link",e.appendChild(t),e}return t},t.prototype.createImageElement=function(t){var e=document.createElement("img"),n=t.attrs,r=n.imageUrl,i=n.altText,o=tc(t.attrs);return e.src=r,i&&(e.alt=i),Le(o,e),e},t.prototype.bindEvent=function(){this.imageLink&&this.dom.addEventListener("mousedown",this.handleMousedown)},t.prototype.stopEvent=function(){return!0},t.prototype.destroy=function(){this.imageLink&&this.dom.removeEventListener("mousedown",this.handleMousedown)},t}(),Rc=function(){function t(t,e,n,r){var i=this;this.dom=null,this.contentDOM=null,this.input=null,this.handleMousedown=function(t){var e=t.target;if("none"!==getComputedStyle(e,":after").backgroundImage&&ue(i.getPos)){var n=i.view.coordsAtPos(i.getPos()),r=n.top,o=n.right;i.createLanguageEditor({top:r,right:o})}},this.handleKeydown=function(t){"Enter"===t.key&&i.input&&(t.preventDefault(),i.changeLanguage())},this.node=t,this.view=e,this.getPos=n,this.eventEmitter=r,this.createElement(),this.bindDOMEvent(),this.bindEvent()}return t.prototype.createElement=function(){var t=this.node.attrs.language,e=document.createElement("div");e.setAttribute("data-language",t||"text"),e.className="toastui-editor-ww-code-block";var n=this.createCodeBlockElement(),r=n.firstChild;e.appendChild(n),this.dom=e,this.contentDOM=r},t.prototype.createCodeBlockElement=function(){var t=document.createElement("pre"),e=document.createElement("code"),n=this.node.attrs.language,r=tc(this.node.attrs);return n&&e.setAttribute("data-language",n),Le(r,t),t.appendChild(e),t},t.prototype.createLanguageEditor=function(t){var e=this,n=t.top,r=t.right,i=document.createElement("span");i.className="toastui-editor-ww-code-block-language";var o=document.createElement("input");o.type="text",o.value=this.node.attrs.language,i.appendChild(o),document.querySelector(".toastui-editor.ww-mode").appendChild(i);var a=i.clientWidth;M(i,{top:n+10+"px",left:r-a-10+"px",width:a+"px"}),this.input=o,this.input.addEventListener("blur",(function(){return e.changeLanguage()})),this.input.addEventListener("keydown",this.handleKeydown),setTimeout((function(){return e.input.focus()}))},t.prototype.bindDOMEvent=function(){this.dom&&this.dom.addEventListener("click",this.handleMousedown)},t.prototype.bindEvent=function(){var t=this;this.eventEmitter.listen("scroll",(function(){t.input&&t.reset()}))},t.prototype.changeLanguage=function(){if(this.input&&ue(this.getPos)){var t=this.input.value;this.reset();var e=this.getPos(),n=this.view.state.tr;n.setNodeMarkup(e,null,{language:t}),this.view.dispatch(n)}},t.prototype.reset=function(){var t;if(null===(t=this.input)||void 0===t?void 0:t.parentElement){var e=this.input.parentElement;this.input=null,Te(e)}},t.prototype.stopEvent=function(){return!0},t.prototype.update=function(t){return!!t.sameMarkup(this.node)&&(this.node=t,!0)},t.prototype.destroy=function(){this.reset(),this.dom&&this.dom.removeEventListener("click",this.handleMousedown)},t}(),Bc=/MsoListParagraph/,jc=/style=(.|\n)*mso-/,Uc=/mso-list:(.*)/,zc=/O:P/,Hc=/^(n|u|l)/;function Fc(t){for(var e=[],n=document.createTreeWalker(t,1,null,!1);n.nextNode();){var r=n.currentNode;if(Ae(r)){var i=r,o=i.outerHTML,a=i.textContent,s=jc.test(o),c=Uc.test(o);s&&!c&&a?e.push([r,!0]):(zc.test(r.nodeName)||s&&!a||c)&&e.push([r,!1])}}return e.forEach((function(t){var e=t[0];t[1]?function(t){for(var e=[];t.firstChild;)e.push(t.firstChild),t.parentNode&&t.parentNode.insertBefore(t.firstChild,t);Te(t)}(e):Te(e)})),t.innerHTML.trim()}function qc(t){var e=[];return t.forEach((function(t,n){var r=e[n-1],i=function(t,e){var n=t.getAttribute("style");if(n){var r=n.match(Uc)[1].trim().split(" ")[1];return{id:e,level:parseInt(r.replace("level",""),10),prev:null,parent:null,children:[],unordered:Hc.test(t.textContent||""),contents:Fc(t)}}return null}(t,n);i&&(r&&function(t,e){if(e.level<t.level)e.children.push(t),t.parent=e;else{for(;e&&e.level!==t.level;)e=e.parent;e&&(t.prev=e,t.parent=e.parent,t.parent&&t.parent.children.push(t))}}(i,r),e.push(i))})),e}function Vc(t){return function t(e){var n=e[0].unordered?"ul":"ol",r=document.createElement(n);return e.forEach((function(e){var n=e.children,i=e.contents,o=document.createElement("li");o.innerHTML=i,r.appendChild(o),n.length&&r.appendChild(t(n))})),r}(qc(t).filter((function(t){return!t.parent})))}function $c(t){var e=document.createElement("div");e.innerHTML=t;var n,r,i=[],o=(n="p.MsoListParagraph",(r=te(e.querySelectorAll(n))).length?r:[]);return o.forEach((function(t){var n,r,o=function(t){for(;t&&!Ae(t);)t=t.nextSibling;return!t||!Bc.test(t.className)}(t.nextSibling);if(i.push(t),o){var a=Vc(i),s=t.nextSibling;s?(n=a,(r=s).parentNode&&r.parentNode.insertBefore(n,r)):function(t,e){(e=b(e)?te(e):[e]).forEach((function(e){t.appendChild(e)}))}(e,a),i=[]}Te(t)})),""+(o.length?"<p></p>":"")+e.innerHTML}function Kc(t){return function(t){return jc.test(t)}(t=function(t){return/<\/td>((?!<\/tr>)[\s\S])*$/i.test(t)&&(t="<tr>"+t+"</tr>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(t)&&(t="<table>"+t+"</table>"),t}(t=function(t){var e=t.indexOf("\x3c!--StartFragment--\x3e"),n=t.lastIndexOf("\x3c!--EndFragment--\x3e");return e>-1&&n>-1&&(t=t.slice(e+"\x3c!--StartFragment--\x3e".length,n)),t.replace(/<br[^>]*>/g,"</p><p>")}(t)))&&(t=$c(t)),t}function Wc(t,e,n){for(var r=[],i=t.childCount,o=0;o<i;o+=1)if(!t.child(o).attrs.extended){var a=o<i?n.create(t.child(o).attrs,t.child(o).content):n.createAndFill();r.push(a)}return r}function Jc(t,e,n){var r=n.nodes,i=r.tableRow,o=Wc(t,0,r.tableHeadCell);return i.create(null,o)}function Gc(t,e,n){var r=n.nodes,i=r.tableRow,o=Wc(t,0,r.tableBodyCell);return i.create(null,o)}function Yc(t){var e=[],n=[];"tableHead"===t.firstChild.type.name&&t.firstChild.forEach((function(t){return e.push(t)}));"tableBody"===t.lastChild.type.name&&t.lastChild.forEach((function(t){return n.push(t)}));return p(p([],e),n)}function Xc(t,e,n){var r=Jc(t,0,n);return n.nodes.tableHead.create(null,r)}function Zc(t,e,n){var r=t.map((function(t){return Gc(t,0,n)}));if(!t.length){var i=function(t,e){for(var n=e.nodes,r=n.tableRow,i=n.tableBodyCell,o=[],a=0;a<t;a+=1){var s=i.createAndFill();o.push(s)}return r.create({dummyRowForPasting:!0},o)}(e,n);r.push(i)}return n.nodes.tableBody.create(null,r)}function Qc(t,e,n){var i=[],o=t.content,a=t.openStart,s=t.openEnd;return o.forEach((function(t){if("table"===t.type.name){var o=yc(new r.j(r.c.from(t),0,0));if(o){var a=Yc(o),s="tableBody"===o.firstChild.type.name,c=function(t,e,n,r){var i=function(t){return t.reduce((function(t,e){return t.childCount>e.childCount?t:e})).childCount}(t);if(n&&r)return e.nodes.table.create(null,[Zc(t,i,e)]);var o=t[0],a=t.slice(1),s=[Xc(o,0,e)];return a.length&&s.push(Zc(a,i,e)),e.nodes.table.create(null,s)}(a,e,s,n);i.push(c)}}else i.push(t)})),new r.j(r.c.from(i),a,s)}function tu(t){return 4*t}function eu(t,e){var n=t.state,i=n.selection,o=n.schema,a=n.tr,s=gc(i),c=s.anchor,u=s.head;if(c&&u){var l=yc(e);if(!l)return!1;var f=uc.create(c),d=f.getRectOffsets(c,u),h=function(t,e,n){var r=[],i=Yc(t),o=(i[0].childCount,i.length),a=0===e.startRowIdx,s=i.slice(0,o);if(a){var c=s.shift();if(c){var u=Jc(c,0,n).content;r.push(u)}}return s.forEach((function(t){if(!t.attrs.dummyRowForPasting){var e=Gc(t,0,n).content;r.push(e)}})),r}(l,d,o),p=function(t,e,n){for(var r=e.startRowIdx,i=e.startColIdx,o=n.length,a=0,s=function(t){var e=n[t].childCount;n[t].forEach((function(t){var n=t.attrs.colspan;n>1&&(e+=n-1)})),a=Math.max(a,e)},c=0;c<o;c+=1)s(c);var u=r+o-1,l=i+a-1;return{startRowIdx:r,startColIdx:i,endRowIdx:u,endColIdx:l,addedRowCount:Math.max(u+1-t.totalRowCount,0),addedColumnCount:Math.max(l+1-t.totalColumnCount,0)}}(f,d,h),m=[];return function(t,e){var n=bc(t.getSpannedOffsets(e)),r=n.rowCount,i=n.columnCount,o=bc(e),a=o.rowCount,s=o.columnCount;return r===a&&i===s}(f,p)&&(function(t,e){for(var n=t.startRowIdx,r=t.startColIdx,i=t.endRowIdx,o=t.endColIdx,a=t.addedRowCount,s=t.addedColumnCount,c=n;c<=i-a;c+=1)e.push({rowIdx:c,startColIdx:r,endColIdx:o-s})}(p,m),p.addedColumnCount&&function(t,e,n,r,i){for(var o=r.startRowIdx,a=r.startColIdx,s=r.endRowIdx,c=r.endColIdx,u=r.addedRowCount,l=r.addedColumnCount,f=n.totalRowCount,d=0,h=0;h<f;h+=1){var p=n.getCellInfo(h,c-l),m=p.offset,v=p.nodeSize,g=t.mapping.map(m+v),y=pc(l,h,e);if(t.insert(g,y),h>=o&&h<=s-u){var b=n.getCellInfo(h,c-l),w=t.mapping.map(b.offset),k=g+tu(l);i[d]={rowIdx:h,startColIdx:a,endColIdx:c,dummyOffsets:[w,k]},d+=1}}}(a,o,f,p,m),p.addedRowCount&&function(t,e,n,r,i){var o=r.addedRowCount,a=r.addedColumnCount,s=r.startColIdx,c=r.endColIdx,u=t.mapping.maps.length,l=n.tableEndOffset-2,f=hc(o,n.totalColumnCount+a,e),d=l;t.insert(t.mapping.slice(u).map(d),f);for(var h=0;h<o;h+=1){var p=d+tu(s)+1,m=d+tu(c+1)+1,v=d+tu(n.totalColumnCount+a)+2;i.push({rowIdx:h+n.totalRowCount,startColIdx:s,endColIdx:c,dummyOffsets:[p,m]}),d=v}}(a,o,f,p,m),function(t,e,n,i){var o=t.mapping.maps.length;n.forEach((function(n,a){var s=n.rowIdx,c=n.startColIdx,u=n.endColIdx,l=n.dummyOffsets,f=t.mapping.slice(o),d=new r.j(e[a],0,0),h=l?l[0]:i.getCellStartOffset(s,c),p=l?l[1]:i.getCellEndOffset(s,u);t.replace(f.map(h),f.map(p),d)}))}(a,h,m,f),t.dispatch(a),function(t,e,n){var r=t.state,i=r.tr,o=r.doc,a=uc.create(o.resolve(n)),s=e[0],c=s.rowIdx,u=s.startColIdx,l=ft(e),f=l.rowIdx,d=l.endColIdx,h=a.getCellInfo(c,u).offset,p=a.getCellInfo(f,d).offset;t.dispatch(i.setSelection(new dc(o.resolve(h),o.resolve(p))))}(t,m,f.getCellInfo(0,0).offset)),!0}return!1}var nu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"doc"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"block+"}},enumerable:!1,configurable:!0}),e}(ie),ru=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"paragraph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"inline*",group:"block",attrs:h({},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"p"}],toDOM:function(t){return["p",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(ie),iu=/\s{1,4}$/,ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"text"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{group:"inline"}},enumerable:!1,configurable:!0}),e.prototype.addSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to;return!(!i.blockRange(o)||Js(i)||Gs(i))&&(e(r.insertText("    ",i.pos,o.pos)),!0)}},e.prototype.removeSpaces=function(){return function(t,e){var n=t.selection,r=t.tr,i=n.$from,o=n.$to,a=n.from;if(i.blockRange(o)&&!Js(i)&&!Gs(i)){var s=i.nodeBefore;if(s&&s.isText){var c=s.text,u=c.replace(iu,""),l=c.length-u.length;return e(r.delete(a-l,a)),!0}}return!1}},e.prototype.keymaps=function(){return{Tab:this.addSpaces(),"Shift-Tab":this.removeSpaces()}},e}(ie),au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"heading"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"levels",{get:function(){return[1,2,3,4,5,6]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this.levels.map((function(t){return{tag:"h"+t,getAttrs:function(e){var n=e.getAttribute("data-raw-html");return h({level:t},n&&{rawHTML:n})}}}));return{attrs:h({level:{default:1},headingType:{default:"atx"},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"inline*",group:"block",defining:!0,parseDOM:t,toDOM:function(t){var e=t.attrs;return["h"+e.level,tc(e),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(t){return function(e,n){return Object(c.h)(e.schema.nodes.heading,t)(e,n)}}},e}(ie),su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"codeBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:h({language:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),code:!0,defining:!0,marks:"",parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(t){var e=t.getAttribute("data-raw-html"),n=t.firstElementChild;return h({language:(null==n?void 0:n.getAttribute("data-language"))||null},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"pre",["code",h({"data-language":e.language},tc(e)),0]]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(c.h)(t.schema.nodes.codeBlock)(t,e)}}},e.prototype.moveCursor=function(t){var e=this;return function(n,r){var i,o,a=n.tr,s=n.doc,c=n.schema,u=n.selection.$from;if(e.context.view.endOfTextblock(t)&&"codeBlock"===u.node().type.name){var l=u.parent.textContent.split("\n"),f="up"===t?u.start():u.end(),d="up"===t?[f,l[0].length+f]:[f-ft(l).length,f],h=s.resolve("up"===t?u.before():u.after()),p="up"===t?h.nodeBefore:h.nodeAfter;if(i=u.pos,o=d[1],i>=d[0]&&i<=o&&!p){var m=kt(a,h,c);if(m)return r(m),!0}}return!1}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-p":t,"Shift-Mod-P":t,ArrowUp:this.moveCursor("up"),ArrowDown:this.moveCursor("down")}},e}(ie),cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"bulletList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Xs("ul")],toDOM:function(t){return["ul",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.changeList=function(){return function(t,e){return rc(t.schema.nodes.bulletList)(t,e)}},e.prototype.commands=function(){return{bulletList:this.changeList,taskList:ic}},e.prototype.keymaps=function(){var t=this.changeList(),e=sc(),n=e.indent,r=e.outdent;return{"Mod-u":t,"Mod-U":t,Tab:n(),"Shift-Tab":r()}},e}(ie),uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"orderedList"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"listItem+",group:"block",attrs:h({order:{default:1},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"ol",getAttrs:function(t){var e=t.getAttribute("start"),n=t.getAttribute("data-raw-html");return h({order:t.hasAttribute("start")?Number(e):1},n&&{rawHTML:n})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"ol",h({start:1===e.order?null:e.order},tc(e)),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return rc(t.schema.nodes.orderedList)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()(),e=sc(),n=e.indent,r=e.outdent;return{"Mod-o":t,"Mod-O":t,Tab:n(),"Shift-Tab":r()}},e}(ie),lu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"listItem"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph block*",selectable:!1,attrs:{task:{default:!1},checked:{default:!1},rawHTML:{default:null}},defining:!0,parseDOM:[{tag:"li",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({task:t.hasAttribute("data-task"),checked:t.hasAttribute("data-task-checked")},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs,n=e.task,r=e.checked;if(!n)return[e.rawHTML||"li",0];var i=["task-list-item"];return r&&i.push("checked"),[e.rawHTML||"li",h({class:i.join(" "),"data-task":n},r&&{"data-task-checked":r}),0]}}},enumerable:!1,configurable:!0}),e.prototype.liftToPrevListItem=function(){return function(t,e){var n=t.selection,r=t.tr,i=t.schema,o=n.$from,a=n.empty,s=i.nodes.listItem,c=o.parent,u=o.node(-1);if(a&&!c.childCount&&u.type===s){if(o.index(-2)>=1)return r.delete(o.start(-1)-1,o.end(-1)),e(r),!0;if(o.node(-3).type===s)return r.delete(o.start(-2)-1,o.end(-1)),e(r),!0}return!1}},e.prototype.keymaps=function(){return{Backspace:this.liftToPrevListItem(),Enter:function(t,e){return function(t){return function(e,n){var i=e.tr,s=e.selection,c=s.$from,u=s.$to;if(c.depth<2||!c.sameParent(u))return!1;var l=c.node(-1);if(l.type!==t)return!1;if(0===c.parent.content.size&&c.node(-1).childCount===c.indexAfter(-1)){if(2===c.depth||c.node(-3).type!==t||c.index(-2)!==c.node(-2).childCount-1)return!1;for(var f=c.index(-1)>0,d=r.c.empty,h=c.depth-(f?1:2);h>=c.depth-3;h-=1)d=r.c.from(c.node(h).copy(d));return d=d.append(r.c.from(t.createAndFill())),i.replace(f?c.before():c.before(-1),c.after(-3),new r.j(d,f?3:2,2)),i.setSelection(a.f.near(i.doc.resolve(c.pos+(f?3:2)))),n(i),!0}var p=u.pos===c.end()?l.contentMatchAt(0).defaultType:null,m=p&&[null,{type:p}];return i.delete(c.pos,u.pos),!!Object(o.g)(i.doc,c.pos,2,m)&&(i.split(c.pos,2,m),n(i),!0)}}(t.schema.nodes.listItem)(t,e)}}},e}(ie),fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"blockQuote"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),content:"block+",group:"block",parseDOM:[Xs("blockquote")],toDOM:function(t){return["blockquote",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(c.j)(t.schema.nodes.blockQuote)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Alt-q":t,"Alt-Q":t}},e}(ie),du={left:function(t,e){var n=t[0],r=t[1],i=e.totalColumnCount,o=0===r;if(0!==n||!o){r-=1,o&&(n-=1,r=i-1);var a=e.getCellInfo(n,r),s=a.offset,c=a.nodeSize;return s+c-2}return null},right:function(t,e){var n=t[0],r=t[1],i=e.totalRowCount,o=e.totalColumnCount,a=r===o-1;if(n!==i-1||!a){var s=r+1,c=e.getColspanStartInfo(n,r);return(null==c?void 0:c.count)>1&&(s+=c.count-1),(a||s===o)&&(n+=1,s=0),e.getCellInfo(n,s).offset+2}return null},up:function(t,e){var n=t[0],r=t[1];if(n>0){var i=e.getCellInfo(n-1,r),o=i.offset,a=i.nodeSize;return o+a-2}return null},down:function(t,e){var n=t[0],r=t[1],i=e.totalRowCount;if(n<i-1){var o=n+1,a=e.getRowspanStartInfo(n,r);return(null==a?void 0:a.count)>1&&(o+=a.count-1),e.getCellInfo(o,r).offset+2}return null}};function hu(t,e,n){var r=n[0],i=n[1],o=e.getRowspanStartInfo(r,i),a="up"===t&&0===r,s="down"===t&&((null==o?void 0:o.count)>1?r+o.count-1:r)===e.totalRowCount-1;return a||s}function pu(t,e,n){var r=t.doc.resolve(e.tableEndOffset);return r.nodeAfter?t.setSelection(a.f.near(r,1)):kt(t,r,n)}function mu(t,e,n,r){var i=(0,du[t])(n,r);if(i){var o="right"===t||"down"===t?1:-1;return e.setSelection(a.f.near(e.doc.resolve(i),o))}return null}function vu(t,e,n){var r=t.getCellInfo(e,0).offset,i=t.getCellInfo(e,n-1);return{from:r,to:i.offset+i.nodeSize}}var gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"table"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableHead{1} tableBody{1}",group:"block",attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Xs("table")],toDOM:function(t){return["table",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e.prototype.addTable=function(){return function(t){return void 0===t&&(t={rowCount:2,columnCount:1,data:[]}),function(e,n){var r=t.rowCount,i=t.columnCount,o=t.data,a=e.schema,s=e.selection,c=e.tr,u=s.from,l=s.to,f=s.$from;if(u===l&&!Gs(f)){var d=a.nodes,h=d.tableHead,p=d.tableBody,m=null==o?void 0:o.slice(0,i),v=null==o?void 0:o.slice(i,o.length),g=function(t,e,n){for(var r=e.nodes,i=r.tableRow,o=r.tableHeadCell,a=r.paragraph,s=[],c=0;c<t;c+=1){var u=n&&n[c],l=a.create(null,u?e.text(u):[]);s.push(o.create(null,l))}return[i.create(null,s)]}(i,a,m),y=hc(r-1,i,a,v),b=a.nodes.table.create(null,[h.create(null,g),p.create(null,y)]);return n(c.replaceSelectionWith(b)),!0}return!1}}},e.prototype.removeTable=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=uc.create(n.$anchor);if(i){var o=i.tableStartOffset,a=i.tableEndOffset,s=o-1,c=wt(r.delete(s,a),s);return e(r.setSelection(c)),!0}return!1}}},e.prototype.addColumn=function(t){return function(){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,a=gc(r),s=a.anchor,c=a.head;if(s&&c){for(var u=uc.create(s),l=u.getRectOffsets(s,c),f="left"===t?l.startColIdx:l.endColIdx+1,d=bc(l).columnCount,h=u.totalRowCount,p=0;p<h;p+=1){var m=pc(d,p,o);i.insert(i.mapping.map(u.posAt(p,f)),m)}return n(i),!0}return!1}}},e.prototype.removeColumn=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=gc(n),o=i.anchor,a=i.head;if(o&&a){var s=uc.create(o),c=s.getRectOffsets(o,a),u=s.totalColumnCount,l=s.totalRowCount;if(bc(c).columnCount===u)return!1;for(var f=c.startColIdx,d=c.endColIdx,h=r.mapping.maps.length,p=0;p<l;p+=1)for(var m=d;m>=f;m-=1){var v=s.getCellInfo(p,m),g=v.offset,y=v.nodeSize,b=r.mapping.slice(h).map(g),w=b+y;r.delete(b,w)}return e(r),!0}return!1}}},e.prototype.addRow=function(t){return function(){return function(e,n){var r=e.selection,i=e.schema,o=e.tr,a=gc(r),s=a.anchor,c=a.head;if(s&&c){var u=uc.create(s),l=u.totalColumnCount,f=u.getRectOffsets(s,c),d=bc(f).rowCount,h=function(t,e,n){var r,i,o;return"up"===t?(r=n.startRowIdx,i=0,o=-1):(r=n.endRowIdx,i=e.totalColumnCount-1,o=e.getCellInfo(r,i).nodeSize+1),{targetRowIdx:r,insertColIdx:i,nodeSize:o}}(t,u,f),p=h.targetRowIdx,m=h.insertColIdx,v=h.nodeSize;if(!(0===p)){for(var g=[],y=o.mapping.map(u.posAt(p,m))+v,b=[],w=0;w<l;w+=1)b=b.concat(pc(1,p,i));for(var k=0;k<d;k+=1)g.push(i.nodes.tableRow.create(null,b));return n(o.insert(y,g)),!0}}return!1}}},e.prototype.removeRow=function(){return function(){return function(t,e){var n=t.selection,r=t.tr,i=gc(n),o=i.anchor,a=i.head;if(o&&a){var s=uc.create(o),c=s.totalRowCount,u=s.totalColumnCount,l=s.getRectOffsets(o,a),f=bc(l).rowCount,d=l.startRowIdx,h=l.endRowIdx;if(f===c-1||0===d)return!1;for(var p=h;p>=d;p-=1){var m=vu(s,p,u),v=m.from,g=m.to;r.delete(v-1,g+1)}return e(r),!0}return!1}}},e.prototype.alignColumn=function(){return function(t){return void 0===t&&(t={align:"center"}),function(e,n){var r=t.align,i=e.selection,o=e.tr,a=gc(i),s=a.anchor,c=a.head;if(s&&c){for(var u=uc.create(s),l=u.totalRowCount,f=u.getRectOffsets(s,c),d=f.startColIdx,h=f.endColIdx,p=0;p<l;p+=1)for(var m=d;m<=h;m+=1)if(!u.extendedRowspan(p,m)&&!u.extendedColspan(p,m)){var v=u.getNodeAndPos(p,m),g=v.node,y=v.pos,b=wc(g,{align:r});o.setNodeMarkup(y,null,b)}return n(o),!0}return!1}}},e.prototype.moveToCell=function(t){return function(e,n){var r=e.selection,i=e.tr,o=e.schema,a=gc(r),s=a.anchor,c=a.head;if(s&&c){var u=uc.create(s),l=u.getCellIndex(s),f=void 0;if(f=hu(t,u,l)?pu(i,u,o):mu(t,i,l,u))return n(f),!0}return!1}},e.prototype.moveInCell=function(t){var e=this;return function(n,r){var i=n.selection,o=n.tr,s=n.doc,c=n.schema,u=i.$from;if(!e.context.view.endOfTextblock(t))return!1;var l=Ws(u,(function(t){var e=t.type;return"tableHeadCell"===e.name||"tableBodyCell"===e.name}));if(l){var f=Ws(u,(function(t){return"paragraph"===t.type.name})),d=l.depth;if(f&&function(t,e,n,r){var i=e[0],o=e[1],a=i+3,s=o>=a,c=s?i+1:o,u=function(t,e,n,r,i){var o=e[0],a=e[1],s=e[2];if("left"===t||"up"===t){if(i&&!function(t,e,n){var r=n[0],i=n[1],o=e.resolve(t.before(r-1));return i===r&&!o.nodeBefore}(n,r,[o,a]))return!1;var c=n.before(s);if(r.resolve(c).nodeBefore)return!1}return!0}(t,[o,a,c],n,r,s),l=function(t,e,n,r,i){if("right"===t||"down"===t){if(i&&!function(t){for(var e,n,r=t.depth;r&&"tableBodyCell"!==(n=t.node(r)).type.name;){if("listItem"===n.type.name){var i=t.node(r-1).lastChild===n,o="paragraph"!==(null===(e=n.lastChild)||void 0===e?void 0:e.type.name);return!!i&&!o}r-=1}return!1}(n))return!1;var o=n.after(e);if(r.resolve(o).nodeAfter)return!1}return!0}(t,c,n,r,s);return u&&l}(t,[d,f.depth],u,s)){var h=gc(i).anchor,p=uc.create(h),m=p.getCellIndex(h),v=void 0;if(!function(t,e,n){var r=n[0],i=n[1];if("up"===t||"down"===t)return!1;var o=e.tableStartOffset,a=e.tableEndOffset,s=e.getCellInfo(r,i),c=s.offset,u=s.nodeSize;return("left"===t?o:a)===("left"===t?c-2:c+u+3)}(t,p,m)?hu(t,p,m)?"up"===t?v=function(t,e,n){var r=t.doc.resolve(e.tableStartOffset-1);return r.nodeBefore?t.setSelection(a.f.near(r,-1)):kt(t,r,n)}(o,p,c):"down"===t&&(v=pu(o,p,c)):v=mu(t,o,m,p):v=function(t,e,n){var r=t.doc.resolve(e.before(n-3));return t.setSelection(new a.c(r))}(o,u,d),v)return r(v),!0}}return!1}},e.prototype.deleteCells=function(){return function(t,e){var n=t.schema,r=t.selection,i=t.tr,o=gc(r),s=o.anchor,c=o.head,u=r instanceof a.h;if(s&&c&&!u){for(var l=uc.create(s),f=l.getRectOffsets(s,c),d=f.startRowIdx,h=f.startColIdx,p=f.endRowIdx,m=f.endColIdx,v=d;v<=p;v+=1)for(var g=h;g<=m;g+=1)if(!l.extendedRowspan(v,g)&&!l.extendedColspan(v,g)){var y=l.getNodeAndPos(v,g),b=y.node,w=y.pos,k=pc(1,v,n,b.attrs);i.replaceWith(i.mapping.map(w),i.mapping.map(w+b.nodeSize),k)}return e(i),!0}return!1}},e.prototype.commands=function(){return{addTable:this.addTable(),removeTable:this.removeTable(),addColumnToLeft:this.addColumn("left"),addColumnToRight:this.addColumn("right"),removeColumn:this.removeColumn(),addRowToUp:this.addRow("up"),addRowToDown:this.addRow("down"),removeRow:this.removeRow(),alignColumn:this.alignColumn()}},e.prototype.keymaps=function(){var t=this.deleteCells();return{Tab:this.moveToCell("right"),"Shift-Tab":this.moveToCell("left"),ArrowUp:this.moveInCell("up"),ArrowDown:this.moveInCell("down"),ArrowLeft:this.moveInCell("left"),ArrowRight:this.moveInCell("right"),Backspace:t,"Mod-Backspace":t,Delete:t,"Mod-Delete":t}},e}(ie),yu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHead"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow{1}",attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[Xs("thead")],toDOM:function(t){return["thead",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(ie),bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBody"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"tableRow+",attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tbody",getAttrs:function(t){var e=t.querySelectorAll("tr")[0].children.length,n=t.getAttribute("data-raw-html");return!!e&&h({},n&&{rawHTML:n})}}],toDOM:function(t){return["tbody",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(ie),wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableRow"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(tableHeadCell | tableBodyCell)*",attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"tr",getAttrs:function(t){var e=t.children.length,n=t.getAttribute("data-raw-html");return!!e&&h({},n&&{rawHTML:n})}}],toDOM:function(t){return["tr",tc(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(ie),ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableHeadCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"paragraph+",attrs:h({align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},extended:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),isolating:!0,parseDOM:[Qs("th")],toDOM:function(t){var e=t.attrs,n=Zs(e);return["th",h(h({},n),tc(e)),0]}}},enumerable:!1,configurable:!0}),e}(ie),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"tableBodyCell"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"(paragraph | bulletList | orderedList)+",attrs:{align:{default:null},className:{default:null},rawHTML:{default:null},colspan:{default:null},rowspan:{default:null},extended:{default:null}},isolating:!0,parseDOM:[Qs("td")],toDOM:function(t){return["td",Zs(t.attrs),0]}}},enumerable:!1,configurable:!0}),e}(ie),Su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"image"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{inline:!0,attrs:h({imageUrl:{default:""},altText:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"inline",selectable:!1,parseDOM:[{tag:"img[src]",getAttrs:function(t){var e=_s(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("src")||"",r=e.getAttribute("data-raw-html"),i=e.getAttribute("alt");return h({imageUrl:n,altText:i},r&&{rawHTML:r})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"img",h(h({src:e.imageUrl},e.altText&&{alt:e.altText}),tc(e))]}}},enumerable:!1,configurable:!0}),e.prototype.addImage=function(){return function(t){return function(e,n){var r=e.schema,i=e.tr,o=t,a=o.imageUrl,s=o.altText;if(!a)return!1;var c=r.nodes.image.createAndFill(h({imageUrl:tr(a)},s&&{altText:s}));return n(i.replaceSelectionWith(c).scrollIntoView()),!0}}},e.prototype.commands=function(){return{addImage:this.addImage()}},e}(ie),Eu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"thematicBreak"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),group:"block",parseDOM:[{tag:"hr"}],selectable:!1,toDOM:function(t){var e=t.attrs;return["div",tc(e),[e.rawHTML||"hr"]]}}},enumerable:!1,configurable:!0}),e.prototype.hr=function(){var t=this;return function(){return function(e,n){var r,i=e.selection,o=i.$from;if(o===i.$to){var a=e.doc,s=e.schema.nodes,c=s.thematicBreak,u=s.paragraph,l=[c.create()],f=o.node(1),d=a.child(a.childCount-1)===f,h=a.resolve(o.after(1)),p=(null===(r=o.nodeAfter)||void 0===r?void 0:r.type.name)===t.name;return(d||p)&&l.push(u.create()),n(e.tr.insert(h.pos,l).scrollIntoView()),!0}return!1}}},e.prototype.commands=function(){return{hr:this.hr()}},e.prototype.keymaps=function(){var t=this.hr()();return{"Mod-l":t,"Mod-L":t}},e}(ie),_u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strong"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["b","strong"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({},e&&{rawHTML:e})}}}));return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"strong",tc(e)]}}},enumerable:!1,configurable:!0}),e.prototype.bold=function(){return function(){return function(t,e){return Object(c.i)(t.schema.marks.strong)(t,e)}}},e.prototype.commands=function(){return{bold:this.bold()}},e.prototype.keymaps=function(){var t=this.bold()();return{"Mod-b":t,"Mod-B":t}},e}(cn),Cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"emph"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["i","em"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({},e&&{rawHTML:e})}}}));return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"em",tc(e)]}}},enumerable:!1,configurable:!0}),e.prototype.italic=function(){return function(){return function(t,e){return Object(c.i)(t.schema.marks.emph)(t,e)}}},e.prototype.commands=function(){return{italic:this.italic()}},e.prototype.keymaps=function(){var t=this.italic()();return{"Mod-i":t,"Mod-I":t}},e}(cn),Mu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"strike"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=["s","del"].map((function(t){return{tag:t,getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({},e&&{rawHTML:e})}}}));return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:t,toDOM:function(t){var e=t.attrs;return[e.rawHTML||"del",tc(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(c.i)(t.schema.marks.strike)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Mod-s":t,"Mod-S":t}},e}(cn),Au=function(t){function e(e){var n=t.call(this)||this;return n.linkAttributes=e,n}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"link"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){var t=this;return{attrs:h({linkUrl:{default:""},linkText:{default:null},rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=_s(t,{RETURN_DOM_FRAGMENT:!0}).firstChild,n=e.getAttribute("href")||"",r=e.getAttribute("data-raw-html");return h({linkUrl:n,linkText:e.textContent},r&&{rawHTML:r})}}],toDOM:function(e){var n=e.attrs;return[n.rawHTML||"a",h(h({href:n.linkUrl},t.linkAttributes),tc(n))]}}},enumerable:!1,configurable:!0}),e.prototype.addLink=function(){return function(t){return function(e,n){var r=t,i=r.linkUrl,o=r.linkText,a=void 0===o?"":o,s=e.schema,c=e.tr,u=e.selection,l=u.empty,f=u.from,d=u.to;if(f&&d&&i){var h={linkUrl:tr(i),linkText:Qn(a)},p=s.mark("link",h);if(l&&a){var m=bt(s,a,p);c.replaceRangeWith(f,d,m)}else c.addMark(f,d,p);return n(c.scrollIntoView()),!0}return!1}}},e.prototype.toggleLink=function(){return function(t){return function(e,n){return Object(c.i)(e.schema.marks.link,t)(e,n)}}},e.prototype.commands=function(){return{addLink:this.addLink(),toggleLink:this.toggleLink()}},e}(cn),Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"code"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{attrs:h({rawHTML:{default:null}},{htmlAttrs:{default:null},classNames:{default:null}}),parseDOM:[{tag:"code",getAttrs:function(t){var e=t.getAttribute("data-raw-html");return h({},e&&{rawHTML:e})}}],toDOM:function(t){var e=t.attrs;return[e.rawHTML||"code",tc(e)]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e){return Object(c.i)(t.schema.marks.code)(t,e)}}},e.prototype.keymaps=function(){var t=this.commands()();return{"Shift-Mod-c":t,"Shift-Mod-C":t}},e}(cn),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"customBlock"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",attrs:{info:{default:null}},atom:!0,code:!0,defining:!0,parseDOM:[{tag:"div[data-custom-info]",getAttrs:function(t){return{info:t.getAttribute("data-custom-info")}}}],toDOM:function(t){return["div",{"data-custom-info":t.attrs.info||null},0]}}},enumerable:!1,configurable:!0}),e}(ie),Du=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return"frontMatter"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return{content:"text*",group:"block",code:!0,parseDOM:[{tag:"div[data-front-matter]"}],toDOM:function(){return["div",{"data-front-matter":"true"},0]}}},enumerable:!1,configurable:!0}),e.prototype.commands=function(){return function(){return function(t,e,n){var r=t.selection.$from;return!(!n.endOfTextblock("down")||"frontMatter"!==r.node().type.name)&&Object(c.d)(t,e)}}},e.prototype.keymaps=function(){return{Enter:this.commands()()}},e}(ie);var Iu=Ce("contents"),Nu=function(t){function e(e,n){var r=t.call(this,e)||this,i=n.toDOMAdaptor,o=n.htmlSchemaMap,a=void 0===o?{}:o,s=n.linkAttributes,c=void 0===s?{}:s,u=n.useCommandShortcut,l=void 0===u||u,f=n.wwPlugins,d=void 0===f?[]:f,p=n.wwNodeViews,m=void 0===p?{}:p;return r.editorType="wysiwyg",r.el.classList.add("ww-mode"),r.toDOMAdaptor=i,r.linkAttributes=c,r.extraPlugins=d,r.pluginNodeViews=m,r.specs=r.createSpecs(),r.schema=r.createSchema(a),r.context=r.createContext(),r.keymaps=r.createKeymaps(l),r.view=r.createView(),r.commands=r.createCommands(),r.specs.setContext(h(h({},r.context),{view:r.view})),r.initEvent(),r}return d(e,t),e.prototype.createSpecs=function(){return t=this.linkAttributes,new fe([new nu,new ru,new ou,new au,new su,new cu,new uu,new lu,new fu,new gu,new yu,new bu,new wu,new ku,new xu,new Su,new Eu,new _u,new Cu,new Mu,new Au(t),new Tu,new Ou,new Du,new se]);var t},e.prototype.createContext=function(){return{schema:this.schema,eventEmitter:this.eventEmitter}},e.prototype.createSchema=function(t){return new r.i({nodes:h(h({},this.specs.nodes),t.nodes),marks:h(h({},this.specs.marks),t.marks)})},e.prototype.createPlugins=function(){return this.defaultPlugins.concat(p([new a.d({key:kc,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(kc);if(n)return-1===n?null:n;if(W(e)||!t.docChanged)return e;var r=t.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:Ec,createSelectionBetween:function(t){var e=t.state;return W(kc.getState(e))?null:e.selection}},view:function(t){return new xc(t)}}),(t=this.eventEmitter,new a.d({props:{handleDOMEvents:{contextmenu:function(e,n){var r=mc(n.target,e.dom);if(r){n.preventDefault();var i=n,o=i.clientX,a=i.clientY,s=e.dom.parentNode.getBoundingClientRect(),c=s.left,u=s.top,l="TH"===r.nodeName;return t.emit("contextmenu",{pos:{left:o-c+10+"px",top:a-u+30+"px"},menuGroups:Ac(t,l),tableCell:r}),!0}return!1}}}})),new a.d({props:{handleDOMEvents:{mousedown:function(t,e){var n=e,r=n.clientX,i=n.clientY,o=t.posAtCoords({left:r,top:i});if(o){var a=t.state,s=a.doc,c=a.tr,u=s.resolve(o.pos),l=Ys(u),f=e.target,d=getComputedStyle(f,":before"),p=e,m=p.offsetX,v=p.offsetY;if(!l||!_e(d,m,v))return!1;e.preventDefault();var g=u.before(l.depth),y=l.node.attrs;return c.setNodeMarkup(g,null,h(h({},y),{checked:!y.checked})),t.dispatch(c),!0}return!1}}}}),Nc(this.eventEmitter)],this.createPluginProps()));var t},e.prototype.createPluginNodeViews=function(){var t=this.eventEmitter,e=this.pluginNodeViews,n={};return e&&Object.keys(e).forEach((function(r){n[r]=function(n,i,o){return e[r](n,i,o,t)}})),n},e.prototype.createView=function(){var t=this,e=this.toDOMAdaptor,n=this.eventEmitter;return new i.c(this.el,{state:this.createState(),attributes:{class:Iu},nodeViews:h({customBlock:function(t,n,r){return new Pc(t,n,r,e)},image:function(t,e,r){return new Lc(t,e,r,n)},codeBlock:function(t,e,r){return new Rc(t,e,r,n)},widget:oe},this.createPluginNodeViews()),dispatchTransaction:function(e){var n=t.view.state.applyTransaction(e).state;t.view.updateState(n),t.emitChangeEvent(e.scrollIntoView()),t.eventEmitter.emit("setFocusedNode",n.selection.$from.node(1))},transformPastedHTML:Kc,transformPasted:function(e){return Qc(e,t.schema,Gs(t.view.state.selection.$from))},handlePaste:function(t,e,n){return eu(t,n)},handleKeyDown:function(e,n){return t.eventEmitter.emit("keydown",t.editorType,n),!1},handleDOMEvents:{paste:function(e,n){var r=n.clipboardData||window.clipboardData,i=null==r?void 0:r.items;if(1===(null==i?void 0:i.length)){var o=ne(i);o&&(n.preventDefault(),ee(t.eventEmitter,o,n.type))}return!1},keyup:function(e,n){return t.eventEmitter.emit("keyup",t.editorType,n),!1},scroll:function(){return t.eventEmitter.emit("scroll","editor"),!0}}})},e.prototype.createCommands=function(){return this.specs.commands(this.view,sc())},e.prototype.getHTML=function(){return this.view.dom.innerHTML},e.prototype.getModel=function(){return this.view.state.doc},e.prototype.getSelection=function(){var t=this.view.state.selection;return[t.from,t.to]},e.prototype.getSchema=function(){return this.view.state.schema},e.prototype.replaceSelection=function(t,e,n){var i=this.view.state,o=i.schema,a=i.tr,s=t.split("\n").map((function(t){return yt(o,Jt(t,o))})),c=new r.j(r.c.from(s),1,1),u=K(e)&&K(n)?a.replaceRange(e,n,c):a.replaceSelection(c);this.view.dispatch(u),this.focus()},e.prototype.deleteSelection=function(t,e){var n=this.view.state.tr,r=K(t)&&K(e)?n.deleteRange(t,e):n.deleteSelection();this.view.dispatch(r.scrollIntoView())},e.prototype.getSelectedText=function(t,e){var n=this.view.state,r=n.doc,i=n.selection,o=i.from,a=i.to;return K(t)&&K(e)&&(o=t,a=e),r.textBetween(o,a,"\n")},e.prototype.setModel=function(t,e){void 0===e&&(e=!1);var n=this.view.state,r=n.tr,i=n.doc;this.view.dispatch(r.replaceWith(0,i.content.size,t)),e&&this.moveCursorToEnd(!0)},e.prototype.setSelection=function(t,e){void 0===e&&(e=t);var n=this.view.state.tr,r=wt(n,t,e);this.view.dispatch(n.setSelection(r).scrollIntoView())},e.prototype.addWidget=function(t,e,n){var r=this.view,i=r.dispatch,o=r.state;i(o.tr.setMeta("widget",{pos:null!=n?n:o.selection.to,node:t,style:e}))},e.prototype.replaceWithWidget=function(t,e,n){var r=this.view.state,i=r.tr,o=Jt(n,r.schema);this.view.dispatch(i.replaceWith(t,e,o))},e.prototype.getRangeInfoOfNode=function(t){var e=this.view.state,n=e.doc,r=e.selection,i=t?n.resolve(t):r.$from,o=i.marks(),a=i.node(),s=i.start(),c=i.end(),u=a.type.name;if(o.length||"paragraph"===u){var l=o[o.length-1];u=l?l.type.name:"text",a.forEach((function(t,e){var n=t.isText,r=t.nodeSize,o=t.marks,a=i.pos-s;n&&e<=a&&e+r>=a&&function(t){return!t.length||rt(t,l)}(o)&&(c=(s+=e)+r)}))}return{range:[s,c],type:u}},e}(ce),Pu=O,Lu=W;var Ru=function(t){return!Pu(t)&&!Lu(t)};var Bu=function(t){return Ru(t)&&!1!==t};var ju=function(t){return!Bu(t)},Uu=["afterPreviewRender","updatePreview","changeMode","needChangeMode","command","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","scroll","contextmenu","show","hide","changeLanguage","changeToolbarState","toggleScrollSync","mixinTableOffsetMapPrototype","setFocusedNode","removePopupWidget","openPopup","closePopup","addImageBlobHook","beforePreviewRender","beforeConvertWysiwygToMarkdown","load","change","caretChange","destroy","focus","blur","keydown","keyup"],zu=function(){function t(){var t=this;this.events=new _c,this.eventTypes=Uu.reduce((function(t,e){return h(h({},t),{type:e})}),{}),this.hold=!1,Uu.forEach((function(e){t.addEventType(e)}))}return t.prototype.listen=function(t,e){var n=this.getTypeInfo(t),r=this.events.get(n.type)||[];if(!this.hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(e.namespace=n.namespace),r.push(e),this.events.set(n.type,r)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=this.getTypeInfo(t),i=this.events.get(r.type),o=[];return!this.hold&&i&&i.forEach((function(t){var n=t.apply(void 0,e);O(n)||o.push(n)})),o},t.prototype.emitReduce=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this.events.get(t);return!this.hold&&i&&i.forEach((function(t){var r=t.apply(void 0,p([e],n));ju(r)||(e=r)})),e},t.prototype.getTypeInfo=function(t){var e=t.split(".");return{type:e[0],namespace:e[1]}},t.prototype.hasEventType=function(t){return!O(this.eventTypes[this.getTypeInfo(t).type])},t.prototype.addEventType=function(t){if(this.hasEventType(t))throw new Error("There is already have event type "+t);this.eventTypes[t]=t},t.prototype.removeEventHandler=function(t,e){var n=this,r=this.getTypeInfo(t),i=r.type,o=r.namespace;i&&e?this.removeEventHandlerWithHandler(i,e):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(t,e){n.removeEventHandlerWithTypeInfo(e,o)})):i&&o&&this.removeEventHandlerWithTypeInfo(i,o)},t.prototype.removeEventHandlerWithHandler=function(t,e){var n=this.events.get(t);if(n){var r=n.indexOf(e);n.indexOf(e)>=0&&n.splice(r,1)}},t.prototype.removeEventHandlerWithTypeInfo=function(t,e){var n=[],r=this.events.get(t);r&&(r.map((function(t){return t.namespace!==e&&n.push(t),null})),this.events.set(t,n))},t.prototype.getEvents=function(){return this.events},t.prototype.holdEventInvoke=function(t){this.hold=!0,t(),this.hold=!1},t}(),Hu=function(){function t(t,e,n,r){this.eventEmitter=t,this.mdCommands=e,this.wwCommands=n,this.getEditorType=r,this.initEvent()}return t.prototype.initEvent=function(){var t=this;this.eventEmitter.listen("command",(function(e,n){t.exec(e,n)}))},t.prototype.addCommand=function(t,e,n){"markdown"===t?this.mdCommands[e]=n:this.wwCommands[e]=n},t.prototype.deleteCommand=function(t,e){"markdown"===t?delete this.mdCommands[e]:delete this.wwCommands[e]},t.prototype.exec=function(t,e){"markdown"===this.getEditorType()?this.mdCommands[t](e):this.wwCommands[t](e)},t}();function Fu(t){return"\n"===t[t.length-1]?t.slice(0,t.length-1):t}function qu(t,e){var n=t.schema,r=e.literal.match(Se);if(r){var i=r[1],o=r[3],a=(i||o).toLowerCase();return"htmlInline"===e.type&&!(!n.marks[a]&&!n.nodes[a])}return!1}function Vu(t){return rt(["text","strong","emph","strike","image","link","code"],t.type)}function $u(t){return"softbreak"===(null==t?void 0:t.type)}function Ku(t){var e=t.type,n=t.literal,r="htmlInline"===e&&n.match(Se);if(r){var i=r[1],o=r[3],a=i||o;if(a)return rt(["ul","ol","li"],a.toLowerCase())}return!1}function Wu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=document.createElement("div");r.innerHTML=_s(t);var i=r.firstChild;return e.map((function(t){return i.getAttribute(t)||""}))}var Ju=function(t){var e={};return Object.keys(t).forEach((function(n){n.split(", ").forEach((function(r){var i=r.toLowerCase();e[i]=t[n]}))})),e}({"b, strong":function(t,e,n){var r=t.schema.marks.strong;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"i, em":function(t,e,n){var r=t.schema.marks.emph;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},"s, del":function(t,e,n){var r=t.schema.marks.strike;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},code:function(t,e,n){var r=t.schema.marks.code;n?t.openMark(r.create({rawHTML:n})):t.closeMark(r)},a:function(t,e,n){var r=e.literal,i=t.schema.marks.link;if(n){var o=Wu(r,"href")[0];t.openMark(i.create({linkUrl:o,rawHTML:n}))}else t.closeMark(i)},img:function(t,e,n){var r=e.literal;if(n){var i=Wu(r,"src","alt"),o=i[0],a=i[1],s=t.schema.nodes.image;t.addNode(s,h({rawHTML:n,imageUrl:o},a&&{altText:a}))}},hr:function(t,e,n){t.addNode(t.schema.nodes.thematicBreak,{rawHTML:n})},br:function(t,e){var n=t.schema.nodes.paragraph,r=e.parent,i=e.prev,o=e.next;"paragraph"===(null==r?void 0:r.type)?($u(i)&&t.openNode(n),$u(o)?t.closeNode():o&&(t.closeNode(),t.openNode(n))):"tableCell"===(null==r?void 0:r.type)&&(i&&(Vu(i)||qu(t,i))&&t.closeNode(),o&&(Vu(o)||qu(t,o))&&t.openNode(n))},pre:function(t,e,n){var r,i,o=document.createElement("div");o.innerHTML=e.literal;var a=null===(i=null===(r=o.firstChild)||void 0===r?void 0:r.firstChild)||void 0===i?void 0:i.textContent;t.openNode(t.schema.nodes.codeBlock,{rawHTML:n}),t.addText(Fu(a)),t.closeNode()},"ul, ol":function(t,e,n){if("tableCell"===e.parent.type){var r=t.schema.nodes,i=r.bulletList,o=r.orderedList,a=r.paragraph,s="ul"===n?i:o;n?(e.prev&&!Ku(e.prev)&&t.closeNode(),t.openNode(s,{rawHTML:n})):(t.closeNode(),e.next&&!Ku(e.next)&&t.openNode(a))}},li:function(t,e,n){var r;if("tableCell"===(null===(r=e.parent)||void 0===r?void 0:r.type)){var i=t.schema.nodes,o=i.listItem,a=i.paragraph;if(n){var s=function(t){var e=t.literal;return{task:/data-task/.test(e),checked:/data-task-checked/.test(e)}}(e);e.prev&&!Ku(e.prev)&&t.closeNode(),t.openNode(o,h({rawHTML:n},s)),e.next&&!Ku(e.next)&&t.openNode(a)}else e.prev&&!Ku(e.prev)&&t.closeNode(),t.closeNode()}}});function Gu(t){return"htmlInline"===t.type&&Ee.test(t.literal)}var Yu={text:function(t,e){t.addText(e.literal||"")},paragraph:function(t,e,n,r){var i;if(n.entering){var o=t.schema.nodes.paragraph;"paragraph"===(null===(i=e.prev)||void 0===i?void 0:i.type)&&(t.openNode(o,r),t.closeNode()),t.openNode(o,r)}else t.closeNode()},heading:function(t,e,n,r){if(n.entering){var i=e,o=i.level,a=i.headingType;t.openNode(t.schema.nodes.heading,h({level:o,headingType:a},r))}else t.closeNode()},codeBlock:function(t,e,n){var r=t.schema.nodes.codeBlock,i=e,o=i.info,a=i.literal;t.openNode(r,h({language:o},n)),t.addText(Fu(a||"")),t.closeNode()},list:function(t,e,n,r){if(n.entering){var i=t.schema.nodes,o=i.bulletList,a=i.orderedList,s=e.listData,c=s.type,u=s.start;"bullet"===c?t.openNode(o,r):t.openNode(a,h({order:u},r))}else t.closeNode()},item:function(t,e,n,r){var i=n.entering,o=t.schema.nodes.listItem,a=e.listData,s=a.task,c=a.checked;if(i){var u=h(h(h({},s&&{task:s}),c&&{checked:c}),r);t.openNode(o,u)}else t.closeNode()},blockQuote:function(t,e,n,r){n.entering?t.openNode(t.schema.nodes.blockQuote,r):t.closeNode()},image:function(t,e,n,r){var i=n.entering,o=n.skipChildren,a=t.schema.nodes.image,s=e,c=s.destination,u=s.firstChild;i&&o&&o(),t.addNode(a,h(h({imageUrl:c},u&&{altText:u.literal}),r))},thematicBreak:function(t,e,n,r){t.addNode(t.schema.nodes.thematicBreak,r)},strong:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strong;i?t.openMark(o.create(r)):t.closeMark(o)},emph:function(t,e,n,r){var i=n.entering,o=t.schema.marks.emph;i?t.openMark(o.create(r)):t.closeMark(o)},link:function(t,e,n,r){var i=n.entering,o=t.schema.marks.link,a=e,s=a.destination,c=a.title;if(i){var u=h(h({linkUrl:s},c&&{linkText:c}),r);t.openMark(o.create(u))}else t.closeMark(o)},softbreak:function(t,e){if("paragraph"===e.parent.type){var n=e.prev,r=e.next;n&&!Gu(n)&&t.closeNode(),r&&!Gu(r)&&t.openNode(t.schema.nodes.paragraph)}},table:function(t,e,n,r){n.entering?t.openNode(t.schema.nodes.table,r):t.closeNode()},tableHead:function(t,e,n,r){n.entering?t.openNode(t.schema.nodes.tableHead,r):t.closeNode()},tableBody:function(t,e,n,r){n.entering?t.openNode(t.schema.nodes.tableBody,r):t.closeNode()},tableRow:function(t,e,n,r){n.entering?t.openNode(t.schema.nodes.tableRow,r):t.closeNode()},tableCell:function(t,e,n){var r=n.entering;if(!e.ignored){var i=function(e){return e&&(Vu(e)||qu(t,e))};if(r){var o=t.schema.nodes,a=o.tableHeadCell,s=o.tableBodyCell,c=o.paragraph,u=e.parent.parent,l="tableHead"===u.type?a:s,f=u.parent.columns[e.startIdx].align,d=h({},e.attrs);f&&(d.align=f),t.openNode(l,d),i(e.firstChild)&&t.openNode(c)}else i(e.lastChild)&&t.closeNode(),t.closeNode()}},strike:function(t,e,n,r){var i=n.entering,o=t.schema.marks.strike;i?t.openMark(o.create(r)):t.closeMark(o)},code:function(t,e,n,r){var i=t.schema.marks.code;t.openMark(i.create(r)),t.addText(Fu(e.literal||"")),t.closeMark(i)},customBlock:function(t,e){var n=t.schema.nodes,r=n.customBlock,i=n.paragraph,o=e,a=o.info,s=o.literal;t.openNode(r,{info:a}),t.addText(Fu(s||"")),t.closeNode(),e.next||(t.openNode(i),t.closeNode())},frontMatter:function(t,e){t.openNode(t.schema.nodes.frontMatter),t.addText(e.literal),t.closeNode()},htmlInline:function(t,e){var n=e.literal,r=n.match(Se),i=r[1],o=r[3],a=(i||o).toLowerCase(),s=t.schema.marks[a],c=_s(n);if(null==s?void 0:s.spec.attrs.htmlInline)if(i){var u=Ms(c);t.openMark(s.create({htmlAttrs:u}))}else t.closeMark(s);else{var l=Ju[a];l&&l(t,e,i)}},htmlBlock:function(t,e){var n=e.literal,r=document.createElement("div"),i=n.match(Se),o=i[1],a=i[3],s=(o||a).toLowerCase(),c=t.schema.nodes[s],u=_s(n);if(null==c?void 0:c.spec.attrs.htmlBlock){var l=Ms(u),f=Cs(e,s);t.addNode(c,{htmlAttrs:l,childrenHTML:f})}else r.innerHTML=u,function t(e){te(e.childNodes).forEach((function(e){if(Ae(e)){var n=e.nodeName.toLowerCase();e.setAttribute("data-raw-html",n),e.childNodes&&t(e)}}))}(r),t.convertByDOMParser(r)},customInline:function(t,e,n){var r=n.entering,i=n.skipChildren,o=e.info,a=t.schema;if(-1!==o.indexOf("widget")&&r){var s=Gt(e);i(),t.addNode(a.nodes.widget,{info:o},[a.text(qt(o,s))])}}};var Xu=function(){function t(t,e){this.schema=t,this.convertors=e,this.stack=[{type:this.schema.topNodeType,attrs:null,content:[]}],this.marks=r.d.none}return t.prototype.top=function(){return ft(this.stack)},t.prototype.push=function(t){this.stack.length&&this.top().content.push(t)},t.prototype.addText=function(t){if(t){var e=this.top().content,n=ft(e),i=this.schema.text(t,this.marks),o=n&&(s=i,!!((a=n).isText&&s.isText&&r.d.sameSet(a.marks,s.marks))&&a.withText(a.text+s.text));o?e[e.length-1]=o:e.push(i)}var a,s},t.prototype.openMark=function(t){this.marks=t.addToSet(this.marks)},t.prototype.closeMark=function(t){this.marks=t.removeFromSet(this.marks)},t.prototype.addNode=function(t,e,n){var r=t.createAndFill(e,n,this.marks);return r?(this.push(r),r):null},t.prototype.openNode=function(t,e){this.stack.push({type:t,attrs:e,content:[]})},t.prototype.closeNode=function(){this.marks.length&&(this.marks=r.d.none);var t=this.stack.pop(),e=t.type,n=t.attrs,i=t.content;return this.addNode(e,n,i)},t.prototype.convertByDOMParser=function(t){var e=this;r.a.fromSchema(this.schema).parse(t).content.forEach((function(t){return e.push(t)}))},t.prototype.closeUnmatchedHTMLInline=function(t,e){var n;if(!e&&"htmlInline"!==t.type)for(var r=this.stack.length-1;r>=0;r-=1){var i=this.stack[r];if(null===(n=i.attrs)||void 0===n||!n.rawHTML)break;i.content.length?this.closeNode():this.stack.pop()}},t.prototype.convert=function(t,e){for(var n=t.walker(),r=n.next(),i=function(){var t=r.node,i=r.entering,a=o.convertors[t.type],s=!1;if(a){var c={entering:i,leaf:!Bt(t),getChildrenText:jt,options:{gfm:!0,nodeId:!1,tagFilter:!1,softbreak:"\n"},skipChildren:function(){s=!0}};if(o.closeUnmatchedHTMLInline(t,i),a(o,t,c),(null==e?void 0:e.node)===t){var u=o.stack.reduce((function(t,e){return t+e.content.reduce((function(t,e){return t+e.nodeSize}),0)}),0)+1;e.setMappedPos(u)}}s&&(n.resumeAt(t,!1),n.next()),r=n.next()},o=this;r;)i()},t.prototype.convertNode=function(t,e){return this.convert(t,e),this.stack.length?this.closeNode():null},t}();var Zu={text:function(t,e){var n,r=e.node;t.text(null!==(n=r.text)&&void 0!==n?n:"")},paragraph:function(t,e){var n=e.node,r=e.parent,i=e.index,o=void 0===i?0:i;if(t.stopNewline)t.convertInline(n);else{var a=0===o,s=!a&&r.child(o-1),c=s&&0===s.childCount,u=o<r.childCount-1&&r.child(o+1),l=u&&"paragraph"===u.type.name,f=0===n.childCount;f&&c?t.write("<br>\n"):!f||c||a?(t.convertInline(n),l?t.write("\n"):t.closeBlock(n)):t.write("\n")}},heading:function(t,e,n){var r=e.node,i=n.delim;"atx"===r.attrs.headingType?(t.write(i+" "),t.convertInline(r),t.closeBlock(r)):(t.convertInline(r),t.ensureNewLine(),t.write(i),t.closeBlock(r))},codeBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,a=i,s=a[0],c=a[1];t.write(s),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(c),t.closeBlock(r)},blockQuote:function(t,e,n){var r=e.node,i=e.parent,o=n.delim;(null==i?void 0:i.type.name)===r.type.name&&t.flushClose(1),t.wrapBlock(o,null,r,(function(){return t.convertNode(r)}))},bulletList:function(t,e,n){var r=e.node,i=n.delim;t.convertList(r,st(" ",4),(function(){return i+" "}))},orderedList:function(t,e){var n=e.node,r=n.attrs.order||1;t.convertList(n,st(" ",4),(function(t){return String(r+t)+". "}))},listItem:function(t,e){var n=e.node,r=n.attrs,i=r.task,o=r.checked;i&&t.write("["+(o?"x":" ")+"] "),t.convertNode(n)},image:function(t,e,n){var r=n.attrs;t.write("!["+(null==r?void 0:r.altText)+"]("+(null==r?void 0:r.imageUrl)+")")},thematicBreak:function(t,e,n){var r=e.node,i=n.delim;t.write(i),t.closeBlock(r)},table:function(t,e){var n=e.node;t.convertNode(n),t.closeBlock(n)},tableHead:function(t,e,n){var r=e.node,i=n.delim,o=r.firstChild;t.convertNode(r);var a=null!=i?i:"";!i&&o&&o.forEach((function(t){var e=function(t,e){var n=t.length,r="",i="";return"left"===e?(r=":",n-=1):"right"===e?(i=":",n-=1):"center"===e&&(r=":",i=":",n-=2),""+r+st("-",Math.max(n,3))+i}(t.textContent,t.attrs.align);a+="| "+e+" "})),t.write(a+"|"),t.ensureNewLine()},tableBody:function(t,e){var n=e.node;t.convertNode(n)},tableRow:function(t,e){var n=e.node;t.convertNode(n),t.write("|"),t.ensureNewLine()},tableHeadCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},tableBodyCell:function(t,e,n){var r=e.node,i=n.delim,o=void 0===i?"| ":i;t.write(o),t.convertTableCell(r),t.write(" ")},customBlock:function(t,e,n){var r=e.node,i=n.delim,o=n.text,a=i,s=a[0],c=a[1];t.write(s),t.ensureNewLine(),t.text(o,!1),t.ensureNewLine(),t.write(c),t.closeBlock(r)},frontMatter:function(t,e,n){var r=e.node,i=n.text;t.text(i,!1),t.closeBlock(r)},widget:function(t,e,n){var r=n.text;t.write(r)},html:function(t,e,n){var r=n.text;t.write(r)}};function Qu(t,e){var n=t.text,r=/`+/g,i=0;if(t.isText&&n)for(var o=r.exec(n);o;)i=Math.max(i,o[0].length),o=r.exec(n);for(var a=i>0&&e>0?" `":"`",s=0;s<i;s+=1)a+="`";return i>0&&e<0&&(a+=" "),a}function tl(t){return t?["<"+t+">","</"+t+">"]:null}function el(t){return t?"<"+t+">":null}function nl(t){return t?"</"+t+">":null}var rl={heading:function(t){var e=t.node.attrs,n=e.level,r=st("#",n);return"setext"===e.headingType&&(r=1===n?"===":"---"),{delim:r,rawHTML:tl(e.rawHTML)}},codeBlock:function(t){var e=t.node,n=e.attrs,r=e.textContent;return{delim:["```"+(n.language||""),"```"],rawHTML:tl(n.rawHTML),text:r}},blockQuote:function(t){return{delim:"> ",rawHTML:tl(t.node.attrs.rawHTML)}},bulletList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ul"),{delim:"*",rawHTML:tl(i)}},orderedList:function(t,e){var n=t.node,r=e.inTable,i=n.attrs.rawHTML;return r&&(i=i||"ol"),{rawHTML:tl(i)}},listItem:function(t,e){var n=t.node,r=e.inTable,i=n.attrs,o=i.task,a=i.checked,s=n.attrs.rawHTML;return r&&(s=s||"li"),{rawHTML:s?["<"+s+(o?' class="task-list-item'+(a?" checked":"")+'"':"")+(o?" data-task"+(a?" data-task-checked":""):"")+">","</"+s+">"]:null}},table:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},tableHead:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},tableBody:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},tableRow:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},tableHeadCell:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},tableBodyCell:function(t){return{rawHTML:tl(t.node.attrs.rawHTML)}},image:function(t){var e=t.node.attrs,n=ct(e.altText||""),r=ct(e.imageUrl),i=n?' alt="'+n+'"':"";return{rawHTML:e.rawHTML?"<"+e.rawHTML+' src="'+r+'"'+i+">":null,attrs:{altText:n,imageUrl:r}}},thematicBreak:function(t){return{delim:"***",rawHTML:el(t.node.attrs.rawHTML)}},customBlock:function(t){var e=t.node,n=e.attrs,r=e.textContent;return{delim:["$$"+n.info,"$$"],text:r}},frontMatter:function(t){return{text:t.node.textContent}},widget:function(t){return{text:t.node.textContent}},strong:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"**",rawHTML:r?el(i):nl(i)}},emph:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"*",rawHTML:r?el(i):nl(i)}},strike:function(t,e){var n=t.node,r=e.entering,i=n.attrs.rawHTML;return{delim:"~~",rawHTML:r?el(i):nl(i)}},link:function(t,e){var n=t.node,r=e.entering,i=n.attrs,o=ct(i.linkUrl),a=i.rawHTML;return r?{delim:"[",rawHTML:a?"<"+a+' href="'+o+'">':null}:{delim:"]("+(i.title?" "+function(t){var e;return(e=-1===t.indexOf('"')?'""':-1===t.indexOf("'")?"''":"()")[0]+t+e[1]}(i.linkText):"")+o+")",rawHTML:nl(a)}},code:function(t,e){var n=t.node,r=t.parent,i=t.index,o=void 0===i?0:i,a=e.entering;return{delim:a?Qu(r.child(o),-1):Qu(r.child(o-1),1),rawHTML:a?el(n.attrs.rawHTML):nl(n.attrs.rawHTML)}},html:function(t,e){var n=t.node,r=e.entering,i=n.type.name,o=n.attrs.htmlAttrs,a="<"+i,s="</"+i+">";return Object.keys(o).forEach((function(t){a+=" "+t+'="'+o[t]+'"'})),a+=">",n.attrs.htmlInline?{rawHTML:r?a:s}:{text:""+a+n.attrs.childrenHTML+s}}},il={strong:{mixable:!0,removedEnclosingWhitespace:!0},emph:{mixable:!0,removedEnclosingWhitespace:!0},strike:{mixable:!0,removedEnclosingWhitespace:!0},code:{escape:!1},link:null,html:null};function ol(t){var e={};return Object.keys(Zu).forEach((function(n){e[n]=function(e,r){if(Zu[n]){var i=t[n],o=i?i(r,{inTable:e.inTable}):{};!function(t,e){var n=e.state,r=e.nodeInfo,i=e.params,o=i.rawHTML;o?T(t,["heading","codeBlock"])>-1?function(t,e,n){var r=n[0],i=n[1];t.write(r),t.convertInline(e),t.write(i)}(n,r.node,o):T(t,["image","thematicBreak"])>-1?n.write(o):function(t,e,n){var r=e.node,i=e.parent,o=n[0],a=n[1];t.stopNewline=!0,t.write(o),t.convertNode(r),t.write(a),"doc"===(null==i?void 0:i.type.name)&&(t.closeBlock(r),t.stopNewline=!1)}(n,r,o):Zu[t](n,r,i)}(n,{state:e,nodeInfo:r,params:o})}}})),e}function al(t){return Object.keys(t).forEach((function(e){var n=rl[e],r=t[e];rl[e]=n?function(t,e){return e.origin=function(){return n(t,e)},r(t,e)}:r,delete t[e]})),{nodeTypeConvertors:ol(rl),markTypeConvertors:function(t){var e={};return Object.keys(il).forEach((function(n){e[n]=function(e,r){var i=il[n],o=t[n],a=o&&e&&!O(r)?o(e,{entering:r}):{};return h(h({},a),i)}})),e}(rl)}}var sl=function(){function t(t){var e=t.nodeTypeConvertors,n=t.markTypeConvertors;this.nodeTypeConvertors=e,this.markTypeConvertors=n,this.delim="",this.result="",this.closed=!1,this.tightList=!1,this.stopNewline=!1,this.inTable=!1}return t.prototype.getMarkConvertor=function(t){var e=t.attrs.htmlInline?"html":t.type.name;return this.markTypeConvertors[e]},t.prototype.isInBlank=function(){return/(^|\n)$/.test(this.result)},t.prototype.markText=function(t,e,n,r){var i=this.getMarkConvertor(t);if(i){var o=i({node:t,parent:n,index:r},e),a=o.delim;return o.rawHTML||a}return""},t.prototype.flushClose=function(t){if(!this.stopNewline&&this.closed){if(this.isInBlank()||(this.result+="\n"),t||(t=2),t>1){var e=this.delim,n=/\s+$/.exec(e);n&&(e=e.slice(0,e.length-n[0].length));for(var r=1;r<t;r+=1)this.result+=e+"\n"}this.closed=!1}},t.prototype.wrapBlock=function(t,e,n,r){var i=this.delim;this.write(e||t),this.delim+=t,r(),this.delim=i,this.closeBlock(n)},t.prototype.ensureNewLine=function(){this.isInBlank()||(this.result+="\n")},t.prototype.write=function(t){void 0===t&&(t=""),this.flushClose(),this.delim&&this.isInBlank()&&(this.result+=this.delim),t&&(this.result+=t)},t.prototype.closeBlock=function(t){this.closed=t},t.prototype.text=function(t,e){void 0===e&&(e=!0);for(var n=t.split("\n"),r=0;r<n.length;r+=1)this.write(),this.result+=e?ct(n[r]):n[r],r!==n.length-1&&(this.result+="\n")},t.prototype.convertBlock=function(t,e,n){var r=t.type.name,i=this.nodeTypeConvertors[r],o={node:t,parent:e,index:n};t.attrs.htmlBlock?this.nodeTypeConvertors.html(this,o):i&&i(this,o)},t.prototype.convertInline=function(t){var e=this,n=[],r="",i=function(i,o,a){var s=i?i.marks:[],c=r;if(r="",i&&i.isText&&s.some((function(t){var n=e.getMarkConvertor(t),r=n&&n();return r&&r.removedEnclosingWhitespace}))&&i&&i.text){var u=/^(\s*)(.*?)(\s*)$/m.exec(i.text),l=u[1],f=u[2],d=u[3];c+=l,r=d,(l||d)&&((i=f?i.withText(f):null)||(s=n))}for(var h=s.length&&ft(s),p=h&&e.getMarkConvertor(h),m=p&&p(),v=m&&!1===m.escape,g=s.length-(v?1:0),y=0;y<g;y+=1){f=s[y];if(m&&!m.mixable)break;for(var b=0;b<n.length;b+=1){var w=n[b];if(m&&!m.mixable)break;if(f.eq(w)){y>b?s=s.slice(0,b).concat(f).concat(s.slice(b,y)).concat(s.slice(y+1,g)):b>y&&(s=s.slice(0,y).concat(s.slice(y+1,b)).concat(f).concat(s.slice(b,g)));break}}}for(var k=0;k<Math.min(n.length,g)&&s[k].eq(n[k]);)k+=1;for(;k<n.length;){var x=n.pop();x&&e.text(e.markText(x,!1,t,a),!1)}if(c&&e.text(c),i){for(;n.length<g;){f=s[n.length];n.push(f),e.text(e.markText(f,!0,t,a),!1)}v&&i.isText?e.text(e.markText(h,!0,t,a)+i.text+e.markText(h,!1,t,a+1),!1):e.convertBlock(i,t,a)}};t.forEach(i),i(null,0,t.childCount)},t.prototype.convertList=function(t,e,n){var r,i=this;this.closed&&this.closed.type===t.type?this.flushClose(3):this.tightList&&this.flushClose(1);var o=null===(r=t.attrs.tight)||void 0===r||r,a=this.tightList;this.tightList=o,t.forEach((function(r,a,s){s&&o&&i.flushClose(1),i.wrapBlock(e,n(s),t,(function(){return i.convertBlock(r,t,s)}))})),this.tightList=a},t.prototype.convertTableCell=function(t){var e=this;this.stopNewline=!0,this.inTable=!0,t.forEach((function(n,r,i){rt(["bulletList","orderedList"],n.type.name)?(e.convertBlock(n,t,i),e.closed=!1):(e.convertInline(n),i<t.childCount-1&&"paragraph"===t.child(i+1).type.name&&e.write("<br>"))})),this.stopNewline=!1,this.inTable=!1},t.prototype.convertNode=function(t,e){var n=this;return t.forEach((function(r,i,o){if(n.convertBlock(r,t,o),(null==e?void 0:e.node)===r){var a=n.result.split("\n");e.setMappedPos([a.length,ft(a).length+1])}})),this.result},t}(),cl=function(){function t(t,e,n,r){var i=this;this.setMappedPos=function(t){i.mappedPosWhenConverting=t},this.schema=t,this.eventEmitter=r,this.focusedNode=null,this.mappedPosWhenConverting=null,this.toWwConvertors=function(t){var e=Object.keys(t),n=h({},Yu),r=new Ca({gfm:!0,nodeId:!0,convertors:t}).getConvertors();return e.forEach((function(e){var i=Yu[e];i&&!rt(["htmlBlock","htmlInline"],e)&&(n[e]=function(n,o,a){a.origin=function(){return r[e](o,a)};var s,c=t[e](o,a);if(c){var u=Array.isArray(c)?c[0]:c;s={htmlAttrs:u.attributes,classNames:u.classNames}}i(n,o,a,s)})})),n}(n),this.toMdConvertors=al(e||{}),this.eventEmitter.listen("setFocusedNode",(function(t){return i.focusedNode=t}))}return t.prototype.getMappedPos=function(){return this.mappedPosWhenConverting},t.prototype.getInfoForPosSync=function(){return{node:this.focusedNode,setMappedPos:this.setMappedPos}},t.prototype.toWysiwygModel=function(t){return new Xu(this.schema,this.toWwConvertors).convertNode(t,this.getInfoForPosSync())},t.prototype.toMarkdownText=function(t){var e=new sl(this.toMdConvertors).convertNode(t,this.getInfoForPosSync());return e=this.eventEmitter.emitReduce("beforeConvertWysiwygToMarkdown",e)},t}();function ul(t,e,n){return e.listen("mixinTableOffsetMapPrototype",fc),(null!=t?t:[]).reduce((function(t,o){var s=function(t,e,n){var o={eventEmitter:e,usageStatistics:n,pmState:{Plugin:a.d,Selection:a.f,TextSelection:a.h},pmView:{Decoration:i.a,DecorationSet:i.b},pmModel:{Fragment:r.c},i18n:Cc};if(b(t)){var s=t[0],c=t[1];return s(o,void 0===c?{}:c)}return t(o)}(o,e,n);if(!s)throw new Error("The return value of the executed plugin is empty.");var c=s.markdownParsers,u=s.toHTMLRenderers,l=s.toMarkdownRenderers,f=s.markdownPlugins,d=s.wysiwygPlugins,p=s.wysiwygNodeViews,m=s.markdownCommands,v=s.wysiwygCommands,g=s.toolbarItems;return u&&(t.toHTMLRenderers=ht(t.toHTMLRenderers,u)),l&&(t.toMarkdownRenderers=ht(t.toMarkdownRenderers,l)),f&&(t.mdPlugins=t.mdPlugins.concat(f)),d&&(t.wwPlugins=t.wwPlugins.concat(d)),p&&(t.wwNodeViews=h(h({},t.wwNodeViews),p)),m&&(t.mdCommands=h(h({},t.mdCommands),m)),v&&(t.wwCommands=h(h({},t.wwCommands),v)),g&&(t.toolbarItems=t.toolbarItems.concat(g)),c&&(t.markdownParsers=h(h({},t.markdownParsers),c)),t}),{toHTMLRenderers:{},toMarkdownRenderers:{},mdPlugins:[],wwPlugins:[],wwNodeViews:{},mdCommands:{},wwCommands:{},toolbarItems:[],markdownParsers:{}})}var ll=function(){function t(t){var e=this;this.options=g({linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,usageStatistics:!0,theme:"light"},t),this.eventEmitter=new zu;var n,r=at(this.options.linkAttributes),i=ul(this.options.plugins,this.eventEmitter,this.options.usageStatistics)||{},o=i.toHTMLRenderers,a=i.markdownParsers,s=this.options,c=s.customHTMLRenderer,u=s.extendedAutolinks,l=s.referenceDefinition,f=s.frontMatter,d=s.customHTMLSanitizer,p={linkAttributes:r,customHTMLRenderer:h(h({},o),c),extendedAutolinks:u,referenceDefinition:l,frontMatter:f,sanitizer:d||_s};n=p.customHTMLRenderer,["htmlBlock","htmlInline"].forEach((function(t){n[t]&&Object.keys(n[t]).forEach((function(t){return Es(t)}))})),this.options.events&&v(this.options.events,(function(t,n){e.on(n,t)}));var m=this.options,y=m.el,b=m.initialValue,w=m.theme,k=y.innerHTML;"light"!==w&&y.classList.add(Ce(w)),y.innerHTML="",this.toastMark=new ba("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:u,referenceDefinition:l,disallowDeepHeading:!0,frontMatter:f,customParser:a}),this.preview=new Ks(this.eventEmitter,h(h({},p),{isViewer:!0})),_r(this.preview.el,"mousedown",this.toggleTask.bind(this)),b?this.setMarkdown(b):k&&this.preview.setHTML(k),y.appendChild(this.preview.previewContent),this.eventEmitter.emit("load",this)}return t.prototype.toggleTask=function(t){var e=t.target,n=getComputedStyle(e,":before");!e.hasAttribute("data-task-disabled")&&e.hasAttribute("data-task")&&_e(n,t.offsetX,t.offsetY)&&Oe(e,"checked")},t.prototype.setMarkdown=function(t){var e=this.toastMark.getLineTexts(),n=[e.length,ft(e).length+1],r=this.toastMark.editMarkdown([1,1],n,t||"");this.eventEmitter.emit("updatePreview",r)},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.destroy=function(){wr(this.preview.el,"mousedown",this.toggleTask.bind(this)),this.preview.destroy(),this.eventEmitter.emit("destroy")},t.prototype.isViewer=function(){return!0},t.prototype.isMarkdownMode=function(){return!1},t.prototype.isWysiwygMode=function(){return!1},t}();function fl(t){return t instanceof r.f}function dl(t){return rt(["document","blockQuote","bulletList","orderedList","listItem","paragraph","heading","emph","strong","strike","link","image","table","tableHead","tableBody","tableRow","tableHeadCell","tableBodyCell"],t)}var hl={openTag:function(t,e){var n=t,r=n.tagName,i=n.classNames,o=n.attributes,a=document.createElement(r),s={};i&&(a.className=i.join(" ")),o&&(s=h(h({},s),o)),Le(s,a),e.push(a)},closeTag:function(t,e){if(e.length>1){var n=e.pop();ft(e).appendChild(n)}},html:function(t,e){ft(e).insertAdjacentHTML("beforeend",t.content)},text:function(t,e){var n=document.createTextNode(t.content);ft(e).appendChild(n)}},pl=function(){function t(t,e){var n=Ns(t,e),r=h(h({},e.htmlBlock),e.htmlInline);this.customConvertorKeys=Object.keys(e).concat(Object.keys(r)),this.renderer=new Ca({gfm:!0,convertors:h(h({},n),r)}),this.convertors=this.renderer.getConvertors()}return t.prototype.generateTokens=function(t){var e=function(t){var e=t.attrs,n=t.type.name,r={type:n,wysiwygNode:!0,literal:!dl(n)&&fl(t)?t.textContent:null},i={heading:{level:e.level},link:{destination:e.linkUrl,title:e.linkText},image:{destination:e.imageUrl},codeBlock:{info:e.language},bulletList:{type:"list",listData:{type:"bullet"}},orderedList:{type:"list",listData:{type:"ordered",start:e.order}},listItem:{type:"item",listData:{task:e.task,checked:e.checked}},tableHeadCell:{type:"tableCell",cellType:"head",align:e.align},tableBodyCell:{type:"tableCell",cellType:"body",align:e.align},customBlock:{info:e.info}}[n],o=h(h({},r),i),a=t.attrs,s=a.htmlAttrs,c=a.childrenHTML;return s?h(h({},o),{attrs:s,childrenHTML:c}):o}(t),n={entering:!0,leaf:!!fl(t)&&t.isLeaf,options:this.renderer.getOptions(),getChildrenText:function(){return fl(t)?t.textContent:""},skipChildren:function(){return!1}},r=this.convertors[t.type.name],i=r(e,n,this.convertors),o=b(i)?i:[i];return(dl(t.type.name)||t.attrs.htmlInline)&&(n.entering=!1,o.push({type:"text",content:fl(t)?t.textContent:""}),o=o.concat(r(e,n,this.convertors))),o},t.prototype.toDOMNode=function(t){var e=this.generateTokens(t),n=[];return e.forEach((function(t){return hl[t.type](t,n)})),n[0]},t.prototype.getToDOMNode=function(t){return rt(this.customConvertorKeys,t)?this.toDOMNode.bind(this):null},t}(),ml=null,vl=null;function gl(t,e){var n=e.syncScrollTop,r=e.releaseEventBlock;vl&&clearTimeout(vl),n(t),vl=setTimeout((function(){r()}),15)}var yl=function(){function t(t,e,n){this.latestEditorScrollTop=null,this.latestPreviewScrollTop=null,this.blockedScroll=null,this.active=!0;var r=e.previewContent,i=e.el;this.previewRoot=r,this.previewEl=i,this.mdEditor=t,this.editorView=t.view,this.toastMark=t.getToastMark(),this.eventEmitter=n,this.addScrollSyncEvent()}return t.prototype.addScrollSyncEvent=function(){var t=this;this.eventEmitter.listen("afterPreviewRender",(function(){setTimeout((function(){t.syncPreviewScrollTop(!0)}),200)})),this.eventEmitter.listen("scroll",(function(e,n){t.active&&("editor"===e&&"editor"!==t.blockedScroll?t.syncPreviewScrollTop():"preview"===e&&"preview"!==t.blockedScroll&&t.syncEditorScrollTop(n))})),this.eventEmitter.listen("toggleScrollSync",(function(e){t.active=e}))},t.prototype.getMdNodeAtPos=function(t,e){var n=t.content.findIndex(e.pos).index;return this.toastMark.findFirstNodeAtLine(n+1)},t.prototype.getScrollTopByCaretPos=function(){var t=this.mdEditor.getSelection(),e=this.toastMark.findFirstNodeAtLine(t[0][0]),n=this.previewEl.clientHeight,r=Hs(e).el,i=(Us(r,this.previewRoot)||r.offsetTop)+r.clientHeight-.5*n;return this.latestEditorScrollTop=null,r.getBoundingClientRect().top-this.previewEl.getBoundingClientRect().top<n?null:i},t.prototype.syncPreviewScrollTop=function(t){void 0===t&&(t=!1);var e=this.editorView,n=this.previewEl,r=this.previewRoot,i=e.dom.getBoundingClientRect(),o=i.left,a=i.top,s=e.posAtCoords({left:o,top:a}),c=e.state.doc,u=this.getMdNodeAtPos(c,s);if(u&&!function(t){var e=t.type;return"htmlBlock"===e||"htmlInline"===e}(u)){var l=n.scrollTop,f=e.dom,d=f.scrollTop,h=f.scrollHeight,p=f.clientHeight,m=f.children,v=h-d<=p+18,g=v?n.scrollHeight:0;if(d&&!v){if(t){var y=this.getScrollTopByCaretPos();if(!y)return;g=y}else{var b=Hs(u),w=b.el,k=Bs(c,b.mdNode,m),x=k.height,S=k.rect;g=(Us(w,r)||w.offsetTop)+w.clientHeight*(a>S.top?Math.min((a-S.top)/x,1):0)}g=this.getResolvedScrollTop("editor",d,g,l),this.latestEditorScrollTop=d}g!==l&&this.run("editor",g,l)}},t.prototype.syncEditorScrollTop=function(t){var e=this.toastMark,n=this.editorView,r=this.previewRoot,i=this.previewEl,o=n.dom,a=n.state,s=i.scrollTop,c=i.clientHeight,u=i.scrollHeight-s<=c,l=o.scrollTop,f=u?o.scrollHeight:0;if(s&&t&&!u){if(!(t=function(t,e){for(;!t.getAttribute("data-nodeid")&&t.parentElement!==e;)t=t.parentElement;return t}(t,r)).getAttribute("data-nodeid"))return;var d=o.children,h=Number(t.getAttribute("data-nodeid")),p=Hs(e.findNodeById(h)),m=p.mdNode,v=p.el;f=d[Et(m)-1].offsetTop;var g=Bs(a.doc,m,d).height,y=Vs(v,r,h),b=y.nodeHeight;f+=function(t,e,n,r){return Math.min((t-e)/n,1)*r}(s,y.offsetTop,b,g),f=this.getResolvedScrollTop("preview",s,f,l),this.latestPreviewScrollTop=s}f!==l&&this.run("preview",f,l)},t.prototype.getResolvedScrollTop=function(t,e,n,r){var i="editor"===t?this.latestEditorScrollTop:this.latestPreviewScrollTop;return null===i?n:i<e?Math.max(n,r):Math.min(n,r)},t.prototype.run=function(t,e,n){var r,i=this;"editor"===t?(r=this.previewEl,this.blockedScroll="preview"):(r=this.editorView.dom,this.blockedScroll="editor"),function(t,e,n){var r=e-t,i=Date.now(),o=function(){var a,s=(Date.now()-i)/100;ml&&clearTimeout(ml),s<1?(a=t+r*Math.cos((1-s)*Math.PI/2),gl(Math.ceil(a),n),ml=setTimeout(o,1)):(gl(e,n),ml=null)};o()}(n,e,{syncScrollTop:function(t){return r.scrollTop=t},releaseEventBlock:function(){return i.blockedScroll=null}})},t.prototype.destroy=function(){this.eventEmitter.removeEventHandler("scroll"),this.eventEmitter.removeEventHandler("afterPreviewRender")},t}(),bl=function(){function t(t){var e=this;this.initialHTML=t.el.innerHTML,t.el.innerHTML="",this.options=g({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useCommandShortcut:!0,usageStatistics:!0,toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task","indent","outdent"],["table","image","link"],["code","codeblock"],["scrollSync"]],hideModeSwitch:!1,linkAttributes:null,extendedAutolinks:!1,customHTMLRenderer:null,customMarkdownRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null,frontMatter:!1,widgetRules:[],theme:"light",autofocus:!0},t);var n=this.options,r=n.customHTMLRenderer,i=n.extendedAutolinks,o=n.referenceDefinition,a=n.frontMatter,s=n.customMarkdownRenderer,c=n.useCommandShortcut,u=n.initialEditType,l=n.widgetRules,f=n.customHTMLSanitizer;this.mode=u||"markdown",this.mdPreviewStyle=this.options.previewStyle,this.i18n=Cc,this.i18n.setCode(this.options.language),this.eventEmitter=new zu,Kt(l);var d=at(this.options.linkAttributes);this.pluginInfo=ul(this.options.plugins,this.eventEmitter,this.options.usageStatistics);var p=this.pluginInfo,m=p.toHTMLRenderers,y=p.toMarkdownRenderers,b=p.mdPlugins,w=p.wwPlugins,k=p.wwNodeViews,x=p.mdCommands,S=p.wwCommands,E=p.markdownParsers,_={linkAttributes:d,customHTMLRenderer:ht(m,r),extendedAutolinks:i,referenceDefinition:o,frontMatter:a,sanitizer:f||_s},C=new pl(d,_.customHTMLRenderer),M=function(t,e,n){var r={nodes:{},marks:{}};return["htmlBlock","htmlInline"].forEach((function(i){t[i]&&Object.keys(t[i]).forEach((function(t){var o="htmlBlock"===i?"nodes":"marks";Es(t),r[o][t]=Os[i](t,e,n)}))})),r}(_.customHTMLRenderer,_.sanitizer,C);this.toastMark=new ba("",{disallowedHtmlBlockTags:["br","img"],extendedAutolinks:i,referenceDefinition:o,disallowDeepHeading:!0,frontMatter:a,customParser:E}),this.mdEditor=new hr(this.eventEmitter,{toastMark:this.toastMark,useCommandShortcut:c,mdPlugins:b}),this.preview=new Ks(this.eventEmitter,h(h({},_),{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=new Nu(this.eventEmitter,{toDOMAdaptor:C,useCommandShortcut:c,htmlSchemaMap:M,linkAttributes:d,wwPlugins:w,wwNodeViews:k}),this.convertor=new cl(this.wwEditor.getSchema(),h(h({},y),s),Ns(d,_.customHTMLRenderer),this.eventEmitter),this.setMinHeight(this.options.minHeight),this.setHeight(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHTML(this.initialHTML,!1),this.commandManager=new Hu(this.eventEmitter,this.mdEditor.commands,this.wwEditor.commands,(function(){return e.mode})),this.options.usageStatistics&&X("editor","UA-129966929-1"),this.scrollSync=new yl(this.mdEditor,this.preview,this.eventEmitter),this.addInitEvent(),this.addInitCommand(x,S),this.options.hooks&&v(this.options.hooks,(function(t,n){return e.addHook(n,t)})),this.options.events&&v(this.options.events,(function(t,n){return e.on(n,t)})),this.eventEmitter.emit("load",this),this.moveCursorToStart(this.options.autofocus)}return t.prototype.addInitEvent=function(){this.on("needChangeMode",this.changeMode.bind(this)),this.eventEmitter.listen("addImageBlobHook",(function(t,e){var n=new FileReader;n.onload=function(t){var n=t.target;return e(n.result)},n.readAsDataURL(t)}))},t.prototype.addInitCommand=function(t,e){var n=this,r=function(t,e){Object.keys(e).forEach((function(r){n.addCommand(t,r,e[r])}))};this.addCommand("markdown","toggleScrollSync",(function(t){return n.eventEmitter.emit("toggleScrollSync",t.active),!0})),r("markdown",t),r("wysiwyg",e)},t.prototype.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.factory=function(e){return e.viewer?new ll(e):new t(e)},t.setLanguage=function(t,e){Cc.setLanguage(t,e)},t.prototype.changePreviewStyle=function(t){this.mdPreviewStyle!==t&&(this.mdPreviewStyle=t,this.eventEmitter.emit("changePreviewStyle",t))},t.prototype.exec=function(t,e){this.commandManager.exec(t,e)},t.prototype.addCommand=function(t,e,n){var r=this;this.commandManager.addCommand(t,e,(function(e){void 0===e&&(e={});var i=("markdown"===t?r.mdEditor:r.wwEditor).view;n(e,i.state,i.dispatch,i)}))},t.prototype.on=function(t,e){this.eventEmitter.listen(t,e)},t.prototype.off=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.addHook=function(t,e){this.eventEmitter.removeEventHandler(t),this.eventEmitter.listen(t,e)},t.prototype.removeHook=function(t){this.eventEmitter.removeEventHandler(t)},t.prototype.focus=function(){this.getCurrentModeEditor().focus()},t.prototype.blur=function(){this.getCurrentModeEditor().blur()},t.prototype.moveCursorToEnd=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToEnd(t)},t.prototype.moveCursorToStart=function(t){void 0===t&&(t=!0),this.getCurrentModeEditor().moveCursorToStart(t)},t.prototype.setMarkdown=function(t,e){if(void 0===t&&(t=""),void 0===e&&(e=!0),this.mdEditor.setMarkdown(t,e),this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r,e)}},t.prototype.setHTML=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!0);var n=document.createElement("div");n.innerHTML=function(t){var e=t.replace(/<p><br\s*\/*><\/p>/gi,"<p></p>"),n=new RegExp(xe,"ig"),r=e.match(n);return null==r||r.forEach((function(t,n){if(Ee.test(t)){var i="</p><p>";if(n){var o=r[n-1].match(ke);if(o&&!/br/i.test(o[1])){var a=o[1];i="</"+a+"><"+a+">"}}e=e.replace(Ee,i)}})),e}(t);var i=r.a.fromSchema(this.wwEditor.schema).parse(n);this.isMarkdownMode()?this.mdEditor.setMarkdown(this.convertor.toMarkdownText(i),e):this.wwEditor.setModel(i,e)},t.prototype.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getMarkdown():this.convertor.toMarkdownText(this.wwEditor.getModel())},t.prototype.getHTML=function(){var t=this;return this.eventEmitter.holdEventInvoke((function(){if(t.isMarkdownMode()){var e=t.toastMark.getRootNode(),n=t.convertor.toWysiwygModel(e);t.wwEditor.setModel(n)}})),this.wwEditor.view.dom.innerHTML},t.prototype.insertText=function(t){this.getCurrentModeEditor().replaceSelection(t)},t.prototype.setSelection=function(t,e){this.getCurrentModeEditor().setSelection(t,e)},t.prototype.replaceSelection=function(t,e,n){this.getCurrentModeEditor().replaceSelection(t,e,n)},t.prototype.deleteSelection=function(t,e){this.getCurrentModeEditor().deleteSelection(t,e)},t.prototype.getSelectedText=function(t,e){return this.getCurrentModeEditor().getSelectedText(t,e)},t.prototype.getRangeInfoOfNode=function(t){return this.getCurrentModeEditor().getRangeInfoOfNode(t)},t.prototype.addWidget=function(t,e,n){this.getCurrentModeEditor().addWidget(t,e,n)},t.prototype.replaceWithWidget=function(t,e,n){this.getCurrentModeEditor().replaceWithWidget(t,e,n)},t.prototype.setHeight=function(t){var e=this.options.el;y(t)&&("auto"===t?(z(e,"auto-height"),this.setMinHeight(this.getMinHeight())):($(e,"auto-height"),this.setMinHeight(t))),M(e,{height:t}),this.height=t},t.prototype.getHeight=function(){return this.height},t.prototype.setMinHeight=function(t){var e;this.minHeight=t;var n=this.options.el.clientHeight-((null===(e=document.querySelector("."+Ce("main")))||void 0===e?void 0:e.clientHeight)||0),r=parseInt(t,10);r=Math.max(r-n,0),this.wwEditor.setMinHeight(r),this.mdEditor.setMinHeight(r),this.preview.setMinHeight(r)},t.prototype.getMinHeight=function(){return this.minHeight},t.prototype.isMarkdownMode=function(){return"markdown"===this.mode},t.prototype.isWysiwygMode=function(){return"wysiwyg"===this.mode},t.prototype.isViewer=function(){return!1},t.prototype.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.prototype.changeMode=function(t,e){if(this.mode!==t){if(this.mode=t,this.isWysiwygMode()){var n=this.toastMark.getRootNode(),r=this.convertor.toWysiwygModel(n);this.wwEditor.setModel(r)}else{r=this.wwEditor.getModel();this.mdEditor.setMarkdown(this.convertor.toMarkdownText(r),!e)}if(this.eventEmitter.emit("removePopupWidget"),this.eventEmitter.emit("changeMode",t),!e){var i=this.convertor.getMappedPos();this.focus(),this.isWysiwygMode()&&K(i)?this.wwEditor.setSelection(i):Array.isArray(i)&&this.mdEditor.setSelection(i)}}},t.prototype.destroy=function(){var t=this;this.wwEditor.destroy(),this.mdEditor.destroy(),this.preview.destroy(),this.scrollSync.destroy(),this.eventEmitter.emit("destroy"),this.eventEmitter.getEvents().forEach((function(e,n){return t.off(n)}))},t.prototype.hide=function(){this.eventEmitter.emit("hide")},t.prototype.show=function(){this.eventEmitter.emit("show")},t.prototype.setScrollTop=function(t){this.getCurrentModeEditor().setScrollTop(t)},t.prototype.getScrollTop=function(){return this.getCurrentModeEditor().getScrollTop()},t.prototype.reset=function(){this.wwEditor.setModel([]),this.mdEditor.setMarkdown("")},t.prototype.getSelection=function(){return this.getCurrentModeEditor().getSelection()},t.prototype.setPlaceholder=function(t){this.mdEditor.setPlaceholder(t),this.wwEditor.setPlaceholder(t)},t.prototype.getEditorElements=function(){return{mdEditor:this.mdEditor.getElement(),mdPreview:this.preview.getElement(),wwEditor:this.wwEditor.getElement()}},t}();var wl=function(t){return"boolean"==typeof t||t instanceof Boolean},kl=function(){function t(t){this.current=t,this.root=t,this.entering=!0}return t.prototype.walk=function(){var t=this.entering,e=this.current;return e?(t?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:e.next?(this.current=e.next,this.entering=!0):(this.current=e.parent,this.entering=!1),{vnode:e,entering:t}):null},t}(),xl=function(){function t(t,e,n){this.parent=null,this.old=null,this.firstChild=null,this.next=null,this.skip=!1,this.type=t,this.props=e,this.children=n,this.props.children=n,e.ref&&(this.ref=e.ref,delete e.ref),e.key&&(this.key=e.key,delete e.key)}return t.prototype.walker=function(){return new kl(this)},t.removalNodes=[],t}();function Sl(t,e){var n=t;wl(t)||null==t?n=null:(y(t)||K(t))&&(n=function(t){return new xl("TEXT_NODE",{nodeValue:t},[])}(String(t))),n&&e.push(n)}var El=function(t){for(var e,n,r=arguments,i=1,o="",a="",s=[0],c=function(t){1===i&&(t||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(t?r[t]:o):3===i&&(t||o)?(s[1]=t?r[t]:o,i=2):2===i&&"..."===o&&t?s[2]=vt(s[2]||{},r[t]):2===i&&o&&!t?(s[2]=s[2]||{})[o]=!0:i>=5&&(5===i?((s[2]=s[2]||{})[n]=t?o?o+r[t]:r[t]:o,i=6):(t||o)&&(s[2][n]+=t?o+r[t]:o)),o=""},u=0;u<t.length;u++){u&&(1===i&&c(),c(u));for(let r=0;r<t[u].length;r++)e=t[u][r],1===i?"<"===e?(c(),s=[s,"",null],i=3):o+=e:4===i?"--"===o&&">"===e?(i=1,o=""):o=e+o[0]:a?e===a?a="":o+=e:'"'===e||"'"===e?a=e:">"===e?(c(),i=1):i&&("="===e?(i=5,n=o,o=""):"/"===e&&(i<5||">"===t[u][r+1])?(c(),3===i&&(s=s[0]),i=s,(s=s[0]).push(this.apply(null,i.slice(1))),i=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(c(),i=2):o+=e),3===i&&"!--"===o&&(i=4,s=s[0])}return c(),s.length>2?s.slice(1):s[1]}.bind((function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=[];return n.forEach((function(t){Array.isArray(t)?t.forEach((function(t){Sl(t,i)})):Sl(t,i)})),new xl(t,e||{},i)}));var _l=function(t){return t===Object(t)};function Cl(t){var e;return"TEXT_NODE"===t.type?e=document.createTextNode(t.props.nodeValue):Ol(e=document.createElement(t.type),{},t.props),e}function Ml(t,e){t.node?e.removeChild(t.node):Ml(t.firstChild,e)}function Al(t,e,n){Object.keys(e).forEach((function(r){if(/^on/.test(r)){if(!n[r]||e[r]!==n[r]){var i=r.slice(2).toLowerCase();t.removeEventListener(i,e[r])}}else"children"===r||n[r]||function(t){return(null==t?void 0:t.nodeType)===Node.TEXT_NODE}(t)||t.removeAttribute(r)})),Ol(t,e,n,(function(t){return!lt(e[t],n[t])}))}var Tl=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function Ol(t,e,n,r){Object.keys(n).forEach((function(i){if(!r||r(i))if(/^on/.test(i)){var o=i.slice(2).toLowerCase();t.addEventListener(o,n[i])}else"nodeValue"===i?t[i]=n[i]:"style"===i&&_l(n[i])?function(t,e,n){e&&Object.keys(e).forEach((function(e){t.style[e]=""}));Object.keys(n).forEach((function(e){var r=n[e];t.style[e]=K(r)&&!Tl.test(e)?r+"px":r}))}(t,e[i],n[i]):"children"!==i&&(!1===n[i]?t.removeAttribute(i):t.setAttribute(i,n[i]))}))}function Dl(t){if(xl.removalNodes.forEach((function(t){return Nl(t)})),t)for(var e=void 0,n=t.walker();e=n.walk();)if(t=e.vnode,e.entering)Nl(t);else if(ue(t.type)){var r=t.component;if(!t.old&&r.mounted&&r.mounted(),t.old&&r.updated){var i=r.prevProps||{};r.updated(i)}}}function Il(t){for(var e=t.parent;!e.node;)e=e.parent;return e.node}function Nl(t){if(t&&t.parent){if(t.node){var e=Il(t);"A"===t.effect?e.appendChild(t.node):"U"===t.effect&&Al(t.node,t.old.props,t.props)}if("D"===t.effect)for(var n=void 0,r=t.walker();n=r.walk();)if(t=n.vnode,!n.entering)if(ue(t.type)){var i=t.component;i.beforeDestroy&&i.beforeDestroy()}else{Ml(t,e=Il(t))}t.ref&&(t.component?t.ref(t.component):t.node&&t.ref(t.node))}}function Pl(t,e){var n=e.props,r=e.component;return r?(r.prevProps=r.props,r.props=e.props,r):new t(n)}function Ll(t){for(var e=t;t&&!t.skip;){if(ue(t.type)){var n=Pl(t.type,t);n.vnode=t,t.component=n,t.props.children=t.children=[n.render()],Rl(t)}else t.node||(t.node=Cl(t)),Rl(t);if(t.firstChild)t=t.firstChild;else{for(;t&&t.parent&&!t.next&&(t=t.parent)!==e;);t=t.next}}}function Rl(t){var e=t.children,n=t.old?t.old.firstChild:null,r=null;e.forEach((function(e,i){var o=function(t,e){return t&&e&&e.type===t.type&&(!e.key||e.key===t.key)}(n,e);o&&(e.old=n,e.parent=t,e.node=n.node,e.component=n.component,e.effect="U"),e&&!o&&(e.old=null,e.parent=t,e.node=null,e.effect="A"),n&&!o&&(xl.removalNodes.push(n),n.effect="D"),n&&(n=n.next),0===i?t.firstChild=e:e&&(r.next=e),r=e}));var i=ft(e);if(!e.length)for(;n;)xl.removalNodes.push(n),n.effect="D",n=n.next;for(;n&&i;)n&&i.old!==n&&(xl.removalNodes.push(n),n.effect="D",n=n.next)}function Bl(t,e){var n=new xl(t.tagName.toLowerCase(),{},[e]);return n.node=t,xl.removalNodes=[],Ll(n),Dl(n),function(){return function(t){t.effect="D",xl.removalNodes=[t],Dl(),xl.removalNodes=[]}(n.firstChild)}}var jl,Ul=function(){function t(t){this.props=t,this.state={},this.refs={}}return t.prototype.setState=function(t){var e=h(h({},this.state),t);lt(this.state,e)||(this.state=e,function(t){var e=t.vnode;e.effect="U",e.old=e,e.next&&(e.next.skip=!0),xl.removalNodes=[],Ll(e),Dl(e),e.next&&(e.next.skip=!1)}(this))},t}(),zl=function(t){function e(e){var n=t.call(this,e)||this;return n.state={hide:!1},n}return d(e,t),e.prototype.show=function(){this.setState({hide:!1})},e.prototype.hide=function(){this.setState({hide:!0})},e.prototype.render=function(){var t=this.props,e=t.editorType,n=t.eventEmitter;return El(jl||(jl=m(['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style="display: ','">\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ",'\n        </div>\n        <div\n          class="tab-item','"\n          onClick=',"\n        >\n          ","\n        </div>\n      </div>\n    "])),Ce("mode-switch"),this.state.hide?"none":"block","markdown"===e?" active":"",(function(){n.emit("needChangeMode","markdown")}),Cc.get("Markdown"),"wysiwyg"===e?" active":"",(function(){n.emit("needChangeMode","wysiwyg")}),Cc.get("WYSIWYG"))},e}(Ul);var Hl=function(t,e){var n,r;return e=e||0,function(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){t.apply(null,r)}),e)}};var Fl=function(t,e){var n,r,i,o,a=!0,s=function(e){t.apply(null,e),n=null};function c(){if(o=Array.prototype.slice.call(arguments),a)return s(o),void(a=!1);i=Number(new Date),n=n||i,r(o),i-n>=e&&s(o)}return r=Hl(s,e=e||0),c.reset=function(){a=!0,n=null},c},ql=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}())}(),Vl="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,$l=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),Kl="function"==typeof requestAnimationFrame?requestAnimationFrame.bind($l):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var Wl=["top","right","bottom","left","width","height","size","weight"],Jl="undefined"!=typeof MutationObserver,Gl=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){Kl(o)}function s(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=t}return s}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){Vl&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Jl?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){Vl&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;Wl.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),Yl=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Xl=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||$l},Zl=of(0,0,0,0);function Ql(t){return parseFloat(t)||0}function tf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+Ql(t["border-"+n+"-width"])}),0)}function ef(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Zl;var r=Xl(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=Ql(o)}return e}(r),o=i.left+i.right,a=i.top+i.bottom,s=Ql(r.width),c=Ql(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==e&&(s-=tf(r,"left","right")+o),Math.round(c+a)!==n&&(c-=tf(r,"top","bottom")+a)),!function(t){return t===Xl(t).document.documentElement}(t)){var u=Math.round(s+o)-e,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return of(i.left,i.top,s,c)}var nf="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof Xl(t).SVGGraphicsElement}:function(t){return t instanceof Xl(t).SVGElement&&"function"==typeof t.getBBox};function rf(t){return Vl?nf(t)?function(t){var e=t.getBBox();return of(0,0,e.width,e.height)}(t):ef(t):Zl}function of(t,e,n,r){return{x:t,y:e,width:n,height:r}}var af=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=of(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=rf(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),sf=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return Yl(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}(e);Yl(this,{target:t,contentRect:n})},cf=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new ql,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Xl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new af(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof Xl(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new sf(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),uf="undefined"!=typeof WeakMap?new WeakMap:new ql,lf=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Gl.getInstance(),r=new cf(e,n,this);uf.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){lf.prototype[t]=function(){var e;return(e=uf.get(this))[t].apply(e,arguments)}}));var ff,df,hf,pf,mf,vf,gf,yf,bf,wf,kf,xf,Sf,Ef,_f,Cf,Mf=void 0!==$l.ResizeObserver?$l.ResizeObserver:lf,Af=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.execCommand=function(t){var e=Ne(t.target,"li");this.props.execCommand("heading",{level:Number(e.getAttribute("data-level"))})},e.prototype.render=function(){var t=this;return El(df||(df=m(["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "],["\n      <ul\n        onClick=",'\n        aria-role="menu"\n        aria-label="','"\n      >\n        ','\n        <li data-type="Paragraph" aria-role="menuitem">\n          <div>',"</div>\n        </li>\n      </ul>\n    "])),(function(e){return t.execCommand(e)}),Cc.get("Headings"),[1,2,3,4,5,6].map((function(t){return El(ff||(ff=m(['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "],['\n              <li data-level="','" data-type="Heading" aria-role="menuitem">\n                <',">"," ","</$>\n              </li>\n            "])),t,"h"+t,Cc.get("Heading"),t)})),Cc.get("Paragraph"))},e}(Ul),Tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.toggleTab=function(t,e){this.props.onClick(t,e)},e.prototype.render=function(){var t=this;return El(pf||(pf=m(['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "],['\n      <div class="','" aria-role="tabpanel">\n        ',"\n      </div>\n    "])),Ce("tabs"),this.props.tabs.map((function(e){var n=e.name,r=e.text,i=t.props.activeTab===n;return El(hf||(hf=m(['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "],['\n            <div\n              class="tab-item','"\n              onClick=','\n              aria-role="tab"\n              aria-label="','"\n              aria-selected="','"\n              tabindex="','"\n            >\n              ',"\n            </div>\n          "])),i?" active":"",(function(e){return t.toggleTab(e,n)}),Cc.get(r),i?"true":"false",i?"0":"-1",Cc.get(r))})))},e}(Ul),Of=function(t){function e(e){var n=t.call(this,e)||this;return n.initialize=function(t){void 0===t&&(t="file");var e=n.refs.url;e.value="",n.refs.altText.value="",n.refs.file.value="",$(e,"wrong"),n.setState({activeTab:t,file:null,fileNameElClassName:""})},n.execCommand=function(){"file"===n.state.activeTab?n.emitAddImageBlob():n.emitAddImage()},n.toggleTab=function(t,e){e!==n.state.activeTab&&n.initialize(e)},n.showFileSelectBox=function(){n.refs.file.click()},n.changeFile=function(t){var e=t.target.files;(null==e?void 0:e.length)&&n.setState({file:e[0]})},n.state={activeTab:"file",file:null,fileNameElClassName:""},n.tabs=[{name:"file",text:"File"},{name:"url",text:"URL"}],n}return d(e,t),e.prototype.emitAddImageBlob=function(){var t=this,e=this.refs.file.files,n=this.refs.altText,r=" wrong";if(null==e?void 0:e.length){r="";var i=e.item(0);this.props.eventEmitter.emit("addImageBlobHook",i,(function(e,r){return t.props.execCommand("addImage",{imageUrl:e,altText:r||n.value})}),"ui")}this.setState({fileNameElClassName:r})},e.prototype.emitAddImage=function(){var t=this.refs.url,e=this.refs.altText,n=t.value,r=e.value||"image";$(t,"wrong"),n.length?n&&this.props.execCommand("addImage",{imageUrl:n,altText:r}):z(t,"wrong")},e.prototype.preventSelectStart=function(t){t.preventDefault()},e.prototype.updated=function(){this.props.show||this.initialize()},e.prototype.render=function(){var t=this,e=this.state,n=e.activeTab,r=e.file,i=e.fileNameElClassName;return El(mf||(mf=m(['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <'," tabs="," activeTab="," onClick=",' />\n        <div style="display:','">\n          <label for="toastuiImageUrlInput">','</label>\n          <input\n            id="toastuiImageUrlInput"\n            type="text"\n            ref=','\n          />\n        </div>\n        <div style="display:',';position: relative;">\n          <label for="toastuiImageFileInput">','</label>\n          <span\n            class="',"",'"\n            onClick=',"\n            onSelectstart=","\n          >\n            ",'\n          </span>\n          <button\n            type="button"\n            class="','"\n            onClick=',"\n          >\n            ",'\n          </button>\n          <input\n            id="toastuiImageFileInput"\n            type="file"\n            accept="image/*"\n            onChange=',"\n            ref=",'\n          />\n        </div>\n        <label for="toastuiAltTextInput">','</label>\n        <input\n          id="toastuiAltTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),Cc.get("Insert image"),Tf,this.tabs,n,this.toggleTab,"url"===n?"block":"none",Cc.get("Image URL"),(function(e){return t.refs.url=e}),"file"===n?"block":"none",Cc.get("Select image file"),Ce("file-name"),r?" has-file":i,this.showFileSelectBox,this.preventSelectStart,r?r.name:Cc.get("No file"),Ce("file-select-button"),this.showFileSelectBox,Cc.get("Choose a file"),this.changeFile,(function(e){return t.refs.file=e}),Cc.get("Description"),(function(e){return t.refs.altText=e}),Ce("button-container"),Ce("close-button"),this.props.hidePopup,Cc.get("Cancel"),Ce("ok-button"),this.execCommand,Cc.get("OK"))},e}(Ul),Df=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.execCommand=function(){var t=e.refs.url,n=e.refs.text;($(t,"wrong"),$(n,"wrong"),t.value.length<1)?z(t,"wrong"):O(e.props.initialValues.linkUrl)&&n.value.length<1?z(n,"wrong"):e.props.execCommand("addLink",{linkUrl:t.value,linkText:n.value})},e}return d(e,t),e.prototype.initialize=function(){var t=this.props.initialValues,e=t.linkUrl,n=t.linkText,r=this.refs.url,i=this.refs.text;$(r,"wrong"),$(i,"wrong","disabled"),i.removeAttribute("disabled"),e&&(z(i,"disabled"),i.setAttribute("disabled","disabled")),r.value=e||"",i.value=n||""},e.prototype.mounted=function(){this.initialize()},e.prototype.updated=function(t){!t.show&&this.props.show&&this.initialize()},e.prototype.render=function(){var t=this;return El(vf||(vf=m(['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "],['\n      <div aria-label="','">\n        <label for="toastuiLinkUrlInput">','</label>\n        <input\n          id="toastuiLinkUrlInput"\n          type="text"\n          ref=','\n        />\n        <label for="toastuiLinkTextInput">','</label>\n        <input\n          id="toastuiLinkTextInput"\n          type="text"\n          ref=','\n        />\n        <div class="','">\n          <button type="button" class="','" onClick=',">\n            ",'\n          </button>\n          <button type="button" class="','" onClick=',">\n            ","\n          </button>\n        </div>\n      </div>\n    "])),Cc.get("Insert link"),Cc.get("URL"),(function(e){return t.refs.url=e}),Cc.get("Link text"),(function(e){return t.refs.text=e}),Ce("button-container"),Ce("close-button"),this.props.hidePopup,Cc.get("Cancel"),Ce("ok-button"),this.execCommand,Cc.get("OK"))},e}(Ul),If=function(t){function e(e){var n=t.call(this,e)||this;return n.extendSelectionRange=function(t){var e=t.pageX,r=t.pageY,i=e-n.offsetRect.left,o=r-n.offsetRect.top,a=n.getSelectionRangeByOffset(i,o);n.setState(h({},a))},n.execCommand=function(){n.props.execCommand("addTable",{rowCount:n.state.rowIdx+1,columnCount:n.state.colIdx+1})},n.state={rowIdx:-1,colIdx:-1},n}return d(e,t),e.prototype.getDescription=function(){return-1===this.state.colIdx?"":this.state.colIdx+1+" x "+(this.state.rowIdx+1)},e.prototype.getBoundByRange=function(t,e){return{width:20*(t+1),height:20*(e+1)}},e.prototype.getRangeByOffset=function(t,e){return{colIdx:Math.floor(t/20),rowIdx:Math.floor(e/20)}},e.prototype.getTableRange=function(){var t=this.state,e=t.colIdx,n=t.rowIdx,r=Math.max(e,5),i=Math.max(n,5);return e>=5&&r<9&&(r+=1),n>=5&&i<14&&(i+=1),{colIdx:r+1,rowIdx:i+1}},e.prototype.getSelectionAreaBound=function(){var t=this.getBoundByRange(this.state.colIdx,this.state.rowIdx),e=t.width,n=t.height;return e||n?{width:e-1,height:n-1,display:"block"}:{display:"none"}},e.prototype.getSelectionRangeByOffset=function(t,e){var n=this.getRangeByOffset(t,e);return n.rowIdx=Math.min(Math.max(n.rowIdx,1),14),n.colIdx=Math.min(Math.max(n.colIdx,1),9),n},e.prototype.updated=function(){if(this.props.show){if(-1===this.state.colIdx&&-1===this.state.rowIdx){var t=this.refs.tableEl.getBoundingClientRect(),e=t.left,n=t.top;this.offsetRect={left:window.pageXOffset+e,top:window.pageYOffset+n}}}else this.setState({colIdx:-1,rowIdx:-1})},e.prototype.createTableArea=function(t){for(var e=t.colIdx,n=t.rowIdx,r=[],i=0;i<n;i+=1){for(var o=[],a=0;a<e;a+=1){var s=Ce("table-cell")+(i>0?"":" header");o.push(El(gf||(gf=m(['<div class="','"></div>'],['<div class="','"></div>'])),s))}r.push(El(yf||(yf=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Ce("table-row"),o))}return El(bf||(bf=m(['<div class="','">',"</div>"],['<div class="','">',"</div>"])),Ce("table"),r)},e.prototype.render=function(){var t=this,e=this.getTableRange(),n=this.getSelectionAreaBound();return El(wf||(wf=m(['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "],['\n      <div aria-label="','">\n        <div\n          class="','"\n          ref=',"\n          onMousemove=","\n          onClick=","\n        >\n          ",'\n          <div class="','" style=','></div>\n        </div>\n        <p class="','">',"</p>\n      </div>\n    "])),Cc.get("Insert table"),Ce("table-selection"),(function(e){return t.refs.tableEl=e}),this.extendSelectionRange,this.execCommand,this.createTableArea(e),Ce("table-selection-layer"),n,Ce("table-description"),this.getDescription())},e}(Ul),Nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.mounted=function(){this.refs.el.appendChild(this.props.body)},e.prototype.render=function(){var t=this;return El(kf||(kf=m(["<div ref=","></div>"],["<div ref=","></div>"])),(function(e){return t.refs.el=e}))},e}(Ul);function Pf(t){return y(t)?function(t){var e;switch(t){case"heading":e={name:"heading",className:"heading",tooltip:Cc.get("Headings"),state:"heading"};break;case"bold":e={name:"bold",className:"bold",command:"bold",tooltip:Cc.get("Bold"),state:"strong"};break;case"italic":e={name:"italic",className:"italic",command:"italic",tooltip:Cc.get("Italic"),state:"emph"};break;case"strike":e={name:"strike",className:"strike",command:"strike",tooltip:Cc.get("Strike"),state:"strike"};break;case"hr":e={name:"hr",className:"hrline",command:"hr",tooltip:Cc.get("Line"),state:"thematicBreak"};break;case"quote":e={name:"quote",className:"quote",command:"blockQuote",tooltip:Cc.get("Blockquote"),state:"blockQuote"};break;case"ul":e={name:"ul",className:"bullet-list",command:"bulletList",tooltip:Cc.get("Unordered list"),state:"bulletList"};break;case"ol":e={name:"ol",className:"ordered-list",command:"orderedList",tooltip:Cc.get("Ordered list"),state:"orderedList"};break;case"task":e={name:"task",className:"task-list",command:"taskList",tooltip:Cc.get("Task"),state:"taskList"};break;case"table":e={name:"table",className:"table",tooltip:Cc.get("Insert table"),state:"table"};break;case"image":e={name:"image",className:"image",tooltip:Cc.get("Insert image")};break;case"link":e={name:"link",className:"link",tooltip:Cc.get("Insert link")};break;case"code":e={name:"code",className:"code",command:"code",tooltip:Cc.get("Code"),state:"code"};break;case"codeblock":e={name:"codeblock",className:"codeblock",command:"codeBlock",tooltip:Cc.get("Insert CodeBlock"),state:"codeBlock"};break;case"indent":e={name:"indent",className:"indent",command:"indent",tooltip:Cc.get("Indent")};break;case"outdent":e={name:"outdent",className:"outdent",command:"outdent",tooltip:Cc.get("Outdent")};break;case"scrollSync":e=function(){var t=document.createElement("label"),e=document.createElement("input"),n=document.createElement("span");t.className="scroll-sync active",e.type="checkbox",e.checked=!0,n.className="switch";return t.appendChild(e),t.appendChild(n),{name:"scrollSync",el:t,onMounted:function(n){return e.addEventListener("change",(function(e){var r=e.target.checked;r?z(t,"active"):$(t,"active"),n("toggleScrollSync",{active:r})}))}}}();break;case"more":e={name:"more",className:"more",tooltip:Cc.get("More")}}"scrollSync"!==e.name&&(e.className+=" "+Ce("toolbar-icons"));return e}(t):t}function Lf(t,e){var n=e.el,r=e.pos,i=e.popup,o=e.initialValues;switch(t){case"heading":return{render:function(t){return El(xf||(xf=m(["<"," ..."," />"],["<"," ..."," />"])),Af,t)},className:Ce("popup-add-heading"),fromEl:n,pos:r};case"link":return{render:function(t){return El(Sf||(Sf=m(["<"," ..."," />"],["<"," ..."," />"])),Df,t)},className:Ce("popup-add-link"),fromEl:n,pos:r,initialValues:o};case"image":return{render:function(t){return El(Ef||(Ef=m(["<"," ..."," />"],["<"," ..."," />"])),Of,t)},className:Ce("popup-add-image"),fromEl:n,pos:r};case"table":return{render:function(t){return El(_f||(_f=m(["<"," ..."," />"],["<"," ..."," />"])),If,t)},className:Ce("popup-add-table"),fromEl:n,pos:r};case"customPopupBody":return i?h({render:function(t){return El(Cf||(Cf=m(["<"," ..."," body="," />"],["<"," ..."," body="," />"])),Nf,t,i.body)},fromEl:n,pos:r},i):null;default:return null}}function Rf(t){t.hidden=t.length===t.filter((function(t){return t.hidden})).length}function Bf(t,e){return t.reduce((function(t,n){t.push(n.map((function(t){return function(t){return t.hidden="scrollSync"===t.name&&e,t}(Pf(t))})));var r=t[(t.length||1)-1];return r&&Rf(r),t}),[])}var jf,Uf,zf=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMousedown=function(t){Ne(t.target,"."+Ce("popup"))||Ne(t.target,e.props.info.fromEl)||e.props.hidePopup()},e}return d(e,t),e.prototype.mounted=function(){document.addEventListener("mousedown",this.handleMousedown),this.props.eventEmitter.listen("closePopup",this.props.hidePopup)},e.prototype.beforeDestroy=function(){document.removeEventListener("mousedown",this.handleMousedown)},e.prototype.updated=function(t){var e=this.props,n=e.show,r=e.info;if(n&&r.pos&&t.show!==n){var i=h({},r.pos),o=this.refs.el.offsetWidth,a=Ne(this.refs.el,"."+Ce("toolbar")).offsetWidth;i.left+o>=a&&(i.left=a-o-20),lt(this.state.popupPos,i)||this.setState({popupPos:i})}},e.prototype.render=function(){var t=this,e=this.props,n=e.info,r=e.show,i=e.hidePopup,o=e.eventEmitter,a=e.execCommand,s=n||{},c=s.className,u=void 0===c?"":c,l=s.style,f=s.render,d=s.initialValues,p=void 0===d?{}:d,v=h(h({display:r?"block":"none"},l),this.state.popupPos);return El(jf||(jf=m(['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "],['\n      <div\n        class="'," ",'"\n        style=',"\n        ref=",'\n        aria-role="dialog"\n      >\n        <div class="','">\n          ',"\n        </div>\n      </div>\n    "])),Ce("popup"),u,v,(function(e){return t.refs.el=e}),Ce("popup-body"),f&&f({eventEmitter:o,show:r,hidePopup:i,execCommand:a,initialValues:p}))},e}(Ul);function Hf(t){return function(e){function n(t){var n=e.call(this,t)||this;return n.showTooltip=function(t){var e=n.props.item.tooltip;if(!n.props.disabled&&e){var r=n.getBound(t),i=r.left+6+"px",o=r.top+6+"px";M(n.props.tooltipRef.current,{display:"block",left:i,top:o}),n.props.tooltipRef.current.querySelector(".text").textContent=e}},n.hideTooltip=function(){M(n.props.tooltipRef.current,"display","none")},n.state={active:!1},n.addEvent(),n}return d(n,e),n.prototype.addEvent=function(){var t=this,e=this.props,n=e.item,r=e.eventEmitter;n.state&&r.listen("changeToolbarState",(function(e){var r=!!e.toolbarState[n.state];t.setState({active:r})}))},n.prototype.getBound=function(t){var e=Pe(t,Ne(t,"."+Ce("toolbar"))),n=e.offsetLeft,r=e.offsetTop;return{left:n,top:t.offsetHeight+r}},n.prototype.render=function(){return El(Uf||(Uf=m(["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "],["\n        <","\n          ...","\n          active=","\n          showTooltip=","\n          hideTooltip=","\n          getBound=","\n        />\n      "])),t,this.props,this.state.active,this.showTooltip,this.hideTooltip,this.getBound)},n}(Ul)}var Ff,qf,Vf,$f,Kf,Wf,Jf,Gf,Yf,Xf,Zf,Qf,td,ed,nd=Hf(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.execCommand=function(){var t=e.props,n=t.item,r=t.execCommand,i=t.setPopupInfo,o=t.getBound,a=n.command,s=n.name,c=n.popup;if(a)r(a);else{var u=Lf(c?"customPopupBody":s,{el:e.refs.el,pos:o(e.refs.el),popup:c});u&&i(u)}},e}return d(e,t),e.prototype.mounted=function(){this.setItemWidth()},e.prototype.updated=function(t){t.item.name!==this.props.item.name&&this.setItemWidth()},e.prototype.setItemWidth=function(){var t=this.props,e=t.setItemWidth,n=t.item;e&&e(n.name,Ie(this.refs.el)+(n.hidden?80:0))},e.prototype.render=function(){var t=this,e=this.props,n=e.hideTooltip,r=e.disabled,i=e.item,o=e.active,a=h({display:i.hidden?"none":null},i.style),s=(i.className||"")+(o?" active":"");return El(Ff||(Ff=m(["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "],["\n      <button\n        ref=",'\n        type="button"\n        style=',"\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n        disabled=","\n        aria-label=","\n      >\n        ","\n      </button>\n    "])),(function(e){return t.refs.el=e}),a,s,this.execCommand,this.showTooltip,n,!!r,i.text||i.tooltip||"",i.text||"")},e}(Ul)),rd=Hf(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.showTooltip=function(){e.props.showTooltip(e.refs.el)},e.showPopup=function(){var t=Lf("customPopupBody",{el:e.refs.el,pos:e.props.getBound(e.refs.el),popup:e.props.item.popup});t&&e.props.setPopupInfo(t)},e}return d(e,t),e.prototype.mounted=function(){var t=this.props,e=t.setItemWidth,n=t.item;this.refs.el.appendChild(n.el),e&&e(n.name,Ie(this.refs.el)),n.onMounted&&n.onMounted(this.props.execCommand)},e.prototype.updated=function(t){var e,n=this.props,r=n.item,i=n.active,o=n.disabled;t.active===i&&t.disabled===o||null===(e=r.onUpdated)||void 0===e||e.call(r,{active:i,disabled:o})},e.prototype.render=function(){var t=this,e=this.props,n=e.disabled,r={display:e.item.hidden?"none":"inline-block"},i=function(t){return n?null:t};return El(qf||(qf=m(["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "],["\n      <div\n        ref=","\n        style=","\n        class=","\n        onClick=","\n        onMouseover=","\n        onMouseout=","\n      ></div>\n    "])),(function(e){return t.refs.el=e}),r,Ce("toolbar-item-wrapper"),i(this.showPopup),i(this.showTooltip),i(this.props.hideTooltip))},e}(Ul)),id=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.group,r=e.hiddenDivider,i=n.hidden?{display:"none"}:null,o=r?{display:"none"}:null;return El($f||($f=m(['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        ",'\n        <div class="','" style=',"></div>\n      </div>\n    "])),Ce("toolbar-group"),i,n.map((function(e){var n=e.el?rd:nd;return El(Vf||(Vf=m(["<"," key="," ..."," item="," />"],["<"," key="," ..."," item="," />"])),n,e.name,t.props,e)})),Ce("toolbar-divider"),o)},e}(Ul),od=Hf(function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){var e=t.target;Ne(e,"."+Ce("dropdown-toolbar"))||Ne(e,".more")||n.setState({showDropdown:!1,dropdownPos:null})},n.showTooltip=function(){n.props.showTooltip(n.refs.el)},n.state={showDropdown:!1,dropdownPos:null},n}return d(e,t),e.prototype.getBound=function(){var t=this.props.getBound(this.refs.el);return t.top+=4,h(h({},t),{left:null,right:10})},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.updated=function(){this.state.showDropdown&&!this.state.dropdownPos&&this.setState({dropdownPos:this.getBound()})},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.render=function(){var t=this,e=this.state,n=e.showDropdown,r=e.dropdownPos,i=this.props,o=i.disabled,a=i.item,s=i.items,c=i.hideTooltip,u=s.filter((function(t){return!t.hidden})),l=u.length?null:{display:"none"},f=n?null:{display:"none"};return El(Wf||(Wf=m(['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "],['\n      <div class="','" style=',">\n        <button\n          ref=",'\n          type="button"\n          class=',"\n          onClick=","\n          onMouseover=","\n          onMouseout=","\n          disabled=",'\n        ></button>\n        <div\n          class="','"\n          style=',"\n          ref=","\n        >\n          ","\n        </div>\n      </div>\n    "])),Ce("toolbar-group"),l,(function(e){return t.refs.el=e}),a.className,(function(){return t.setState({showDropdown:!0})}),this.showTooltip,c,o,Ce("dropdown-toolbar"),h(h({},f),r),(function(e){return t.refs.dropdownEl=e}),u.length?u.map((function(e,n){var r;return El(Kf||(Kf=m(["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "],["\n                  <","\n                    group=","\n                    hiddenDivider=","\n                    ...","\n                  />\n                "])),id,e,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),t.props)})):null)},e}(Ul)),ad=function(t){function e(e){var n=t.call(this,e)||this;return n.toggleTab=function(t,e){var r=n.props.eventEmitter;if(n.state.activeTab!==e){var i="write"===e?"changePreviewTabWrite":"changePreviewTabPreview";r.emit(i),n.setState({activeTab:e})}},n.setItemWidth=function(t,e){n.itemWidthMap[t]=e},n.setPopupInfo=function(t){n.setState({showPopup:!0,popupInfo:t})},n.openPopup=function(t,e){void 0===e&&(e={});var r=document.querySelector("."+Ce("toolbar-group")+" ."+t);if(r){var i=Pe(r,Ne(r,"."+Ce("toolbar"))),o=i.offsetLeft,a=i.offsetTop,s=Lf(t,{el:r,pos:{left:o,top:r.offsetHeight+a},initialValues:e});s&&n.setPopupInfo(s)}},n.hidePopup=function(){n.state.showPopup&&n.setState({showPopup:!1})},n.execCommand=function(t,e){n.props.eventEmitter.emit("command",t,e),n.hidePopup()},n.tabs=[{name:"write",text:"Write"},{name:"preview",text:"Preview"}],n.itemWidthMap={},n.initialItems=Bf(e.toolbarItems||[],n.hiddenScrollSync()),n.state={items:n.initialItems,dropdownItems:[],showPopup:!1,popupInfo:{},activeTab:"write"},n.tooltipRef={current:null},n.resizeObserver=new Mf((function(){return n.handleResize()})),n.addEvent(),n}return d(e,t),e.prototype.insertToolbarItem=function(t,e){var n=t.groupIndex,r=t.itemIndex,i=this.initialItems[n];e=Pf(e),i?i.splice(r,0,e):this.initialItems.push([e]),this.setState(this.classifyToolbarItems())},e.prototype.removeToolbarItem=function(t){var e=this;w(this.initialItems,(function(n){var r=!1;return w(n,(function(i,o){return i.name!==t||(r=!0,n.splice(o,1),e.setState(e.classifyToolbarItems()),!1)})),!r}))},e.prototype.addEvent=function(){var t=this,e=this.props.eventEmitter;this.handleResize=Fl((function(){t.setState({items:t.initialItems,dropdownItems:[]}),t.setState(t.classifyToolbarItems())}),200),e.listen("openPopup",this.openPopup)},e.prototype.appendTooltipToRoot=function(){var t='<div class="'+Ce("tooltip")+'" style="display:none">\n        <div class="arrow"></div>\n        <span class="text"></span>\n      </div>';this.tooltipRef.current=De(t,this.refs.el)},e.prototype.hiddenScrollSync=function(){return"wysiwyg"===this.props.editorType||"tab"===this.props.previewStyle},e.prototype.movePrevItemToDropdownToolbar=function(t,e,n,r){var i=function(t){var e=t.pop();e&&r.push(e)};if(t>1)i(n);else{var o=ft(e);o&&i(o)}},e.prototype.classifyToolbarItems=function(){var t=this,e=0,n=this.refs.el.clientWidth,r=this.refs.el.querySelector("."+Ce("toolbar-divider")),i=r?Ie(r):0,o=[],a=[],s=!1;return this.initialItems.forEach((function(r,c){var u=[],l=[];r.forEach((function(r,i){r.hidden||((e+=t.itemWidthMap[r.name])>n-50?(s||(t.movePrevItemToDropdownToolbar(i,o,u,l),s=!0),l.push(r)):u.push(r))})),u.length&&(Rf(u),o.push(u)),l.length&&(Rf(l),a.push(l)),c<t.state.items.length-1&&(e+=i)})),{items:o,dropdownItems:a}},e.prototype.mounted=function(){"tab"===this.props.previewStyle&&this.props.eventEmitter.emit("changePreviewTabWrite"),this.setState(this.classifyToolbarItems()),this.appendTooltipToRoot(),this.resizeObserver.observe(this.refs.el)},e.prototype.updated=function(t){var e,n,r=this.props,i=r.editorType,o=r.previewStyle,a=r.eventEmitter,s=o!==t.previewStyle,c=i!==t.editorType;if(s||c){e=this.initialItems,n=this.hiddenScrollSync(),e.forEach((function(t){t.forEach((function(t){return t.hidden="scrollSync"===t.name&&n})),Rf(t)}));var u=this.classifyToolbarItems();(s||"tab"===o&&"markdown"===i)&&(a.emit("changePreviewTabWrite"),u.activeTab="write"),this.setState(u)}},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.handleResize),this.resizeObserver.disconnect(),Te(this.tooltipRef.current)},e.prototype.render=function(){var t=this,e=this.props,n=e.previewStyle,r=e.eventEmitter,i=e.editorType,o=this.state,a=o.popupInfo,s=o.showPopup,c=o.activeTab,u=o.items,l=o.dropdownItems,f={eventEmitter:r,tooltipRef:this.tooltipRef,disabled:"markdown"===i&&"tab"===n&&"preview"===c,execCommand:this.execCommand,setPopupInfo:this.setPopupInfo},d="tab"===n?{borderTopLeftRadius:0}:null;return El(Gf||(Gf=m(['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "],['\n      <div class="','">\n        <div\n          class="','"\n          style="display: ','"\n        >\n          <'," tabs="," activeTab="," onClick=",' />\n        </div>\n        <div\n          class="','"\n          ref=',"\n          style=","\n        >\n          ","\n          <","\n            item=","\n            items=","\n            ...","\n          />\n        </div>\n        <","\n          info=","\n          show=","\n          eventEmitter=","\n          hidePopup=","\n          execCommand=","\n        />\n      </div>\n    "])),Ce("toolbar"),Ce("md-tab-container"),"wysiwyg"===i||"vertical"===n?"none":"block",Tf,this.tabs,c,this.toggleTab,Ce("defaultUI-toolbar"),(function(e){return t.refs.el=e}),d,u.map((function(e,n){var r;return El(Jf||(Jf=m(["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "],["\n              <","\n                group=","\n                hiddenDivider=","\n                setItemWidth=","\n                ...","\n              />\n            "])),id,e,n===u.length-1||(null===(r=u[n+1])||void 0===r?void 0:r.hidden),t.setItemWidth,f)})),od,Pf("more"),l,f,zf,a,s,r,this.hidePopup,this.execCommand)},e}(Ul),sd=function(t){function e(e){var n=t.call(this,e)||this;return n.handleClickDocument=function(t){Ne(t.target,"."+Ce("context-menu"))||n.setState({pos:null})},n.state={pos:null,menuGroups:[]},n.addEvent(),n}return d(e,t),e.prototype.addEvent=function(){var t=this;this.props.eventEmitter.listen("contextmenu",(function(e){var n=e.pos,r=e.menuGroups;t.setState({pos:n,menuGroups:r})}))},e.prototype.mounted=function(){document.addEventListener("click",this.handleClickDocument)},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.handleClickDocument)},e.prototype.getMenuGroupElements=function(){var t=this,e=this.state,n=e.pos,r=e.menuGroups;return n?r.reduce((function(e,n){var r=[];return n.forEach((function(e){var n=e.label,i=e.className,o=void 0!==i&&i,a=e.disabled,s=e.onClick;r.push(El(Yf||(Yf=m(["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "],["\n                <li\n                  onClick=",'\n                  class="menu-item','"\n                  aria-role="menuitem"\n                >\n                  <span class="','">',"</span>\n                </li>\n              "])),(function(){a||(s(),t.setState({pos:null}))}),a?" disabled":"",o,n))})),e.push(El(Xf||(Xf=m(['<ul class="menu-group">\n              ',"\n            </ul>"],['<ul class="menu-group">\n              ',"\n            </ul>"])),r)),e}),[]):[]},e.prototype.render=function(){var t=h({display:this.state.pos?"block":"none"},this.state.pos);return El(Zf||(Zf=m(['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"],['<div class="','" style=',' aria-role="menu">\n      ',"\n    </div>"])),Ce("context-menu"),t,this.getMenuGroupElements())},e}(Ul),cd=function(t){function e(e){var n=t.call(this,e)||this;n.changeMode=function(t){t!==n.state.editorType&&n.setState({editorType:t})},n.changePreviewStyle=function(t){t!==n.state.previewStyle&&n.setState({previewStyle:t})},n.hide=function(){n.setState({hide:!0})},n.show=function(){n.setState({hide:!1})};var r=e.editorType,i=e.previewStyle;return n.state={editorType:r,previewStyle:i,hide:!1},n.addEvent(),n}return d(e,t),e.prototype.mounted=function(){var t=this.props.slots,e=t.wwEditor,n=t.mdEditor,r=t.mdPreview;this.refs.wwContainer.appendChild(e),this.refs.mdContainer.insertAdjacentElement("afterbegin",n),this.refs.mdContainer.appendChild(r)},e.prototype.insertToolbarItem=function(t,e){this.toolbar.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.toolbar.removeToolbarItem(t)},e.prototype.render=function(){var t=this,e=this.props,n=e.eventEmitter,r=e.hideModeSwitch,i=e.toolbarItems,o=e.theme,a=this.state,s=a.hide,c=a.previewStyle,u=a.editorType,l=s?" hidden":"",f=Ce("markdown"===u?"md-mode":"ww-mode"),d=Ce("md")+"-"+c+"-style",h=Ce(["light"!==o,o+" "]);return El(td||(td=m(['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "],['\n      <div\n        class="',"","",'"\n        ref=',"\n      >\n        <","\n          ref=","\n          eventEmitter=","\n          previewStyle=","\n          toolbarItems=","\n          editorType=",'\n        />\n        <div\n          class="'," ",'"\n          ref=','\n        >\n          <div class="','">\n            <div\n              class="'," ",'"\n              ref=','\n            >\n              <div class="','"></div>\n            </div>\n            <div\n              class="','"\n              ref=',"\n            />\n          </div>\n        </div>\n        ","\n        <"," eventEmitter="," />\n      </div>\n    "])),h,Ce("defaultUI"),l,(function(e){return t.refs.el=e}),ad,(function(e){return t.toolbar=e}),n,c,i,u,Ce("main"),f,(function(e){return t.refs.editorSection=e}),Ce("main-container"),Ce("md-container"),d,(function(e){return t.refs.mdContainer=e}),Ce("md-splitter"),Ce("ww-container"),(function(e){return t.refs.wwContainer=e}),!r&&El(Qf||(Qf=m(["<"," eventEmitter="," editorType="," />"],["<"," eventEmitter="," editorType="," />"])),zl,n,u),sd,n)},e.prototype.addEvent=function(){var t=this.props.eventEmitter;t.listen("hide",this.hide),t.listen("show",this.show),t.listen("changeMode",this.changeMode),t.listen("changePreviewStyle",this.changePreviewStyle)},e}(Ul),ud=function(t){function e(e){var n,r,i=t.call(this,e)||this,o=Bl(i.options.el,El(ed||(ed=m(["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "],["\n        <","\n          ref=","\n          eventEmitter=","\n          slots=","\n          hideModeSwitch=","\n          toolbarItems=","\n          previewStyle=","\n          editorType=","\n          theme=","\n        />\n      "])),cd,(function(t){return r=t}),i.eventEmitter,i.getEditorElements(),i.options.hideModeSwitch,i.options.toolbarItems,i.options.previewStyle,i.options.initialEditType,i.options.theme));return i.setMinHeight(i.options.minHeight),i.setHeight(i.options.height),i.defaultUI={insertToolbarItem:r.insertToolbarItem.bind(r),removeToolbarItem:r.removeToolbarItem.bind(r),destroy:o},null===(n=i.pluginInfo.toolbarItems)||void 0===n||n.forEach((function(t){var e=t.groupIndex,n=t.itemIndex,r=t.item;i.defaultUI.insertToolbarItem({groupIndex:e,itemIndex:n},r)})),i}return d(e,t),e.factory=function(t){return t.viewer?new ll(t):new e(t)},e.prototype.insertToolbarItem=function(t,e){this.defaultUI.insertToolbarItem(t,e)},e.prototype.removeToolbarItem=function(t){this.defaultUI.removeToolbarItem(t)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.defaultUI.destroy()},e}(bl);bl.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file","Choose a file":"Choose a file","No file":"No file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row to up":"Add row to up","Add row to down":"Add row to down","Add column to left":"Add column to left","Add column to right":"Add column to right","Remove row":"Remove row","Remove column":"Remove column","Align column to left":"Align column to left","Align column to center":"Align column to center","Align column to right":"Align column to right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"}),e.a=ud}).call(this,n(15))},function(t,e,n){t.exports=n(128)},function(t,e,n){(function(n){var r;!function(n,i){t.exports=function(n){"use strict";var i,o=(n=n||{}).Base64,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t.charAt(n)]=n;return e}(a),c=String.fromCharCode,u=function(t){if(t.length<2)return(e=t.charCodeAt(0))<128?t:e<2048?c(192|e>>>6)+c(128|63&e):c(224|e>>>12&15)+c(128|e>>>6&63)+c(128|63&e);var e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|e>>>18&7)+c(128|e>>>12&63)+c(128|e>>>6&63)+c(128|63&e)},l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,f=function(t){return t.replace(l,u)},d=function(t){var e=[0,2,1][t.length%3],n=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[a.charAt(n>>>18),a.charAt(n>>>12&63),e>=2?"=":a.charAt(n>>>6&63),e>=1?"=":a.charAt(63&n)].join("")},h=n.btoa&&"function"==typeof n.btoa?function(t){return n.btoa(t)}:function(t){if(t.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return t.replace(/[\s\S]{1,3}/g,d)},p=function(t){return h(f(String(t)))},m=function(t){return t.replace(/[+\/]/g,(function(t){return"+"==t?"-":"_"})).replace(/=/g,"")},v=function(t,e){return e?m(p(t)):p(t)};n.Uint8Array&&(i=function(t,e){for(var n="",r=0,i=t.length;r<i;r+=3){var o=t[r],s=t[r+1],c=t[r+2],u=o<<16|s<<8|c;n+=a.charAt(u>>>18)+a.charAt(u>>>12&63)+(void 0!==s?a.charAt(u>>>6&63):"=")+(void 0!==c?a.charAt(63&u):"=")}return e?m(n):n});var g,y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,b=function(t){switch(t.length){case 4:var e=((7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3))-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},w=function(t){return t.replace(y,b)},k=function(t){var e=t.length,n=e%4,r=(e>0?s[t.charAt(0)]<<18:0)|(e>1?s[t.charAt(1)]<<12:0)|(e>2?s[t.charAt(2)]<<6:0)|(e>3?s[t.charAt(3)]:0),i=[c(r>>>16),c(r>>>8&255),c(255&r)];return i.length-=[0,0,2,1][n],i.join("")},x=n.atob&&"function"==typeof n.atob?function(t){return n.atob(t)}:function(t){return t.replace(/\S{1,4}/g,k)},S=function(t){return x(String(t).replace(/[^A-Za-z0-9\+\/]/g,""))},E=function(t){return String(t).replace(/[-_]/g,(function(t){return"-"==t?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")},_=function(t){return function(t){return w(x(t))}(E(t))};n.Uint8Array&&(g=function(t){return Uint8Array.from(S(E(t)),(function(t){return t.charCodeAt(0)}))});var C=function(){var t=n.Base64;return n.Base64=o,t};if(n.Base64={VERSION:"2.6.4",atob:S,btoa:h,fromBase64:_,toBase64:v,utob:f,encode:v,encodeURI:function(t){return v(t,!0)},btou:w,decode:_,noConflict:C,fromUint8Array:i,toUint8Array:g},"function"==typeof Object.defineProperty){var M=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};n.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",M((function(){return _(this)}))),Object.defineProperty(String.prototype,"toBase64",M((function(t){return v(this,t)}))),Object.defineProperty(String.prototype,"toBase64URI",M((function(){return v(this,!0)})))}}n.Meteor&&(Base64=n.Base64);t.exports?t.exports.Base64=n.Base64:void 0===(r=function(){return n.Base64}.apply(e,[]))||(t.exports=r);return{Base64:n.Base64}}(n)}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:this)}).call(this,n(15))},function(t,e,n){t.exports=n(239)},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function s(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],c=e.base?o[0]+e.base:o[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var f=s(l),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:l,updater:v(d,e),references:1}),r.push(l)}return r}function u(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=o(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,f=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=f(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function h(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,m=0;function v(t,e){var n,r,i;if(e.singleton){var o=m++;n=p||(p=u(e)),r=d.bind(null,n,o,!1),i=d.bind(null,n,o,!0)}else n=u(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=c(t,e),u=0;u<n.length;u++){var l=s(n[u]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=o}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){"use strict";var r=n(13),i=n(67),o=n(129),a=n(73);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var c=s(n(47));c.Axios=o,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(74),c.CancelToken=n(143),c.isCancel=n(72),c.all=function(t){return Promise.all(t)},c.spread=n(144),c.isAxiosError=n(145),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(13),i=n(68),o=n(130),a=n(131),s=n(73),c=n(141),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=t;n.length;){var d=n.shift(),h=n.shift();try{f=d(f)}catch(t){h(t);break}}try{i=a(f)}catch(t){return Promise.reject(t)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var r=n(13);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(13),i=n(132),o=n(72),a=n(47);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(13),i=n(47);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},function(t,e,n){"use strict";var r=n(13);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(71);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(13);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(137),i=n(138);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(13),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(13);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(142),i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={},a=r.version.split(".");function s(t,e){for(var n=e?e.split("."):a,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(t,e,n){var i=e&&s(e);function a(t,e){return"[Axios v"+r.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new Error(a(r," has been removed in "+e));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var s=t[o],c=void 0===s||a(s,o,t);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(t){t.exports=JSON.parse('{"_args":[["axios@0.21.4","C:\\\\Users\\\\Mitchell\\\\Downloads\\\\SkynetMarkdownEditor"]],"_from":"axios@0.21.4","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/skynet-js/axios","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"axios@0.21.4","name":"axios","escapedName":"axios","rawSpec":"0.21.4","saveSpec":null,"fetchSpec":"0.21.4"},"_requiredBy":["/skynet-js"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_spec":"0.21.4","_where":"C:\\\\Users\\\\Mitchell\\\\Downloads\\\\SkynetMarkdownEditor","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(t,e,n){"use strict";var r=n(74);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,i,a=[];for(i in"string"!=typeof e&&(e="?"),t)if(r.call(t,i)){if((n=t[i])||null!=n&&!isNaN(n)||(n=""),i=o(i),n=o(n),null===i||null===n)continue;a.push(i+"="+n)}return a.length?e+a.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,r={};e=n.exec(t);){var o=i(e[1]),a=i(e[2]);null===o||null===a||o in r||(r[o]=a)}return r}},function(t,e,n){"use strict";function r(){this._types=Object.create(null),this._extensions=Object.create(null);for(let t=0;t<arguments.length;t++)this.define(arguments[t]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}r.prototype.define=function(t,e){for(let n in t){let r=t[n].map((function(t){return t.toLowerCase()}));n=n.toLowerCase();for(let t=0;t<r.length;t++){const i=r[t];if("*"!==i[0]){if(!e&&i in this._types)throw new Error('Attempt to change mapping for "'+i+'" extension from "'+this._types[i]+'" to "'+n+'". Pass `force=true` to allow this, otherwise remove "'+i+'" from the list of extensions for "'+n+'".');this._types[i]=n}}if(e||!this._extensions[n]){const t=r[0];this._extensions[n]="*"!==t[0]?t:t.substr(1)}}},r.prototype.getType=function(t){let e=(t=String(t)).replace(/^.*[/\\]/,"").toLowerCase(),n=e.replace(/^.*\./,"").toLowerCase(),r=e.length<t.length;return(n.length<e.length-1||!r)&&this._types[n]||null},r.prototype.getExtension=function(t){return(t=/^\s*([^;\s]*)/.test(t)&&RegExp.$1)&&this._extensions[t.toLowerCase()]||null},t.exports=r},function(t,e){t.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=t[e+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+t[e+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+f],f+=d,l-=8);if(0===o)o=1-u;else{if(o===c)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(e*c-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+h]=255&a,h+=p,a/=256,u-=8);t[n+h-p]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(12),e.createHash=e.Hash=n(31),e.createHmac=e.Hmac=n(82);var r=n(170),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=n(85);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=n(172);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var c=n(187);e.DiffieHellmanGroup=c.DiffieHellmanGroup,e.createDiffieHellmanGroup=c.createDiffieHellmanGroup,e.getDiffieHellman=c.getDiffieHellman,e.createDiffieHellman=c.createDiffieHellman,e.DiffieHellman=c.DiffieHellman;var u=n(193);e.createSign=u.createSign,e.Sign=u.Sign,e.createVerify=u.createVerify,e.Verify=u.Verify,e.createECDH=n(227);var l=n(228);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var f=n(231);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){},function(t,e,n){"use strict";var r=n(4).Buffer,i=n(156);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var e,n,i,o=r.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,n=o,i=s,e.copy(n,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(158),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(15))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,s,c=1,u={},l=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},r=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(p,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&p(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return u[c]=i,r(c),c++},d.clearImmediate=h}function h(t){delete u[t]}function p(t){if(l)setTimeout(p,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(15),n(16))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,n(15))},function(t,e,n){"use strict";t.exports=o;var r=n(79),i=n(32);function o(t){if(!(this instanceof o))return new o(t);r.call(this,t)}i.inherits=n(3),i.inherits(o,r),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(52)},function(t,e,n){t.exports=n(28)},function(t,e,n){t.exports=n(51).Transform},function(t,e,n){t.exports=n(51).PassThrough},function(t,e,n){var r=n(3),i=n(29),o=n(4).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(t){return t<<30|t>>>2}function l(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=n[f-3]^n[f-8]^n[f-14]^n[f-16];for(var d=0;d<80;++d){var h=~~(d/20),p=0|((e=r)<<5|e>>>27)+l(h,i,o,s)+c+n[d]+a[h];c=s,s=o,o=u(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(3),i=n(29),o=n(4).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function c(){this.init(),this._w=s,i.call(this,64,56)}function u(t){return t<<5|t>>>27}function l(t){return t<<30|t>>>2}function f(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(c,i),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,s=0|this._d,c=0|this._e,d=0;d<16;++d)n[d]=t.readInt32BE(4*d);for(;d<80;++d)n[d]=(e=n[d-3]^n[d-8]^n[d-14]^n[d-16])<<1|e>>>31;for(var h=0;h<80;++h){var p=~~(h/20),m=u(r)+f(p,i,o,s)+c+n[h]+a[p]|0;c=s,s=o,o=l(i),i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=s+this._d|0,this._e=c+this._e|0},c.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=c},function(t,e,n){var r=n(3),i=n(80),o=n(29),a=n(4).Buffer,s=new Array(64);function c(){this.init(),this._w=s,o.call(this,64,56)}r(c,i),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=c},function(t,e,n){var r=n(3),i=n(81),o=n(29),a=n(4).Buffer,s=new Array(160);function c(){this.init(),this._w=s,o.call(this,128,112)}r(c,i),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var t=a.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=c},function(t,e,n){"use strict";var r=n(3),i=n(4).Buffer,o=n(26),a=i.alloc(128);function s(t,e){o.call(this,"digest"),"string"==typeof e&&(e=i.from(e)),this._alg=t,this._key=e,e.length>64?e=t(e):e.length<64&&(e=i.concat([e,a],64));for(var n=this._ipad=i.allocUnsafe(64),r=this._opad=i.allocUnsafe(64),s=0;s<64;s++)n[s]=54^e[s],r[s]=92^e[s];this._hash=[n]}r(s,o),s.prototype._update=function(t){this._hash.push(t)},s.prototype._final=function(){var t=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,t]))},t.exports=s},function(t,e,n){t.exports=n(84)},function(t,e,n){(function(e,r){var i,o=n(86),a=n(87),s=n(88),c=n(4).Buffer,u=e.crypto&&e.crypto.subtle,l={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},f=[];function d(t,e,n,r,i){return u.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then((function(t){return u.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)})).then((function(t){return c.from(t)}))}t.exports=function(t,n,h,p,m,v){"function"==typeof m&&(v=m,m=void 0);var g=l[(m=m||"sha1").toLowerCase()];if(!g||"function"!=typeof e.Promise)return r.nextTick((function(){var e;try{e=s(t,n,h,p,m)}catch(t){return v(t)}v(null,e)}));if(o(t,n,h,p),"function"!=typeof v)throw new Error("No callback provided to pbkdf2");c.isBuffer(t)||(t=c.from(t,a)),c.isBuffer(n)||(n=c.from(n,a)),function(t,e){t.then((function(t){r.nextTick((function(){e(null,t)}))}),(function(t){r.nextTick((function(){e(t)}))}))}(function(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!u||!u.importKey||!u.deriveBits)return Promise.resolve(!1);if(void 0!==f[t])return f[t];var n=d(i=i||c.alloc(8),i,10,128,t).then((function(){return!0})).catch((function(){return!1}));return f[t]=n,n}(g).then((function(e){return e?d(t,n,h,p,g):s(t,n,h,p,m)})),v)}}).call(this,n(15),n(16))},function(t,e,n){var r=n(173),i=n(57),o=n(58),a=n(186),s=n(39);function c(t,e,n){if(t=t.toLowerCase(),o[t])return i.createCipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function u(t,e,n){if(t=t.toLowerCase(),o[t])return i.createDecipheriv(t,e,n);if(a[t])return new r({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return c(t,i.key,i.iv)},e.createCipheriv=e.Cipheriv=c,e.createDecipher=e.Decipher=function(t,e){var n,r;if(t=t.toLowerCase(),o[t])n=o[t].key,r=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,r=a[t].iv}var i=s(e,!1,n,r);return u(t,i.key,i.iv)},e.createDecipheriv=e.Decipheriv=u,e.listCiphers=e.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},function(t,e,n){var r=n(26),i=n(174),o=n(3),a=n(4).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function c(t){r.call(this);var e,n=t.mode.toLowerCase(),i=s[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var c=t.iv;a.isBuffer(c)||(c=a.from(c)),this._des=i.create({key:o,iv:c,type:e})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],t.exports=c,o(c,r),c.prototype._update=function(t){return a.from(this._des.update(t))},c.prototype._final=function(){return a.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(89),e.Cipher=n(56),e.DES=n(90),e.CBC=n(175),e.EDE=n(176)},function(t,e,n){"use strict";var r=n(17),i=n(3),o={};function a(t){r.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(t){function e(e){t.call(this,e),this._cbcInit()}i(e,t);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];e.prototype[a]=o[a]}return e.create=function(t){return new e(t)},e},o._cbcInit=function(){var t=new a(this.options.iv);this._cbcState=t},o._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,t,e,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,n){"use strict";var r=n(17),i=n(3),o=n(56),a=n(90);function s(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),o=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function c(t){o.call(this,t);var e=new s(this.type,this.options.key);this._edeState=e}i(c,o),t.exports=c,c.create=function(t){return new c(t)},c.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},function(t,e,n){var r=n(58),i=n(94),o=n(4).Buffer,a=n(95),s=n(26),c=n(38),u=n(39);function l(t,e,n){s.call(this),this._cache=new d,this._cipher=new c.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(3)(l,s),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(t,e,n){var s=r[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof e&&(e=o.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,e,n):"auth"===s.type?new i(s.module,e,n):new l(s.module,e,n)}l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=o.concat([this.cache,t])},d.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},d.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=h,e.createCipher=function(t,e){var n=r[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=u(e,!1,n.key,n.iv);return h(t,i.key,i.iv)}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(33);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){var r=n(4).Buffer,i=n(33);function o(t,e,n){var o=e.length,a=i(e,t._cache);return t._cache=t._cache.slice(o),t._prev=r.concat([t._prev,n?e:a]),a}e.encrypt=function(t,e,n){for(var i,a=r.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=r.allocUnsafe(0)),!(t._cache.length<=e.length)){a=r.concat([a,o(t,e,n)]);break}i=t._cache.length,a=r.concat([a,o(t,e.slice(0,i),n)]),e=e.slice(i)}return a}},function(t,e,n){var r=n(4).Buffer;function i(t,e,n){var i=t._cipher.encryptBlock(t._prev)[0]^e;return t._prev=r.concat([t._prev.slice(1),r.from([n?e:i])]),i}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){var r=n(4).Buffer;function i(t,e,n){for(var r,i,a=-1,s=0;++a<8;)r=e&1<<7-a?128:0,s+=(128&(i=t._cipher.encryptBlock(t._prev)[0]^r))>>a%8,t._prev=o(t._prev,n?r:i);return s}function o(t,e){var n=t.length,i=-1,o=r.allocUnsafe(t.length);for(t=r.concat([t,r.from([e])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}e.encrypt=function(t,e,n){for(var o=e.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(t,e[s],n);return a}},function(t,e,n){(function(t){var r=n(33);function i(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,i(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),r(n,o)}}).call(this,n(6).Buffer)},function(t,e,n){var r=n(4).Buffer,i=r.alloc(16,0);function o(t){var e=r.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function a(t){this.h=t,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},a.prototype._multiply=function(){for(var t,e,n,r=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=r[0],i[1]^=r[1],i[2]^=r[2],i[3]^=r[3]),n=0!=(1&r[3]),e=3;e>0;e--)r[e]=r[e]>>>1|(1&r[e-1])<<31;r[0]=r[0]>>>1,n&&(r[0]=r[0]^225<<24)}this.state=o(i)},a.prototype.update=function(t){var e;for(this.cache=r.concat([this.cache,t]);this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},a.prototype.final=function(t,e){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,t,0,e])),this.state},t.exports=a},function(t,e,n){var r=n(94),i=n(4).Buffer,o=n(58),a=n(95),s=n(26),c=n(38),u=n(39);function l(t,e,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new c.AES(e),this._prev=i.from(n),this._mode=t,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(t,e,n){var s=o[t.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"==typeof e&&(e=i.from(e)),e.length!==s.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===s.type?new a(s.module,e,n,!0):"auth"===s.type?new r(s.module,e,n,!0):new l(s.module,e,n)}n(3)(l,s),l.prototype._update=function(t){var e,n;this._cache.add(t);for(var r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return i.concat(r)},l.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return function(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16===e)return;return t.slice(0,16-e)}(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},f.prototype.add=function(t){this.cache=i.concat([this.cache,t])},f.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=u(e,!1,n.key,n.iv);return d(t,r.key,r.iv)},e.createDecipheriv=d},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){var r=n(96),i=n(191),o=n(192);var a={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(e){var n=new t(i[e].prime,"hex"),r=new t(i[e].gen,"hex");return new o(n,r)},e.createDiffieHellman=e.DiffieHellman=function e(n,i,s,c){return t.isBuffer(i)||void 0===a[i]?e(n,"binary",i,s):(i=i||"binary",c=c||"binary",s=s||new t([2]),t.isBuffer(s)||(s=new t(s,c)),"number"==typeof n?new o(r(n,s),s,!0):(t.isBuffer(n)||(n=new t(n,i)),new o(n,s,!0)))}}).call(this,n(6).Buffer)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(t,e,n){(function(e){var r=n(8),i=new(n(97)),o=new r(24),a=new r(11),s=new r(10),c=new r(3),u=new r(7),l=n(96),f=n(12);function d(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new r(t),this}function h(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new r(t),this}t.exports=m;var p={};function m(t,e,n){this.setGenerator(e),this.__prime=new r(t),this._prime=r.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=d,this.setPrivateKey=h):this._primeCode=8}function v(t,n){var r=new e(t.toArray());return n?r.toString(n):r}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in p)return p[r];var f,d=0;if(t.isEven()||!l.simpleSieve||!l.fermatTest(t)||!i.test(t))return d+=1,d+="02"===n||"05"===n?8:4,p[r]=d,d;switch(i.test(t.shrn(1))||(d+=2),n){case"02":t.mod(o).cmp(a)&&(d+=8);break;case"05":(f=t.mod(s)).cmp(c)&&f.cmp(u)&&(d+=8);break;default:d+=4}return p[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new r(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(t){var n=(t=(t=new r(t)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new e(n.toArray()),o=this.getPrime();if(i.length<o.length){var a=new e(o.length-i.length);a.fill(0),i=e.concat([a,i])}return i},m.prototype.getPublicKey=function(t){return v(this._pub,t)},m.prototype.getPrivateKey=function(t){return v(this._priv,t)},m.prototype.getPrime=function(t){return v(this.__prime,t)},m.prototype.getGenerator=function(t){return v(this._gen,t)},m.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new r(t),this}}).call(this,n(6).Buffer)},function(t,e,n){(function(e){var r=n(31),i=n(49),o=n(3),a=n(194),s=n(226),c=n(84);function u(t){i.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=r(e.hash),this._tag=e.id,this._signType=e.sign}function l(t){i.Writable.call(this);var e=c[t];if(!e)throw new Error("Unknown message digest");this._hash=r(e.hash),this._tag=e.id,this._signType=e.sign}function f(t){return new u(t)}function d(t){return new l(t)}Object.keys(c).forEach((function(t){c[t].id=new e(c[t].id,"hex"),c[t.toLowerCase()]=c[t]})),o(u,i.Writable),u.prototype._write=function(t,e,n){this._hash.update(t),n()},u.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},u.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=a(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},o(l,i.Writable),l.prototype._write=function(t,e,n){this._hash.update(t),n()},l.prototype.update=function(t,n){return"string"==typeof t&&(t=new e(t,n)),this._hash.update(t),this},l.prototype.verify=function(t,n,r){"string"==typeof n&&(n=new e(n,r)),this.end();var i=this._hash.digest();return s(n,i,t,this._signType,this._tag)},t.exports={Sign:f,Verify:d,createSign:f,createVerify:d}}).call(this,n(6).Buffer)},function(t,e,n){(function(e){var r=n(82),i=n(60),o=n(61).ec,a=n(8),s=n(41),c=n(107);function u(t,n,i,o){if((t=new e(t.toArray())).length<n.byteLength()){var a=new e(n.byteLength()-t.length);a.fill(0),t=e.concat([a,t])}var s=i.length,c=function(t,n){t=(t=l(t,n)).mod(n);var r=new e(t.toArray());if(r.length<n.byteLength()){var i=new e(n.byteLength()-r.length);i.fill(0),r=e.concat([i,r])}return r}(i,n),u=new e(s);u.fill(1);var f=new e(s);return f.fill(0),f=r(o,f).update(u).update(new e([0])).update(t).update(c).digest(),u=r(o,f).update(u).digest(),{k:f=r(o,f).update(u).update(new e([1])).update(t).update(c).digest(),v:u=r(o,f).update(u).digest()}}function l(t,e){var n=new a(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function f(t,n,i){var o,a;do{for(o=new e(0);8*o.length<t.bitLength();)n.v=r(i,n.k).update(n.v).digest(),o=e.concat([o,n.v]);a=l(o,t),n.k=r(i,n.k).update(n.v).update(new e([0])).digest(),n.v=r(i,n.k).update(n.v).digest()}while(-1!==a.cmp(t));return a}function d(t,e,n,r){return t.toRed(a.mont(n)).redPow(e).fromRed().mod(r)}t.exports=function(t,n,r,h,p){var m=s(n);if(m.curve){if("ecdsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");return function(t,n){var r=c[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new o(r).keyFromPrivate(n.privateKey).sign(t);return new e(i.toDER())}(t,m)}if("dsa"===m.type){if("dsa"!==h)throw new Error("wrong private key type");return function(t,n,r){var i,o=n.params.priv_key,s=n.params.p,c=n.params.q,h=n.params.g,p=new a(0),m=l(t,c).mod(c),v=!1,g=u(o,c,t,r);for(;!1===v;)i=f(c,g,r),p=d(h,i,s,c),0===(v=i.invm(c).imul(m.add(o.mul(p))).mod(c)).cmpn(0)&&(v=!1,p=new a(0));return function(t,n){t=t.toArray(),n=n.toArray(),128&t[0]&&(t=[0].concat(t));128&n[0]&&(n=[0].concat(n));var r=[48,t.length+n.length+4,2,t.length];return r=r.concat(t,[2,n.length],n),new e(r)}(p,v)}(t,m,r)}if("rsa"!==h&&"ecdsa/rsa"!==h)throw new Error("wrong private key type");t=e.concat([p,t]);for(var v=m.modulus.byteLength(),g=[0,1];t.length+g.length+1<v;)g.push(255);g.push(0);for(var y=-1;++y<t.length;)g.push(t[y]);return i(g,m)},t.exports.getKey=u,t.exports.makeKey=f}).call(this,n(6).Buffer)},function(t){t.exports=JSON.parse('{"_args":[["elliptic@6.5.2","C:\\\\Users\\\\Mitchell\\\\Downloads\\\\SkynetMarkdownEditor"]],"_development":true,"_from":"elliptic@6.5.2","_id":"elliptic@6.5.2","_inBundle":false,"_integrity":"sha512-f4x70okzZbIQl/NSRLkI/+tteV/9WqL98zx+SQ69KbXxmVrmjwsNUPn/gYJJ0sHvEak24cZgHIPegRePAtA/xw==","_location":"/elliptic","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"elliptic@6.5.2","name":"elliptic","escapedName":"elliptic","rawSpec":"6.5.2","saveSpec":null,"fetchSpec":"6.5.2"},"_requiredBy":["/browserify-sign","/create-ecdh"],"_resolved":"https://registry.npmjs.org/elliptic/-/elliptic-6.5.2.tgz","_spec":"6.5.2","_where":"C:\\\\Users\\\\Mitchell\\\\Downloads\\\\SkynetMarkdownEditor","author":{"name":"Fedor Indutny","email":"fedor@indutny.com"},"bugs":{"url":"https://github.com/indutny/elliptic/issues"},"dependencies":{"bn.js":"^4.4.0","brorand":"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0","inherits":"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},"description":"EC cryptography","devDependencies":{"brfs":"^1.4.3","coveralls":"^3.0.8","grunt":"^1.0.4","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.2","jscs":"^3.0.7","jshint":"^2.10.3","mocha":"^6.2.2"},"files":["lib"],"homepage":"https://github.com/indutny/elliptic","keywords":["EC","Elliptic","curve","Cryptography"],"license":"MIT","main":"lib/elliptic.js","name":"elliptic","repository":{"type":"git","url":"git+ssh://git@github.com/indutny/elliptic.git"},"scripts":{"jscs":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","jshint":"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js","lint":"npm run jscs && npm run jshint","test":"npm run lint && npm run unit","unit":"istanbul test _mocha --reporter=spec test/index.js","version":"grunt dist && git add dist/"},"version":"6.5.2"}')},function(t,e,n){"use strict";var r=n(18),i=n(8),o=n(3),a=n(40),s=r.assert;function c(t){a.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,n,r){a.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(t,e,n,r){a.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(c,a),t.exports=c,c.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=(e=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(t.lambda)n=new i(t.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(e))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:n,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(n)}}},c.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),n=new i(2).toRed(e).redInvm(),r=n.redNeg(),o=new i(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},c.prototype._getEndoBasis=function(t){for(var e,n,r,o,a,s,c,u,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=t,h=this.n.clone(),p=new i(1),m=new i(0),v=new i(0),g=new i(1),y=0;0!==d.cmpn(0);){var b=h.div(d);u=h.sub(b.mul(d)),l=v.sub(b.mul(p));var w=g.sub(b.mul(m));if(!r&&u.cmp(f)<0)e=c.neg(),n=p,r=u.neg(),o=l;else if(r&&2==++y)break;c=u,h=d,d=u,v=p,p=l,g=m,m=w}a=u.neg(),s=l;var k=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(k)>=0&&(a=e,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},c.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),c=i.mul(n.b),u=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:c.add(u).neg()}},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(e&&!o||!e&&o)&&(r=r.redNeg()),this.point(t,r)},c.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},c.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],c=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),r[2*o]=s,r[2*o+1]=c,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return u},o(u,a.BasePoint),c.prototype.point=function(t,e,n){return new u(this,t,e,n)},c.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,n){"string"==typeof e&&(e=JSON.parse(e));var r=t.point(e[0],e[1],n);if(!e[2])return r;function i(e){return t.point(e[0],e[1],n)}var o=e[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},u.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),c.prototype.jpoint=function(t,e,n){return new l(this,t,e,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),c=o.redSub(a);if(0===s.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),l=u.redMul(s),f=r.redMul(u),d=c.redSqr().redIAdd(l).redISub(f).redISub(f),h=c.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),l=n.redMul(c),f=s.redSqr().redIAdd(u).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(u)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,c=s.redSqr().redSqr(),u=a.redAdd(a);for(n=0;n<t;n++){var l=o.redSqr(),f=u.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(c)),p=o.redMul(f),m=h.redSqr().redISub(p.redAdd(p)),v=p.redISub(m),g=h.redMul(v);g=g.redIAdd(g).redISub(d);var y=u.redMul(s);n+1<t&&(c=c.redMul(d)),o=m,s=y,u=g}return this.curve.jpoint(o,u.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),c=s.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=c,e=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),v=d.redIAdd(d);v=(v=v.redIAdd(v)).redIAdd(v),t=m.redISub(h).redISub(h),e=p.redMul(h.redISub(t)).redISub(v),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(t,e,n)},l.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),c=s.redSqr().redISub(a).redISub(a);t=c;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=s.redMul(a.redISub(c)).redISub(u),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),m=(p=p.redIAdd(p)).redAdd(p);t=h.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var v=f.redSqr();v=(v=(v=v.redIAdd(v)).redIAdd(v)).redIAdd(v),e=h.redMul(p.redISub(t)).redISub(v)}return this.curve.jpoint(t,e,n)},l.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),c=e.redAdd(e),u=(c=c.redIAdd(c)).redMul(a),l=s.redSqr().redISub(u.redAdd(u)),f=u.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),c=r.redIAdd(r);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(c),l=e.redMul(u);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},l.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var r=n(8),i=n(3),o=n(40),a=n(18);function s(t){o.call(this,"mont",t),this.a=new r(t.a,16).toRed(this.red),this.b=new r(t.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(e,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),t.exports=s,s.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},i(c,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new c(this,t,e)},s.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(t,e){return new c(t,e[0],e[1]||t.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},c.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),r=t.redMul(e),i=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z).redMul(n),a=i.redMul(r),s=e.z.redMul(o.redAdd(a).redSqr()),c=e.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,c)},c.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var r=n(18),i=n(8),o=n(3),a=n(40),s=r.assert;function c(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,n,r,o){a.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(c,a),t.exports=c,c.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},c.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},c.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},c.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var c=s.fromRed().isOdd();return(e&&!c||!e&&c)&&(s=s.redNeg()),this.point(t,s)},c.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==e&&(s=s.redNeg()),this.point(s,t)},c.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},o(u,a.BasePoint),c.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},c.prototype.point=function(t,e,n,r){return new u(this,t,e,n,r)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),a=o.redSub(n),s=r.redSub(e),c=i.redMul(a),u=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(c,u,f,l)},u.prototype._projDbl=function(){var t,e,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(u=this.curve._mulA(i)).redAdd(o);if(this.zOne)t=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),e=a.redMul(u.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),c=a.redSub(s).redISub(s);t=r.redSub(i).redISub(o).redMul(c),e=a.redMul(u.redSub(o)),n=a.redMul(c)}}else{var u=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),c=u.redSub(s).redSub(s);t=this.curve._mulC(r.redISub(u)).redMul(c),e=this.curve._mulC(u).redMul(i.redISub(o)),n=u.redMul(c)}return this.curve.point(t,e,n)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=i.redSub(r),s=i.redAdd(r),c=n.redAdd(e),u=o.redMul(a),l=s.redMul(c),f=o.redMul(c),d=a.redMul(s);return this.curve.point(u,l,d,f)},u.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),c=i.redSub(s),u=i.redAdd(s),l=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),f=r.redMul(c).redMul(l);return this.curve.twisted?(e=r.redMul(u).redMul(a.redSub(this.curve._mulA(o))),n=c.redMul(u)):(e=r.redMul(u).redMul(a.redSub(o)),n=this.curve._mulC(c).redMul(u)),this.curve.point(f,e,n)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},u.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},function(t,e,n){"use strict";e.sha1=n(200),e.sha224=n(201),e.sha256=n(101),e.sha384=n(202),e.sha512=n(102)},function(t,e,n){"use strict";var r=n(20),i=n(34),o=n(100),a=r.rotl32,s=r.sum32,c=r.sum32_5,u=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),t.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=c(a(i,5),u(p,o,l,d),h,n[r],f[p]);h=d,d=l,l=a(o,30),o=i,i=m}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},function(t,e,n){"use strict";var r=n(20),i=n(101);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var r=n(20),i=n(102);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),t.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var r=n(20),i=n(34),o=r.rotl32,a=r.sum32,s=r.sum32_3,c=r.sum32_4,u=i.BlockHash;function l(){if(!(this instanceof l))return new l;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function d(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function h(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}r.inherits(l,u),e.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],l=this.h[4],y=n,b=r,w=i,k=u,x=l,S=0;S<80;S++){var E=a(o(c(n,f(S,r,i,u),t[p[S]+e],d(S)),v[S]),l);n=l,l=u,u=o(i,10),i=r,r=E,E=a(o(c(y,f(79-S,b,w,k),t[m[S]+e],h(S)),g[S]),x),y=x,x=k,k=o(w,10),w=b,b=E}E=s(this.h[1],i,k),this.h[1]=s(this.h[2],u,x),this.h[2]=s(this.h[3],l,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,w),this.h[0]=E},l.prototype._digest=function(t){return"hex"===t?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var r=n(20),i=n(17);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(e,n))}t.exports=o,o.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var r=n(8),i=n(207),o=n(18),a=n(62),s=n(59),c=o.assert,u=n(208),l=n(209);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(c(a.hasOwnProperty(t),"Unknown curve "+t),t=a[t]),t instanceof a.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new u(this,t)},f.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||s(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(e.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,n,o){"object"==typeof n&&(o=n,n=null),o||(o={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new r(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),c=t.toArray("be",a),u=new i({hash:this.hash,entropy:s,nonce:c,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=o.k?o.k(d):new r(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var m=p.getX(),v=m.umod(this.n);if(0!==v.cmpn(0)){var g=h.invm(this.n).mul(v.mul(e.getPrivate()).iadd(t));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==m.cmp(v)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new l({r:v,s:g,recoveryParam:y})}}}}}},f.prototype.verify=function(t,e,n,i){t=this._truncateToN(new r(t,16)),n=this.keyFromPublic(n,i);var o=(e=new l(e,"hex")).r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,c=a.invm(this.n),u=c.mul(t).umod(this.n),f=c.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(u,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(u,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(t,e,n,i){c((3&n)===n,"The recovery param is more than two bits"),e=new l(e,i);var o=this.n,a=new r(t),s=e.r,u=e.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=e.r.invm(o),p=o.sub(a).mul(h).umod(o),m=u.mul(h).umod(o);return this.g.mulAdd(p,s,m)},f.prototype.getKeyRecoveryParam=function(t,e,n,r){if(null!==(e=new l(e,r)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var r=n(63),i=n(98),o=n(17);function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),n=i.toArray(t.nonce,t.nonceEnc||"hex"),r=i.toArray(t.pers,t.persEnc||"hex");o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,r)}t.exports=a,a.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=i.toArray(t,e),n=i.toArray(n,r),o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<t;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,t);return this._update(n),this._reseed++,i.encode(a,e)}},function(t,e,n){"use strict";var r=n(8),i=n(18).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=o,o.fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new r(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(8),i=n(18),o=i.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(o(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function c(t,e){var n=t[e.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a];return e.place=a,i}function u(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function l(t,e){if(e<128)t.push(e);else{var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}}t.exports=a,a.prototype._importDER=function(t,e){t=i.toArray(t,e);var n=new s;if(48!==t[n.place++])return!1;if(c(t,n)+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var o=c(t,n),a=t.slice(n.place,o+n.place);if(n.place+=o,2!==t[n.place++])return!1;var u=c(t,n);if(t.length!==u+n.place)return!1;var l=t.slice(n.place,u+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===l[0]&&128&l[1]&&(l=l.slice(1)),this.r=new r(a),this.s=new r(l),this.recoveryParam=null,!0},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=u(e),n=u(n);!(n[0]||128&n[1]);)n=n.slice(1);var r=[2];l(r,e.length),(r=r.concat(e)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,t)}},function(t,e,n){"use strict";var r=n(63),i=n(62),o=n(18),a=o.assert,s=o.parseBytes,c=n(211),u=n(212);function l(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof l))return new l(t);t=i[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=r.sha512}t.exports=l,l.prototype.sign=function(t,e){t=s(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),c=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:c,Rencoded:o})},l.prototype.verify=function(t,e,n){t=s(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},l.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},l.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},l.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},l.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!=(128&t[e]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(t){return o.intFromLE(t)},l.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var r=n(18),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}s.fromPublic=function(t,e){return e instanceof s?e:new s(t,{pub:e})},s.fromSecret=function(t,e){return e instanceof s?e:new s(t,{secret:e})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},s.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},s.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),t)},s.prototype.getPublic=function(t){return r.encode(this.pubBytes(),t)},t.exports=s},function(t,e,n){"use strict";var r=n(8),i=n(18),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function c(t,e){this.eddsa=t,"object"!=typeof e&&(e=s(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof r&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}a(c,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(c,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(c,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(c,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=c},function(t,e,n){"use strict";var r=n(35);e.certificate=n(223);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));e.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));e.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),c=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));e.PrivateKey=c;var u=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));e.EncryptedPrivateKey=u;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));e.DSAPrivateKey=l,e.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));e.ECPrivateKey=f;var d=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));e.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},function(t,e,n){var r=n(35),i=n(3);function o(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new o(t,e)},o.prototype._createNamed=function(t){var e;try{e=n(215).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return i(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},o.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(r.decoders[t])),this.decoders[t]},o.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},o.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(r.encoders[t])),this.encoders[t]},o.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(module,exports){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),(function(e){n[e]=t[e]})),forEach(globals,(function(e){t[e]&&(n[e]=t[e])}));var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),(function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])})),forEach(globals,(function(e){e in t||defineProp(t,e,n[e])})),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return t&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),n},forEach(Object_keys(Script.prototype),(function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(t){return t instanceof Context},exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),e}},function(t,e,n){var r=n(3);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function o(t,e){this.path=t,this.rethrow(e)}e.Reporter=i,i.prototype.isError=function(t){return t instanceof o},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof o;if(e=r?t:new o(n.path.map((function(t){return"["+JSON.stringify(t)+"]"})).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},r(o,Error),o.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){var r=n(36).Reporter,i=n(36).EncoderBuffer,o=n(36).DecoderBuffer,a=n(17),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function u(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}t.exports=u;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];u.prototype.clone=function(){var t=this._baseState,e={};l.forEach((function(n){e[n]=t[n]}));var n=new this.constructor(e.parent);return n._baseState=e,n},u.prototype._wrap=function(){var t=this._baseState;c.forEach((function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}}),this)},u.prototype._init=function(t){var e=this._baseState;a(null===e.parent),t.call(this),e.children=e.children.filter((function(t){return t._baseState.parent===this}),this),a.equal(e.children.length,1,"Root node can have only one child")},u.prototype._useArgs=function(t){var e=this._baseState,n=t.filter((function(t){return t instanceof this.constructor}),this);t=t.filter((function(t){return!(t instanceof this.constructor)}),this),0!==n.length&&(a(null===e.children),e.children=n,n.forEach((function(t){t._baseState.parent=this}),this)),0!==t.length&&(a(null===e.args),e.args=t,e.reverseArgs=t.map((function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach((function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n})),e})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(t){u.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}})),s.forEach((function(t){u.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===e.tag),e.tag=t,this._useArgs(n),this}})),u.prototype.use=function(t){a(t);var e=this._baseState;return a(null===e.use),e.use=t,this},u.prototype.optional=function(){return this._baseState.optional=!0,this},u.prototype.def=function(t){var e=this._baseState;return a(null===e.default),e.default=t,e.optional=!0,this},u.prototype.explicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.explicit=t,this},u.prototype.implicit=function(t){var e=this._baseState;return a(null===e.explicit&&null===e.implicit),e.implicit=t,this},u.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},u.prototype.key=function(t){var e=this._baseState;return a(null===e.key),e.key=t,this},u.prototype.any=function(){return this._baseState.any=!0,this},u.prototype.choice=function(t){var e=this._baseState;return a(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map((function(e){return t[e]}))),this},u.prototype.contains=function(t){var e=this._baseState;return a(null===e.use),e.contains=t,this},u.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=t.enterKey(n.key)),n.optional){var c=null;if(null!==n.explicit?c=n.explicit:null!==n.implicit?c=n.implicit:null!==n.tag&&(c=n.tag),null!==c||n.any){if(a=this._peekTag(t,c,n.any),t.isError(a))return a}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),a=!0}catch(t){a=!1}t.restore(u)}}if(n.obj&&a&&(r=t.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(t,n.explicit);if(t.isError(l))return l;t=l}var f=t.offset;if(null===n.use&&null===n.choice){if(n.any)u=t.save();var d=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(d))return d;n.any?i=t.raw(u):t=d}if(e&&e.track&&null!==n.tag&&e.track(t.path(),f,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),t.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(t,e)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new o(i);i=this._getUse(n.contains,t._reporterState.obj)._decode(h,e)}}return n.obj&&a&&(i=t.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&t.exitKey(s):t.leaveKey(s,n.key,i),i},u.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},u.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},u.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=t.save(),s=n.choice[o];try{var c=s._decode(t,e);if(t.isError(c))return!1;r={type:o,value:c},i=!0}catch(e){return t.restore(a),!1}return!0}),this),i?r:t.error("Choice not matched")},u.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},u.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},u.prototype._encodeValue=function(t,e,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(t,e||new r);var o=null;if(this.reporter=e,i.optional&&void 0===t){if(null===i.default)return;t=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(t);else if(i.choice)o=this._encodeChoice(t,e);else if(i.contains)a=this._getUse(i.contains,n)._encode(t,e),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i}),this).filter((function(t){return t})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return e.error("Too many args for : "+i.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var c=this.clone();c._baseState.implicit=null,a=this._createEncoderBuffer(t.map((function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)}),c))}else null!==i.use?o=this._getUse(i.use,n)._encode(t,e):(a=this._encodePrimitive(i.tag,t),s=!0);if(!i.any&&null===i.choice){var u=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===u?null===i.use&&e.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(u,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},u.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||a(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},u.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},u.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},u.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,n){var r=n(104);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r._reverse(e.tag)},function(t,e,n){var r=e;r.der=n(105),r.pem=n(220)},function(t,e,n){var r=n(3),i=n(6).Buffer,o=n(105);function a(t){o.call(this,t),this.enc="pem"}r(a,o),t.exports=a,a.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,c=-1,u=0;u<n.length;u++){var l=n[u].match(a);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;c=u;break}if("BEGIN"!==l[1])break;s=u}}if(-1===s||-1===c)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,c).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(f,"base64");return o.prototype.decode.call(this,d,e)}},function(t,e,n){var r=e;r.der=n(106),r.pem=n(222)},function(t,e,n){var r=n(3),i=n(106);function o(t){i.call(this,t),this.enc="pem"}r(o,i),t.exports=o,o.prototype.encode=function(t,e){for(var n=i.prototype.encode.call(this,t).toString("base64"),r=["-----BEGIN "+e.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+e.label+"-----"),r.join("\n")}},function(t,e,n){"use strict";var r=n(35),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),c=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),u=r.define("RDNSequence",(function(){this.seqof(c)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(u)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));t.exports=p},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(39),s=n(57),c=n(4).Buffer;t.exports=function(t,e){var n,u=t.toString(),l=u.match(r);if(l){var f="aes"+l[1],d=c.from(l[2],"hex"),h=c.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(e,d.slice(0,8),parseInt(l[1],10)).key,m=[],v=s.createDecipheriv(f,p,d);m.push(v.update(h)),m.push(v.final()),n=c.concat(m)}else{var g=u.match(o);n=new c(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:u.match(i)[1],data:n}}},function(t,e,n){(function(e){var r=n(8),i=n(61).ec,o=n(41),a=n(107);function s(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,n,c,u,l){var f=o(c);if("ec"===f.type){if("ecdsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var r=a[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var o=new i(r),s=n.data.subjectPrivateKey.data;return o.verify(e,t,s)}(t,n,f)}if("dsa"===f.type){if("dsa"!==u)throw new Error("wrong public key type");return function(t,e,n){var i=n.data.p,a=n.data.q,c=n.data.g,u=n.data.pub_key,l=o.signature.decode(t,"der"),f=l.s,d=l.r;s(f,a),s(d,a);var h=r.mont(i),p=f.invm(a);return 0===c.toRed(h).redPow(new r(e).mul(p).mod(a)).fromRed().mul(u.toRed(h).redPow(d.mul(p).mod(a)).fromRed()).mod(i).mod(a).cmp(d)}(t,n,f)}if("rsa"!==u&&"ecdsa/rsa"!==u)throw new Error("wrong public key type");n=e.concat([l,n]);for(var d=f.modulus.byteLength(),h=[1],p=0;n.length+h.length+2<d;)h.push(255),p++;h.push(0);for(var m=-1;++m<n.length;)h.push(n[m]);h=new e(h);var v=r.mont(f.modulus);t=(t=new r(t).toRed(v)).redPow(new r(f.publicExponent)),t=new e(t.fromRed().toArray());var g=p<8?1:0;for(d=Math.min(t.length,h.length),t.length!==h.length&&(g=1),m=-1;++m<d;)g|=t[m]^h[m];return 0===g}}).call(this,n(6).Buffer)},function(t,e,n){(function(e){var r=n(61),i=n(8);t.exports=function(t){return new a(t)};var o={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function a(t){this.curveType=o[t],this.curveType||(this.curveType={name:t}),this.curve=new r.ec(this.curveType.name),this.keys=void 0}function s(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},a.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),s(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},a.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),s(n,t)},a.prototype.getPrivateKey=function(t){return s(this.keys.getPrivate(),t)},a.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},a.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new i(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(this,n(6).Buffer)},function(t,e,n){e.publicEncrypt=n(229),e.privateDecrypt=n(230),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){var r=n(41),i=n(12),o=n(31),a=n(108),s=n(109),c=n(8),u=n(110),l=n(60),f=n(4).Buffer;t.exports=function(t,e,n){var d;d=t.padding?t.padding:n?1:4;var h,p=r(t);if(4===d)h=function(t,e){var n=t.modulus.byteLength(),r=e.length,u=o("sha1").update(f.alloc(0)).digest(),l=u.length,d=2*l;if(r>n-d-2)throw new Error("message too long");var h=f.alloc(n-r-d-2),p=n-l-1,m=i(l),v=s(f.concat([u,h,f.alloc(1,1),e],p),a(m,p)),g=s(m,a(v,l));return new c(f.concat([f.alloc(1),g,v],n))}(p,e);else if(1===d)h=function(t,e,n){var r,o=e.length,a=t.modulus.byteLength();if(o>a-11)throw new Error("message too long");r=n?f.alloc(a-o-3,255):function(t){var e,n=f.allocUnsafe(t),r=0,o=i(2*t),a=0;for(;r<t;)a===o.length&&(o=i(2*t),a=0),(e=o[a++])&&(n[r++]=e);return n}(a-o-3);return new c(f.concat([f.from([0,n?1:2]),r,f.alloc(1),e],a))}(p,e,n);else{if(3!==d)throw new Error("unknown padding");if((h=new c(e)).cmp(p.modulus)>=0)throw new Error("data too long for modulus")}return n?l(h,p):u(h,p)}},function(t,e,n){var r=n(41),i=n(108),o=n(109),a=n(8),s=n(60),c=n(31),u=n(110),l=n(4).Buffer;t.exports=function(t,e,n){var f;f=t.padding?t.padding:n?1:4;var d,h=r(t),p=h.modulus.byteLength();if(e.length>p||new a(e).cmp(h.modulus)>=0)throw new Error("decryption error");d=n?u(new a(e),h):s(e,h);var m=l.alloc(p-d.length);if(d=l.concat([m,d],p),4===f)return function(t,e){var n=t.modulus.byteLength(),r=c("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==e[0])throw new Error("decryption error");var s=e.slice(1,a+1),u=e.slice(a+1),f=o(s,i(u,a)),d=o(u,i(f,n-a-1));if(function(t,e){t=l.from(t),e=l.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));var i=-1;for(;++i<r;)n+=t[i]^e[i];return n}(r,d.slice(0,a)))throw new Error("decryption error");var h=a;for(;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}(h,d);if(1===f)return function(t,e,n){var r=e.slice(0,2),i=2,o=0;for(;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return e.slice(i)}(0,d,n);if(3===f)return d;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var o=n(4),a=n(12),s=o.Buffer,c=o.kMaxLength,u=t.crypto||t.msCrypto,l=Math.pow(2,32)-1;function f(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(t>l||t<0)throw new TypeError("offset must be a uint32");if(t>c||t>e)throw new RangeError("offset out of range")}function d(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(t>l||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>c)throw new RangeError("buffer too small")}function h(t,e,n,i){if(r.browser){var o=t.buffer,s=new Uint8Array(o,e,n);return u.getRandomValues(s),i?void r.nextTick((function(){i(null,t)})):t}if(!i)return a(n).copy(t,e),t;a(n,(function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}))}u&&u.getRandomValues||!r.browser?(e.randomFill=function(e,n,r,i){if(!(s.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof n)i=n,n=0,r=e.length;else if("function"==typeof r)i=r,r=e.length-n;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return f(n,e.length),d(r,n,e.length),h(e,n,r,i)},e.randomFillSync=function(e,n,r){void 0===n&&(n=0);if(!(s.isBuffer(e)||e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(n,e.length),void 0===r&&(r=e.length-n);return d(r,n,e.length),h(e,n,r)}):(e.randomFill=i,e.randomFillSync=i)}).call(this,n(15),n(16))},function(t,e,n){const r=n(111);function i(t,e,n){const r=t[e]+t[n];let i=t[e+1]+t[n+1];r>=4294967296&&i++,t[e]=r,t[e+1]=i}function o(t,e,n,r){let i=t[e]+n;n<0&&(i+=4294967296);let o=t[e+1]+r;i>=4294967296&&o++,t[e]=i,t[e+1]=o}function a(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function s(t,e,n,r,a,s){const c=f[a],u=f[a+1],d=f[s],h=f[s+1];i(l,t,e),o(l,t,c,u);let p=l[r]^l[t],m=l[r+1]^l[t+1];l[r]=m,l[r+1]=p,i(l,n,r),p=l[e]^l[n],m=l[e+1]^l[n+1],l[e]=p>>>24^m<<8,l[e+1]=m>>>24^p<<8,i(l,t,e),o(l,t,d,h),p=l[r]^l[t],m=l[r+1]^l[t+1],l[r]=p>>>16^m<<16,l[r+1]=m>>>16^p<<16,i(l,n,r),p=l[e]^l[n],m=l[e+1]^l[n+1],l[e]=m>>>31^p<<1,l[e+1]=p>>>31^m<<1}const c=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),u=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map((function(t){return 2*t}))),l=new Uint32Array(32),f=new Uint32Array(32);function d(t,e){let n=0;for(n=0;n<16;n++)l[n]=t.h[n],l[n+16]=c[n];for(l[24]=l[24]^t.t,l[25]=l[25]^t.t/4294967296,e&&(l[28]=~l[28],l[29]=~l[29]),n=0;n<32;n++)f[n]=a(t.b,4*n);for(n=0;n<12;n++)s(0,8,16,24,u[16*n+0],u[16*n+1]),s(2,10,18,26,u[16*n+2],u[16*n+3]),s(4,12,20,28,u[16*n+4],u[16*n+5]),s(6,14,22,30,u[16*n+6],u[16*n+7]),s(0,10,20,30,u[16*n+8],u[16*n+9]),s(2,12,22,24,u[16*n+10],u[16*n+11]),s(4,14,16,26,u[16*n+12],u[16*n+13]),s(6,8,18,28,u[16*n+14],u[16*n+15]);for(n=0;n<16;n++)t.h[n]=t.h[n]^l[n]^l[n+16]}function h(t,e){if(0===t||t>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");const n={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:t};for(let t=0;t<16;t++)n.h[t]=c[t];const r=e?e.length:0;return n.h[0]^=16842752^r<<8^t,e&&(p(n,e),n.c=128),n}function p(t,e){for(let n=0;n<e.length;n++)128===t.c&&(t.t+=t.c,d(t,!1),t.c=0),t.b[t.c++]=e[n]}function m(t){for(t.t+=t.c;t.c<128;)t.b[t.c++]=0;d(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(3&n);return e}function v(t,e,n){n=n||64,t=r.normalizeInput(t);const i=h(n,e);return p(i,t),m(i)}t.exports={blake2b:v,blake2bHex:function(t,e,n){const i=v(t,e,n);return r.toHex(i)},blake2bInit:h,blake2bUpdate:p,blake2bFinal:m}},function(t,e,n){const r=n(111);function i(t,e){return t[e]^t[e+1]<<8^t[e+2]<<16^t[e+3]<<24}function o(t,e,n,r,i,o){u[t]=u[t]+u[e]+i,u[r]=a(u[r]^u[t],16),u[n]=u[n]+u[r],u[e]=a(u[e]^u[n],12),u[t]=u[t]+u[e]+o,u[r]=a(u[r]^u[t],8),u[n]=u[n]+u[r],u[e]=a(u[e]^u[n],7)}function a(t,e){return t>>>e^t<<32-e}const s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),c=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),u=new Uint32Array(16),l=new Uint32Array(16);function f(t,e){let n=0;for(n=0;n<8;n++)u[n]=t.h[n],u[n+8]=s[n];for(u[12]^=t.t,u[13]^=t.t/4294967296,e&&(u[14]=~u[14]),n=0;n<16;n++)l[n]=i(t.b,4*n);for(n=0;n<10;n++)o(0,4,8,12,l[c[16*n+0]],l[c[16*n+1]]),o(1,5,9,13,l[c[16*n+2]],l[c[16*n+3]]),o(2,6,10,14,l[c[16*n+4]],l[c[16*n+5]]),o(3,7,11,15,l[c[16*n+6]],l[c[16*n+7]]),o(0,5,10,15,l[c[16*n+8]],l[c[16*n+9]]),o(1,6,11,12,l[c[16*n+10]],l[c[16*n+11]]),o(2,7,8,13,l[c[16*n+12]],l[c[16*n+13]]),o(3,4,9,14,l[c[16*n+14]],l[c[16*n+15]]);for(n=0;n<8;n++)t.h[n]^=u[n]^u[n+8]}function d(t,e){if(!(t>0&&t<=32))throw new Error("Incorrect output length, should be in [1, 32]");const n=e?e.length:0;if(e&&!(n>0&&n<=32))throw new Error("Incorrect key length, should be in [1, 32]");const r={h:new Uint32Array(s),b:new Uint8Array(64),c:0,t:0,outlen:t};return r.h[0]^=16842752^n<<8^t,n>0&&(h(r,e),r.c=64),r}function h(t,e){for(let n=0;n<e.length;n++)64===t.c&&(t.t+=t.c,f(t,!1),t.c=0),t.b[t.c++]=e[n]}function p(t){for(t.t+=t.c;t.c<64;)t.b[t.c++]=0;f(t,!0);const e=new Uint8Array(t.outlen);for(let n=0;n<t.outlen;n++)e[n]=t.h[n>>2]>>8*(3&n)&255;return e}function m(t,e,n){n=n||32,t=r.normalizeInput(t);const i=d(n,e);return h(i,t),p(i)}t.exports={blake2s:m,blake2sHex:function(t,e,n){const i=m(t,e,n);return r.toHex(i)},blake2sInit:d,blake2sUpdate:h,blake2sFinal:p}},function(t,e){},function(t,e){t.exports=function(t){if(t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray)return new DataView(t.buffer,t.byteOffset,t.byteLength);if(t instanceof ArrayBuffer)return new DataView(t);throw new TypeError("Expected `data` to be an ArrayBuffer, Buffer, Int8Array, Uint8Array or Uint8ClampedArray")}},function(t,e,n){"use strict";e.__esModule=!0,e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var r=n(112);function i(t){if((t=t.trim()).startsWith("/"))return null;t=r.trimSuffix(t,"/");var e=(t=r.removeAdjacentChars(t,"/")).split("/");e[0]=e[0].toLowerCase();var n=e.join("/");return""===n?null:n}e.getPathDomain=function(t){var e=i(t);if(null===e)return null;var n=e.split("/")[0];return""===n?null:n},e.getParentPath=function(t){var e=i(t);if(null===e)return null;var n=e.split("/");if(n.length<=1)return null;n.pop();var r=n.join("/");return""===r?null:r},e.sanitizePath=i},function(t,e,n){"use strict";e.__esModule=!0,e.permTypeToString=e.permCategoryToString=e.PermType=e.PermWrite=e.PermRead=e.PermCategory=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.Permission=void 0;var r,i,o=function(t,e,n,o){if(this.requestor=t,this.path=e,this.category=n,this.permType=o,"number"!=typeof n||!(n in r))throw new Error("Invalid 'category' enum value "+n);if("number"!=typeof o||!(o in i))throw new Error("Invalid 'permType' enum value "+o)};e.Permission=o,e.PermDiscoverable=1,e.PermHidden=2,e.PermLegacySkyID=3,function(t){t[t.Discoverable=e.PermDiscoverable]="Discoverable",t[t.Hidden=e.PermHidden]="Hidden",t[t.LegacySkyID=e.PermLegacySkyID]="LegacySkyID"}(r=e.PermCategory||(e.PermCategory={})),e.PermRead=4,e.PermWrite=5,function(t){t[t.Read=e.PermRead]="Read",t[t.Write=e.PermWrite]="Write"}(i=e.PermType||(e.PermType={})),e.permCategoryToString=function(t){if(t===r.Discoverable)return"Discoverable";if(t===r.Hidden)return"Hidden";if(t===r.LegacySkyID)return"LegacySkyID";throw new Error("Invalid permission category "+t)},e.permTypeToString=function(t){if(t===i.Read)return"Read";if(t===i.Write)return"Write";throw new Error("Invalid permission type "+t)}},function(t,e,n){"use strict";e.__esModule=!0,e.monitorWindowError=e.PromiseController=e.dispatchedErrorEvent=e.errorWindowClosed=void 0,e.errorWindowClosed="window-closed",e.dispatchedErrorEvent="catchError";var r=function(){function t(){}return t.prototype.cleanup=function(){},t}();e.PromiseController=r,e.monitorWindowError=function(){var t=new r,n=new AbortController;return{promise:new Promise((function(r,i){var o=function(t){window.removeEventListener(e.dispatchedErrorEvent,o);var n=t.detail;i(n)};window.addEventListener(e.dispatchedErrorEvent,o,{signal:n.signal}),t.cleanup=function(){n.abort(),r()}})),controller:t}}},function(t,e,n){"use strict";var r=n(14),i=n(113),o=n(240),a=n(119);function s(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n}var c=s(n(64));c.Axios=o,c.create=function(t){return s(a(c.defaults,t))},c.Cancel=n(120),c.CancelToken=n(254),c.isCancel=n(118),c.all=function(t){return Promise.all(t)},c.spread=n(255),c.isAxiosError=n(256),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(14),i=n(114),o=n(241),a=n(242),s=n(119),c=n(252),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new o,response:new o}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=t;n.length;){var d=n.shift(),h=n.shift();try{f=d(f)}catch(t){h(t);break}}try{i=a(f)}catch(t){return Promise.reject(t)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var r=n(14);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(14),i=n(243),o=n(118),a=n(64);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return s(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(s(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(14),i=n(64);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(117);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";var r=n(14);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(248),i=n(249);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(14),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},function(t,e,n){"use strict";var r=n(14);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(253),i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={},a=r.version.split(".");function s(t,e){for(var n=e?e.split("."):a,r=t.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(t,e,n){var i=e&&s(e);function a(t,e){return"[Axios v"+r.version+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new Error(a(r," has been removed in "+e));return i&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={isOlderVersion:s,assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],a=e[o];if(a){var s=t[o],c=void 0===s||a(s,o,t);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(t){t.exports=JSON.parse('{"_from":"axios@^0.21.0","_id":"axios@0.21.4","_inBundle":false,"_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_location":"/fs-dac-library/axios","_phantomChildren":{},"_requested":{"type":"range","registry":true,"raw":"axios@^0.21.0","name":"axios","escapedName":"axios","rawSpec":"^0.21.0","saveSpec":null,"fetchSpec":"^0.21.0"},"_requiredBy":["/fs-dac-library/skynet-js"],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_shasum":"c67b90dc0568e5c1cf2b0b858c43ba28e2eda575","_spec":"axios@^0.21.0","_where":"C:\\\\Users\\\\Mitchell\\\\Downloads\\\\SkynetMarkdownEditor\\\\node_modules\\\\fs-dac-library\\\\node_modules\\\\skynet-js","author":{"name":"Matt Zabriskie"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"bugs":{"url":"https://github.com/axios/axios/issues"},"bundleDependencies":false,"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"dependencies":{"follow-redirects":"^1.14.0"},"deprecated":false,"description":"Promise based HTTP client for the browser and node.js","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"homepage":"https://axios-http.com","jsdelivr":"dist/axios.min.js","keywords":["xhr","http","ajax","promise","node"],"license":"MIT","main":"index.js","name":"axios","repository":{"type":"git","url":"git+https://github.com/axios/axios.git"},"scripts":{"build":"NODE_ENV=production grunt build","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","examples":"node ./examples/server.js","fix":"eslint --fix lib/**/*.js","postversion":"git push && git push --tags","preversion":"npm test","start":"node ./sandbox/server.js","test":"grunt test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},"typings":"./index.d.ts","unpkg":"dist/axios.min.js","version":"0.21.4"}')},function(t,e,n){"use strict";var r=n(120);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},function(t,e){},function(t,e,n){"use strict";e.__esModule=!0,e.sanitizePath=e.getParentPath=e.getPathDomain=void 0;var r=n(121);function i(t){return t=r.trimSuffix(t,"/"),t=r.removeAdjacentChars(t,"/")}e.getPathDomain=function(t){return t.split("/")[0]},e.getParentPath=function(t){var e=(t=i(t)).split("/");return e.length<=1?null:(e.pop(),t=e.join("/"))},e.sanitizePath=i},function(t,e,n){"use strict";e.__esModule=!0,e.permTypeToString=e.permCategoryToString=e.PermType=e.PermWrite=e.PermRead=e.PermCategory=e.PermLegacySkyID=e.PermHidden=e.PermDiscoverable=e.Permission=void 0;var r,i,o=function(t,e,n,o){if(this.requestor=t,this.path=e,this.category=n,this.permType=o,"number"!=typeof n||!(n in r))throw new Error("Invalid 'category' enum value "+n);if("number"!=typeof o||!(o in i))throw new Error("Invalid 'permType' enum value "+o)};e.Permission=o,e.PermDiscoverable=1,e.PermHidden=2,e.PermLegacySkyID=3,function(t){t[t.Discoverable=e.PermDiscoverable]="Discoverable",t[t.Hidden=e.PermHidden]="Hidden",t[t.LegacySkyID=e.PermLegacySkyID]="LegacySkyID"}(r=e.PermCategory||(e.PermCategory={})),e.PermRead=4,e.PermWrite=5,function(t){t[t.Read=e.PermRead]="Read",t[t.Write=e.PermWrite]="Write"}(i=e.PermType||(e.PermType={})),e.permCategoryToString=function(t){if(t===r.Discoverable)return"Discoverable";if(t===r.Hidden)return"Hidden";if(t===r.LegacySkyID)return"LegacySkyID";throw new Error("Invalid permission category "+t)},e.permTypeToString=function(t){if(t===i.Read)return"Read";if(t===i.Write)return"Write";throw new Error("Invalid permission type "+t)}},function(t,e,n){"use strict";e.__esModule=!0,e.monitorWindowError=e.PromiseController=e.dispatchedErrorEvent=e.errorWindowClosed=void 0,e.errorWindowClosed="window-closed",e.dispatchedErrorEvent="catchError";var r=function(){function t(){}return t.prototype.cleanup=function(){},t}();e.PromiseController=r,e.monitorWindowError=function(){var t=new r,n=new AbortController;return{promise:new Promise((function(r,i){var o=function(t){window.removeEventListener(e.dispatchedErrorEvent,o);var n=t.detail;i(n)};window.addEventListener(e.dispatchedErrorEvent,o,{signal:n.signal}),t.cleanup=function(){n.abort(),r()}})),controller:t}}},function(t,e,n){"use strict";n.r(e);var r=n(122),i=n(123),o=n.n(i),a=n(124),s=n(19),c=n.n(s);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e="function"==typeof Map?new Map:void 0;return(d=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return h(t,arguments,v(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,t)})(t)}function h(t,e,n){return(h=p()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&m(i,n.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(r,t);var e,n=(e=r,function(){var t,n=v(e);if(p()){var r=v(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return f(this,t)});function r(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(l(this,r),(e=n.call(this,t)).originalRequest=o,e.originalResponse=a,e.causingError=i,null!=i&&(t+=", caused by ".concat(i.toString())),null!=o){var s=o.getHeader("X-Request-ID")||"n/a",c=o.getMethod(),u=o.getURL(),f=a?a.getStatus():"n/a",d=a?a.getBody()||"":"n/a";t+=", originated from request (method: ".concat(c,", url: ").concat(u,", response code: ").concat(f,", response text: ").concat(d,", request id: ").concat(s,")")}return e.message=t,e}return r}(d(Error)),y=!1;function b(t){y&&console.log(t)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){x(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},_=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"resume"in n&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=n,this._urlStorage=this.options.urlStorage,this.file=e,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}var e,n,r;return e=t,r=[{key:"terminate",value:function(e,n){if(arguments.length>1&&"function"==typeof arguments[arguments.length-1])throw new Error("tus: the terminate function does not accept a callback since v2 anymore; please use the returned Promise instead");void 0===n&&(n={});var r=A("DELETE",e,n);return T(r,null,n).then((function(t){if(204!==t.getStatus())throw new g("tus: unexpected response while terminating upload",null,r,t)})).catch((function(i){if(i instanceof g||(i=new g("tus: failed to terminate upload",i,r,null)),!O(i,0,n))throw i;var o=n.retryDelays[0],a=n.retryDelays.slice(1),s=k({},n,{retryDelays:a});return new Promise((function(t){return setTimeout(t,o)})).then((function(){return t.terminate(e,s)}))}))}}],(n=[{key:"findPreviousUploads",value:function(){var t=this;return this.options.fingerprint(this.file,this.options).then((function(e){return t._urlStorage.findUploadsByFingerprint(e)}))}},{key:"resumeFromPreviousUpload",value:function(t){this.url=t.uploadUrl||null,this._parallelUploadUrls=t.parallelUploadUrls||null,this._urlStorageKey=t.urlStorageKey}},{key:"start",value:function(){var t=this,e=this.file;if(e)if(this.options.endpoint||this.options.uploadUrl){var n=this.options.retryDelays;null==n||"[object Array]"===Object.prototype.toString.call(n)?(this.options.parallelUploads>1&&["uploadUrl","uploadSize","uploadLengthDeferred"].forEach((function(e){t.options[e]&&t._emitError(new Error("tus: cannot use the ".concat(e," option when parallelUploads is enabled")))})),this.options.fingerprint(e,this.options).then((function(n){return b(null==n?"No fingerprint was calculated meaning that the upload cannot be stored in the URL storage.":"Calculated fingerprint: ".concat(n)),t._fingerprint=n,t._source?t._source:t.options.fileReader.openFile(e,t.options.chunkSize)})).then((function(e){t._source=e,t.options.parallelUploads>1||null!=t._parallelUploadUrls?t._startParallelUpload():t._startSingleUpload()})).catch((function(e){t._emitError(e)}))):this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}},{key:"_startParallelUpload",value:function(){var e=this,n=this._size=this._source.size,r=0;this._parallelUploads=[];var i=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,o=function(t,e,n){for(var r=Math.floor(t/e),i=[],o=0;o<e;o++)i.push({start:r*o,end:r*(o+1)});return i[e-1].end=t,n&&i.forEach((function(t,e){t.uploadUrl=n[e]||null})),i}(this._source.size,i,this._parallelUploadUrls);this._parallelUploadUrls=new Array(o.length);var a,s=o.map((function(i,a){var s=0;return e._source.slice(i.start,i.end).then((function(c){var u=c.value;return new Promise((function(c,l){var f=k({},e.options,{uploadUrl:i.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,metadata:{},headers:k({},e.options.headers,{"Upload-Concat":"partial"}),onSuccess:c,onError:l,onProgress:function(t){r=r-s+t,s=t,e._emitProgress(r,n)},_onUploadUrlAvailable:function(){e._parallelUploadUrls[a]=d.url,e._parallelUploadUrls.filter((function(t){return!!t})).length===o.length&&e._saveUploadInUrlStorage()}}),d=new t(u,f);d.start(),e._parallelUploads.push(d)}))}))}));Promise.all(s).then((function(){(a=e._openRequest("POST",e.options.endpoint)).setHeader("Upload-Concat","final;".concat(e._parallelUploadUrls.join(" ")));var t=C(e.options.metadata);return""!==t&&a.setHeader("Upload-Metadata",t),e._sendRequest(a,null)})).then((function(t){if(M(t.getStatus(),200)){var n=t.getHeader("Location");null!=n?(e.url=D(e.options.endpoint,n),b("Created upload at ".concat(e.url)),e._emitSuccess()):e._emitHttpError(a,t,"tus: invalid or missing Location header")}else e._emitHttpError(a,t,"tus: unexpected response while creating upload")})).catch((function(t){e._emitError(t)}))}},{key:"_startSingleUpload",value:function(){if(this.options.uploadLengthDeferred)this._size=null;else if(null!=this.options.uploadSize){if(this._size=+this.options.uploadSize,isNaN(this._size))return void this._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(this._size=this._source.size,null==this._size)return void this._emitError(new Error("tus: cannot automatically derive upload's size from input and must be specified manually using the `uploadSize` option"));return this._aborted=!1,null!=this.url?(b("Resuming upload from previous URL: ".concat(this.url)),void this._resumeUpload()):null!=this.options.uploadUrl?(b("Resuming upload from provided URL: ".concat(this.options.url)),this.url=this.options.uploadUrl,void this._resumeUpload()):(b("Creating a new upload"),void this._createUpload())}},{key:"abort",value:function(e){var n=this;if(arguments.length>1&&"function"==typeof arguments[1])throw new Error("tus: the abort function does not accept a callback since v2 anymore; please use the returned Promise instead");return null!=this._parallelUploads&&this._parallelUploads.forEach((function(t){t.abort(e)})),null!==this._req&&(this._req.abort(),this._source.close()),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),e&&null!=this.url?t.terminate(this.url,this.options).then((function(){return n._removeFromUrlStorage()})):Promise.resolve()}},{key:"_emitHttpError",value:function(t,e,n,r){this._emitError(new g(n,r,t,e))}},{key:"_emitError",value:function(t){var e=this;if(!this._aborted){if(null!=this.options.retryDelays&&(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),O(t,this._retryAttempt,this.options))){var n=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){e.start()}),n))}if("function"!=typeof this.options.onError)throw t;this.options.onError(t)}}},{key:"_emitSuccess",value:function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}},{key:"_emitProgress",value:function(t,e){"function"==typeof this.options.onProgress&&this.options.onProgress(t,e)}},{key:"_emitChunkComplete",value:function(t,e,n){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(t,e,n)}},{key:"_createUpload",value:function(){var t=this;if(this.options.endpoint){var e=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?e.setHeader("Upload-Defer-Length",1):e.setHeader("Upload-Length",this._size);var n,r=C(this.options.metadata);""!==r&&e.setHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,n=this._addChunkToRequest(e)):n=this._sendRequest(e,null),n.then((function(n){if(M(n.getStatus(),200)){var r=n.getHeader("Location");if(null!=r){if(t.url=D(t.options.endpoint,r),b("Created upload at ".concat(t.url)),"function"==typeof t.options._onUploadUrlAvailable&&t.options._onUploadUrlAvailable(),0===t._size)return t._emitSuccess(),void t._source.close();t._saveUploadInUrlStorage(),t.options.uploadDataDuringCreation?t._handleUploadResponse(e,n):(t._offset=0,t._performUpload())}else t._emitHttpError(e,n,"tus: invalid or missing Location header")}else t._emitHttpError(e,n,"tus: unexpected response while creating upload")})).catch((function(n){t._emitHttpError(e,null,"tus: failed to create upload",n)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}},{key:"_resumeUpload",value:function(){var t=this,e=this._openRequest("HEAD",this.url);this._sendRequest(e,null).then((function(n){var r=n.getStatus();if(!M(r,200))return M(r,400)&&t._removeFromUrlStorage(),423===r?void t._emitHttpError(e,n,"tus: upload is currently locked; retry later"):t.options.endpoint?(t.url=null,void t._createUpload()):void t._emitHttpError(e,n,"tus: unable to resume upload (new upload cannot be created without an endpoint)");var i=parseInt(n.getHeader("Upload-Offset"),10);if(isNaN(i))t._emitHttpError(e,n,"tus: invalid or missing offset value");else{var o=parseInt(n.getHeader("Upload-Length"),10);if(!isNaN(o)||t.options.uploadLengthDeferred){if("function"==typeof t.options._onUploadUrlAvailable&&t.options._onUploadUrlAvailable(),i===o)return t._emitProgress(o,o),void t._emitSuccess();t._offset=i,t._performUpload()}else t._emitHttpError(e,n,"tus: invalid or missing length value")}})).catch((function(n){t._emitHttpError(e,null,"tus: failed to resume upload",n)}))}},{key:"_performUpload",value:function(){var t,e=this;this._aborted||(this.options.overridePatchMethod?(t=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):t=this._openRequest("PATCH",this.url),t.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(t).then((function(n){M(n.getStatus(),200)?e._handleUploadResponse(t,n):e._emitHttpError(t,n,"tus: unexpected response while uploading chunk")})).catch((function(n){e._aborted||e._emitHttpError(t,null,"tus: failed to upload chunk at offset ".concat(e._offset),n)})))}},{key:"_addChunkToRequest",value:function(t){var e=this,n=this._offset,r=this._offset+this.options.chunkSize;return t.setProgressHandler((function(t){e._emitProgress(n+t,e._size)})),t.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(n,r).then((function(n){var r=n.value,i=n.done;return e.options.uploadLengthDeferred&&i&&(e._size=e._offset+(r&&r.size?r.size:0),t.setHeader("Upload-Length",e._size)),null===r?e._sendRequest(t):(e._emitProgress(e._offset,e._size),e._sendRequest(t,r))}))}},{key:"_handleUploadResponse",value:function(t,e){var n=parseInt(e.getHeader("Upload-Offset"),10);if(isNaN(n))this._emitHttpError(t,e,"tus: invalid or missing offset value");else{if(this._emitProgress(n,this._size),this._emitChunkComplete(n-this._offset,n,this._size),this._offset=n,n==this._size)return this._emitSuccess(),void this._source.close();this._performUpload()}}},{key:"_openRequest",value:function(t,e){var n=A(t,e,this.options);return this._req=n,n}},{key:"_removeFromUrlStorage",value:function(){var t=this;this._urlStorageKey&&(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(e){t._emitError(e)})),this._urlStorageKey=null)}},{key:"_saveUploadInUrlStorage",value:function(){var t=this;if(this.options.storeFingerprintForResuming&&this._fingerprint){var e={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};this._parallelUploads?e.parallelUploadUrls=this._parallelUploadUrls:e.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,e).then((function(e){return t._urlStorageKey=e})).catch((function(e){t._emitError(e)}))}}},{key:"_sendRequest",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return T(t,e,this.options)}}])&&S(e.prototype,n),r&&S(e,r),t}();function C(t){var e=[];for(var n in t)e.push("".concat(n," ").concat(a.Base64.encode(t[n])));return e.join(",")}function M(t,e){return t>=e&&t<e+100}function A(t,e,n){var r=n.httpStack.createRequest(t,e);r.setHeader("Tus-Resumable","1.0.0");var i=n.headers||{};for(var o in i)r.setHeader(o,i[o]);if(n.addRequestId){var a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}));r.setHeader("X-Request-ID",a)}return r}function T(t,e,n){return("function"==typeof n.onBeforeRequest?Promise.resolve(n.onBeforeRequest(t)):Promise.resolve()).then((function(){return t.send(e).then((function(e){return("function"==typeof n.onAfterResponse?Promise.resolve(n.onAfterResponse(t,e)):Promise.resolve()).then((function(){return e}))}))}))}function O(t,e,n){if(null==n.retryDelays||e>=n.retryDelays.length||null==t.originalRequest)return!1;if(n&&"function"==typeof n.onShouldRetry)return n.onShouldRetry(t,e,n);var r,i=t.originalResponse?t.originalResponse.getStatus():0;return(!M(i,400)||409===i||423===i)&&(r=!0,"undefined"!=typeof window&&"navigator"in window&&!1===window.navigator.onLine&&(r=!1),r)}function D(t,e){return new c.a(e,t).toString()}_.defaultOptions=E;var I=_;function N(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"listAllUploads",value:function(){return Promise.resolve([])}},{key:"findUploadsByFingerprint",value:function(t){return Promise.resolve([])}},{key:"removeUpload",value:function(t){return Promise.resolve()}},{key:"addUpload",value:function(t,e){return Promise.resolve(null)}}])&&N(e.prototype,n),r&&N(e,r),t}();function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=!1;try{R="localStorage"in window;localStorage.setItem("tusSupport",localStorage.getItem("tusSupport"))}catch(t){if(t.code!==t.SECURITY_ERR&&t.code!==t.QUOTA_EXCEEDED_ERR)throw t;R=!1}var B=R,j=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"findAllUploads",value:function(){var t=this._findEntries("tus::");return Promise.resolve(t)}},{key:"findUploadsByFingerprint",value:function(t){var e=this._findEntries("tus::".concat(t,"::"));return Promise.resolve(e)}},{key:"removeUpload",value:function(t){return localStorage.removeItem(t),Promise.resolve()}},{key:"addUpload",value:function(t,e){var n=Math.round(1e12*Math.random()),r="tus::".concat(t,"::").concat(n);return localStorage.setItem(r,JSON.stringify(e)),Promise.resolve(r)}},{key:"_findEntries",value:function(t){for(var e=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);if(0===r.indexOf(t))try{var i=JSON.parse(localStorage.getItem(r));i.urlStorageKey=r,e.push(i)}catch(t){}}return e}}])&&L(e.prototype,n),r&&L(e,r),t}();function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),t}var F=function(){function t(){U(this,t)}return H(t,[{key:"createRequest",value:function(t,e){return new q(t,e)}},{key:"getName",value:function(){return"XHRHttpStack"}}]),t}(),q=function(){function t(e,n){U(this,t),this._xhr=new XMLHttpRequest,this._xhr.open(e,n,!0),this._method=e,this._url=n,this._headers={}}return H(t,[{key:"getMethod",value:function(){return this._method}},{key:"getURL",value:function(){return this._url}},{key:"setHeader",value:function(t,e){this._xhr.setRequestHeader(t,e),this._headers[t]=e}},{key:"getHeader",value:function(t){return this._headers[t]}},{key:"setProgressHandler",value:function(t){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(e){e.lengthComputable&&t(e.loaded)})}},{key:"send",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,r){t._xhr.onload=function(){n(new V(t._xhr))},t._xhr.onerror=function(t){r(t)},t._xhr.send(e)}))}},{key:"abort",value:function(){return this._xhr.abort(),Promise.resolve()}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),V=function(){function t(e){U(this,t),this._xhr=e}return H(t,[{key:"getStatus",value:function(){return this._xhr.status}},{key:"getHeader",value:function(t){return this._xhr.getResponseHeader(t)}},{key:"getBody",value:function(){return this._xhr.responseText}},{key:"getUnderlyingObject",value:function(){return this._xhr}}]),t}(),K=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()};var W=function(){return"undefined"!=typeof window&&(void 0!==window.PhoneGap||void 0!==window.Cordova||void 0!==window.cordova)};function J(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Y(t,e,n){return e&&G(t.prototype,e),n&&G(t,n),t}var X=function(){function t(e){J(this,t),this._file=e,this.size=e.size}return Y(t,[{key:"slice",value:function(t,e){if(W())return n=this._file.slice(t,e),new Promise((function(t,e){var r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result);t({value:e})},r.onerror=function(t){e(t)},r.readAsArrayBuffer(n)}));var n,r=this._file.slice(t,e);return Promise.resolve({value:r})}},{key:"close",value:function(){}}]),t}(),Z=function(){function t(e,n){J(this,t),this._chunkSize=n,this._buffer=void 0,this._bufferOffset=0,this._reader=e,this._done=!1}return Y(t,[{key:"slice",value:function(t,e){return t<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(t,e)}},{key:"_readUntilEnoughDataOrDone",value:function(t,e){var n=this,r=e<=this._bufferOffset+Q(this._buffer);if(this._done||r){var i=this._getDataFromBuffer(t,e),o=null==i&&this._done;return Promise.resolve({value:i,done:o})}return this._reader.read().then((function(r){var i=r.value;return r.done?n._done=!0:void 0===n._buffer?n._buffer=i:n._buffer=function(t,e){if(t.concat)return t.concat(e);if(t instanceof Blob)return new Blob([t,e],{type:t.type});if(t.set){var n=new t.constructor(t.length+e.length);return n.set(t),n.set(e,t.length),n}throw new Error("Unknown data type")}(n._buffer,i),n._readUntilEnoughDataOrDone(t,e)}))}},{key:"_getDataFromBuffer",value:function(t,e){t>this._bufferOffset&&(this._buffer=this._buffer.slice(t-this._bufferOffset),this._bufferOffset=t);var n=0===Q(this._buffer);return this._done&&n?null:this._buffer.slice(0,e-t)}},{key:"close",value:function(){this._reader.cancel&&this._reader.cancel()}}]),t}();function Q(t){return void 0===t?0:void 0!==t.size?t.size:t.length}var tt=function(){function t(){J(this,t)}return Y(t,[{key:"openFile",value:function(t,e){return K()&&t&&void 0!==t.uri?(n=t.uri,new Promise((function(t,e){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var e=r.response;t(e)},r.onerror=function(t){e(t)},r.open("GET",n),r.send()}))).then((function(t){return new X(t)})).catch((function(t){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(t))})):"function"==typeof t.slice&&void 0!==t.size?Promise.resolve(new X(t)):"function"==typeof t.read?(e=+e,isFinite(e)?Promise.resolve(new Z(t,e)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"));var n}}]),t}();function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ot(t,e){return!e||"object"!==et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function at(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){lt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function lt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ft=ut({},I.defaultOptions,{httpStack:new F,fileReader:new tt,urlStorage:B?new j:new P,fingerprint:function(t,e){return K()?Promise.resolve(function(t,e){var n=t.exif?function(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){var r=t.charCodeAt(n);e=(e<<5)-e+r,e&=e}return e}(JSON.stringify(t.exif)):"noexif";return["tus-rn",t.name||"noname",t.size||"nosize",n,e.endpoint].join("/")}(t,e)):Promise.resolve(["tus-br",t.name,t.type,t.size,t.lastModified,e.endpoint].join("-"))}}),dt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(a,t);var e,n,r,i,o=(e=a,function(){var t,n=st(e);if(at()){var r=st(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return ot(this,t)});function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return nt(this,a),e=ut({},ft,{},e),o.call(this,t,e)}return n=a,i=[{key:"terminate",value:function(t,e,n){return e=ut({},ft,{},e),I.terminate(t,e,n)}}],(r=null)&&rt(n.prototype,r),i&&rt(n,i),a}(I),ht=window,pt=ht.XMLHttpRequest,mt=ht.Blob,vt=(pt&&mt&&mt.prototype.slice,n(42)),gt=n.n(vt),yt=n(24),bt=n.n(yt),wt=n(6),kt=n(43),xt=n.n(kt);function St(t,e){const n=new URL(t);return n.hostname=`${e}.${n.hostname}`,Wt(n.toString(),"/")}function Et(t,e){const n=c()(t,!0);return e={...n.query,...e},n.set("query",e),n.toString()}function _t(...t){return 0===t.length&&qt("args",t,"parameter","non-empty"),t.reduce((t,e)=>xt()(t,e))}function Ct(t,e){let n,r;return jt("portalUrl",t,"parameter"),jt("domain",e,"parameter"),e=$t(e=Jt(e,"sia://")),[e,n]=e.split(/\/(.+)/),r="localhost"===e?"localhost":St(t,e),n&&(r=function(t,e){let n;if(jt("url",t,"parameter"),jt("path",e,"parameter"),e=$t(e),"localhost"===t)n=`localhost/${e}`;else{const r=new URL(t);r.pathname=e,n=r.toString()}return Wt(n,"/")}(r,n)),r}const Mt={fromSubdomain:!1,includePath:!1,onlyPath:!1},At=new RegExp("^([a-zA-Z0-9_-]{46})$"),Tt=new RegExp("^/?([a-zA-Z0-9_-]{46})((/.*)?)$"),Ot=new RegExp("^([a-z0-9_-]{55})(\\..*)?$");function Dt(t,e){jt("skylinkUrl",t,"parameter"),Lt("customOptions",e,"parameter",Mt);const n={...Mt,...e};if(n.includePath&&n.onlyPath)throw new Error("The includePath and onlyPath options cannot both be set");if(n.includePath&&n.fromSubdomain)throw new Error("The includePath and fromSubdomain options cannot both be set");if(n.fromSubdomain)return function(t,e){const n={...Mt,...e},r=c()(t,{}),i=r.hostname.match(Ot);if(i)return n.onlyPath?Wt(r.pathname,"/"):i[1];return null}(t,n);const r=(t=Jt(t,"sia://")).match(At);if(r)return n.onlyPath?"":r[1];const i=Wt(c()(t,{}).pathname,"/"),o=i.match(Tt);if(!o)return null;const a=o[2];return n.includePath?$t(i):n.onlyPath?a:o[1]}function It(t,e,n){"bigint"!=typeof e&&qt(t,e,n,"type 'bigint'")}function Nt(t,e,n){"boolean"!=typeof e&&qt(t,e,n,"type 'boolean'")}function Pt(t,e,n){"object"!=typeof e&&qt(t,e,n,"type 'object'"),null===e&&qt(t,e,n,"non-null")}function Lt(t,e,n,r){if(e){Pt(t,e,n);for(const i in e)if(!(i in r))throw new Error(`Object ${n} '${t}' contains unexpected property '${i}'`)}}function Rt(t,e,n){"number"!=typeof e&&qt(t,e,n,"type 'number'")}function Bt(t,e,n){jt(t,e,n);const r=Dt(e);if(null===r)throw Vt(t,e,n,"valid skylink of type 'string'");return r}function jt(t,e,n){"string"!=typeof e&&qt(t,e,n,"type 'string'")}function Ut(t,e,n,r){jt(t,e,n);const i=e.length;i!==r&&qt(t,e,n,`type 'string' of length ${r}, was length ${i}`)}function zt(t,e,n){jt(t,e,n),Zt(e)||qt(t,e,n,"a hex-encoded string")}function Ht(t,e,n){e instanceof Uint8Array||qt(t,e,n,"type 'Uint8Array'")}function Ft(t,e,n,r){Ht(t,e,n);const i=e.length;i!==r&&qt(t,e,n,`type 'Uint8Array' of length ${r}, was length ${i}`)}function qt(t,e,n,r){throw Vt(t,e,n,r)}function Vt(t,e,n,r){let i;return i=void 0===e?"type 'undefined'":null===e?"type 'null'":`type '${typeof e}', value '${e}'`,new Error(`Expected ${n} '${t}' to be ${r}, was ${i}`)}function $t(t){return Kt(Wt(t,"/"),"/")}function Kt(t,e,n){for(;t.startsWith(e)&&!(void 0!==n&&n<=0);)t=t.slice(e.length),n&&(n-=1);return t}function Wt(t,e,n){for(;t.endsWith(e)&&!(void 0!==n&&n<=0);)t=t.substring(0,t.length-e.length),n&&(n-=1);return t}function Jt(t,e){const n=e.toLowerCase(),r=Wt(n,"/"),i=t.toLowerCase();return i.startsWith(n)?t.slice(n.length):i.startsWith(r)?t.slice(r.length):t}function Gt(t){return jt("str",t,"parameter"),Uint8Array.from(wt.Buffer.from(t,"utf-8"))}function Yt(t){return wt.Buffer.from(t).toString("utf-8")}function Xt(t){zt("str",t,"parameter");const e=t.match(/.{1,2}/g);if(null===e)throw Vt("str",t,"parameter","a hex-encoded string");return new Uint8Array(e.map(t=>parseInt(t,16)))}function Zt(t){return jt("str",t,"parameter"),/^[0-9A-Fa-f]*$/g.test(t)}function Qt(t){let e="";return t.forEach((function(t){e+=("0"+(255&t).toString(16)).slice(-2)})),e}function te(t){if(t.type)return t.type;let e=bt.a.extname(t.name);if(e=Kt(e,"."),""!==e){const t=gt.a.getType(e);if(t)return t}return""}const ee={APIKey:"",customUserAgent:"",customCookie:"",onDownloadProgress:void 0,onUploadProgress:void 0};function ne(t,e){const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(!Object.prototype.hasOwnProperty.call(t,r))throw new Error(`Property '${r}' not found`);n[r]=t[r]}return n}n(30);var re=n(27),ie=n(12),oe=n.n(ie),ae=n(9),se=n(44),ce=n.n(se),ue=n(45),le=n.n(ue),fe=n(23);const de=BigInt("18446744073709551615");function he(t){if(It("int",t,"parameter"),t<BigInt(0))throw new Error(`Argument ${t} must be an unsigned 64-bit integer; was negative`);if(t>de)throw new Error(`Argument ${t} does not fit in a 64-bit unsigned integer; exceeds 2^64-1`)}function pe(t){t=t.toUpperCase();const e=ce()(t,"RFC4648-HEX");return new Uint8Array(e)}function me(t){return t=(t=`${t}==`).replace(/-/g,"+").replace(/_/g,"/"),Object(fe.toByteArray)(t)}function ve(t){let e=Object(fe.fromByteArray)(t);return e=e.replace(/\+/g,"-").replace(/\//g,"_"),e.slice(0,-2)}function ge(t){const e=t.length,n=new ArrayBuffer(8+e);new DataView(n).setUint32(0,e,!0);const r=new Uint8Array(n);return r.set(t,8),r}function ye(t){const e=Gt(t),n=new Uint8Array(8+e.length);return n.set(function(t){const e=new Uint8Array(8);for(let n=0;n<e.length;n++){const r=255&t;e[n]=r,t>>=8}return e}(e.length)),n.set(e,8),n}const be=2*ae.sign.publicKeyLength,we=(ae.sign.secretKeyLength,ae.sign.signatureLength);function ke(...t){const e=Object(re.blake2bInit)(32);return t.forEach(t=>Object(re.blake2bUpdate)(e,t)),Object(re.blake2bFinal)(e)}function xe(t){return ke(ye(t))}function Se(t,e){let n;return n=e?Xt(t.dataKey):xe(t.dataKey),ke(n,ge(t.data),function(t){he(t);const e=new Uint8Array(8);for(let n=0;n<e.length;n++){const r=t&BigInt(255);e[n]=Number(r),t>>=BigInt(8)}return e}(t.revision))}function Ee(t){return"string"==typeof t?Object(ae.hash)(Gt(t)):Object(ae.hash)(t)}const _e=new Uint8Array(34);class Ce{constructor(t,e){this.bitfield=t,this.merkleRoot=e,Rt("bitfield",t,"constructor parameter"),Ft("merkleRoot",e,"constructor parameter",32)}toBytes(){const t=new ArrayBuffer(34);new DataView(t).setUint16(0,this.bitfield,!0);const e=new Uint8Array(t);return e.set(this.merkleRoot,2),e}toString(){return ve(this.toBytes())}static fromBytes(t){Ft("data",t,"parameter",34);const e=new DataView(t.buffer).getUint16(0,!0),n=new Uint8Array(32);return n.set(t.slice(2)),new Ce(e,n)}static fromString(t){const e=Oe(t);return Ce.fromBytes(e)}}class Me{constructor(t,e){this.algorithm=t,this.key=e}marshalSia(){const t=new Uint8Array(56);return t.set(this.algorithm),t.set(ge(this.key),16),t}}function Ae(t){zt("publicKey",t,"parameter");const e=function(t){jt("name",t,"parameter");const e=new Uint8Array(16);return e.set(Gt(t)),e}("ed25519"),n=Xt(t);return Ft("publicKeyBytes",n,"converted publicKey",32),new Me(e,n)}function Te(t,e){const n=function(t,e){return ke(t.marshalSia(),e)}(t,e);return new Ce(1,n)}function Oe(t){let e;if(55===(t=Jt(t,"sia://")).length)e=pe(t);else{if(46!==t.length)throw new Error("skylink has incorrect size");e=me(t)}if(34!=e.length)throw new Error("failed to load skylink data");return e}function De(t){return Ut("skylink",t=Jt(t,"sia://"),"parameter",46),function(t){return le()(t,"RFC4648-HEX",{padding:!1}).toLowerCase()}(me(t))}function Ie(t){return jt("skylink",t,"parameter"),""===t?t:(t.startsWith("sia://")||(t=`sia://${t}`),t)}const Ne={...ee,endpointUpload:"/skynet/skyfile",endpointLargeUpload:"/skynet/tus",customFilename:"",errorPages:void 0,largeFileSize:41943040,retryDelays:[0,5e3,15e3,6e4,3e5,6e5],tryFiles:void 0};async function Pe(t,e){const n={...Ne,...this.customOptions,...e};return t.size<n.largeFileSize?this.uploadSmallFile(t,n):this.uploadLargeFile(t,n)}async function Le(t,e){const n=await this.uploadSmallFileRequest(t,e);return qe(n),{skylink:Ie(n.data.skylink)}}async function Re(t,e){Fe("file",t,"parameter"),Lt("customOptions",e,"parameter",Ne);const n={...Ne,...this.customOptions,...e},r=new FormData;return t=He(t),n.customFilename?r.append("file",t,n.customFilename):r.append("file",t),await this.executeRequest({...n,endpointPath:n.endpointUpload,method:"post",data:r})}async function Be(t,e){const n=await this.uploadLargeFileRequest(t,e);!function(t){try{if(!t.headers)throw new Error("response.headers field missing");jt('response.headers["skynet-skylink"]',t.headers["skynet-skylink"],"upload response field")}catch(t){throw new Error(`Did not get a complete upload response despite a successful request. Please try again and report this issue to the devs if it persists. Error: ${t}`)}}(n);let r=n.headers["skynet-skylink"];return r=Ie(r),{skylink:r}}async function je(t,e){var n;Fe("file",t,"parameter"),Lt("customOptions",e,"parameter",Ne);const r={...Ne,...this.customOptions,...e},i=await $r(this,r.endpointLargeUpload),o=Kr(void 0,r.customUserAgent,r.customCookie);let a=(t=He(t)).name;r.customFilename&&(a=r.customFilename);const s=r.onUploadProgress&&function(t,e){const n=t/e;r.onUploadProgress(n,{loaded:t,total:e})},c=await this.executeRequest({...r,endpointPath:r.endpointLargeUpload,method:"options"});let u=1;return(null===(n=c.headers["tus-extension"])||void 0===n?void 0:n.includes("concatenation"))&&(u=2),new Promise((e,n)=>{const c={endpoint:i,chunkSize:41943040,retryDelays:r.retryDelays,metadata:{filename:a,filetype:t.type},parallelUploads:u,headers:o,onProgress:s,onBeforeRequest:function(t){t.getUnderlyingObject().withCredentials=!0},onError:t=>{const e=t.originalResponse,r=e&&new Error(e.getBody().trim())||t;n(r)},onSuccess:async()=>{if(!l.url)return void n(new Error("'upload.url' was not set"));const t=await this.executeRequest({...r,url:l.url,endpointPath:r.endpointLargeUpload,method:"head",headers:{...o,"Tus-Resumable":"1.0.0"}});e(t)}},l=new dt(t,c);l.start()})}async function Ue(t,e,n){const r=await this.uploadDirectoryRequest(t,e,n);return qe(r),{skylink:Ie(r.data.skylink)}}async function ze(t,e,n){Pt("directory",t,"parameter"),jt("filename",e,"parameter"),Lt("customOptions",n,"parameter",Ne);const r={...Ne,...this.customOptions,...n},i=new FormData;Object.entries(t).forEach(([t,e])=>{e=He(e),i.append("files[]",e,t)});const o={filename:e};return r.tryFiles&&(o.tryfiles=JSON.stringify(r.tryFiles)),r.errorPages&&(o.errorpages=JSON.stringify(r.errorPages)),await this.executeRequest({...r,endpointPath:r.endpointUpload,method:"post",data:i,query:o})}function He(t){return new File([t],t.name,{type:te(t)})}function Fe(t,e,n){e instanceof File||qt(t,e,n,"type 'File'")}function qe(t){try{if(!t.data)throw new Error("response.data field missing");jt("skylink",t.data.skylink,"upload response field")}catch(t){throw new Error(`Did not get a complete upload response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}const Ve={...ee,endpointGetEntry:"/skynet/registry",hashedDataKeyHex:!1},$e={...ee,endpointSetEntry:"/skynet/registry",hashedDataKeyHex:!1},Ke=/"revision":\s*([0-9]+)/,We=/"revision":\s*"([0-9]+)"/;async function Je(t,e,n){const r={...Ve,...this.customOptions,...n},i=await this.registry.getEntryUrl(t,e,r);let o;try{o=await this.executeRequest({...r,endpointPath:r.endpointGetEntry,url:i,method:"get",transformResponse:function(t){if(void 0===t)return{};t=t.replace(Ke,'"revision":"$1"');try{return JSON.parse(t)}catch{return t}}})}catch(t){return function(t){if(!t.response)throw new Error(`Error response field not found, incomplete Axios error. Full error: ${t}`);if(!t.response.status)throw new Error(`Error response did not contain expected field 'status'. Full error: ${t}`);if(404===t.response.status)return{entry:null,signature:null};throw t}(t)}try{jt("response.data.data",o.data.data,"entry response field"),jt("response.data.revision",o.data.revision,"entry response field"),jt("response.data.signature",o.data.signature,"entry response field")}catch(t){throw new Error(`Did not get a complete entry response despite a successful request. Please try again and report this issue to the devs if it persists. Error: ${t}`)}const a=BigInt(o.data.revision),s=wt.Buffer.from(Xt(o.data.signature));let c=new Uint8Array([]);o.data.data&&(c=Xt(o.data.data));const u={entry:{dataKey:e,data:c,revision:a},signature:s},l=new Uint8Array(u.signature),f=Xt(t);if(Ft("signatureArray",l,"response value",we),Ft("publicKeyArray",f,"response value",be/2),ae.sign.detached.verify(Se(u.entry,r.hashedDataKeyHex),l,f))return u;throw new Error("Could not verify signature from retrieved, signed registry entry -- possible corrupted entry")}async function Ge(t,e,n){const r={...Ve,...this.customOptions,...n};return function(t,e,n,r){jt("portalUrl",t,"parameter"),en("publicKey",e,"parameter"),jt("dataKey",n,"parameter"),Lt("customOptions",r,"parameter",Ve);const i={...Ve,...r};let o=n;i.hashedDataKeyHex||(o=Qt(xe(n)));const a={publickey:(s=e,c="ed25519:",s.startsWith(c)||(s=`${c}${s}`),s),datakey:o,timeout:5..toString()};var s,c;let u=_t(t,i.endpointGetEntry);return u=Et(u,a),u}(await this.portalUrl(),t,e,r)}function Ye(t,e,n){en("publicKey",t,"parameter"),jt("dataKey",e,"parameter"),Lt("customOptions",n,"parameter",Ve);const r={...Ve,...n},i=Ae(Kt(t,"ed25519:"));let o;return o=r.hashedDataKeyHex?Xt(e):xe(e),Ie(Te(i,o).toString())}async function Xe(t,e,n){en("publicKey",t,"parameter"),jt("dataKey",e,"parameter"),Lt("customOptions",n,"parameter",Ve);const r={...Ve,...n},i=Ae(Kt(t,"ed25519:"));let o;return o=r.hashedDataKeyHex?Xt(e):xe(e),Ie(Te(i,o).toString())}async function Ze(t,e,n){zt("privateKey",t,"parameter"),tn("entry",e,"parameter"),Lt("customOptions",n,"parameter",$e),he(e.revision);const r={...$e,...this.customOptions,...n},i=Xt(t),o=await async function(t,e,n){const r=Xt(t);return Object(ae.sign)(Se(e,n),r)}(t,e,r.hashedDataKeyHex),{publicKey:a}=ae.sign.keyPair.fromSecretKey(i);return await this.registry.postSignedEntry(Qt(a),e,o,r)}async function Qe(t,e,n,r){zt("publicKey",t,"parameter"),tn("entry",e,"parameter"),Ht("signature",n,"parameter"),Lt("customOptions",r,"parameter",$e);const i={...$e,...this.customOptions,...r};let o=e.dataKey;i.hashedDataKeyHex||(o=Qt(xe(o)));const a=Array.from(e.data),s={publickey:{algorithm:"ed25519",key:Array.from(Xt(t))},datakey:o,revision:e.revision.toString(),data:a,signature:Array.from(n)};await this.executeRequest({...i,endpointPath:i.endpointSetEntry,method:"post",data:s,transformRequest:function(t){return JSON.stringify(t).replace(We,'"revision":$1')}})}function tn(t,e,n){Pt(t,e,n),jt(`${t}.dataKey`,e.dataKey,`${n} field`),Ht(`${t}.data`,e.data,`${n} field`),It(`${t}.revision`,e.revision,`${n} field`)}function en(t,e,n){Zt(Kt(e,"ed25519:"))||qt(t,e,n,"a hex-encoded string with a valid prefix")}const nn={...ee,endpointDownload:"/",download:!1,path:void 0,range:void 0,responseType:void 0,subdomain:!1},rn={...ee,endpointGetMetadata:"/skynet/metadata"},on={...nn,endpointDownloadHns:"hns",hnsSubdomain:"hns",subdomain:!0},an={...ee,endpointResolveHns:"hnsres"};async function sn(t,e){const n={...nn,...this.customOptions,...e,download:!0},r=await this.getSkylinkUrl(t,n);return window.location.assign(r),r}async function cn(t,e){const n={...on,...this.customOptions,...e,download:!0},r=await this.getHnsUrl(t,n);return window.location.assign(r),r}async function un(t,e){const n={...nn,...this.customOptions,...e};return function(t,e,n){var r;jt("portalUrl",t,"parameter"),jt("skylinkUrl",e,"parameter"),Lt("customOptions",n,"parameter",nn);const i={...nn,...n},o=wn(i.download);let a,s="";if(i.path){if("string"!=typeof i.path)throw new Error(`opts.path has to be a string, ${typeof i.path} provided`);s=i.path.split("/").map(t=>encodeURIComponent(t)).join("/")}if(i.subdomain){const n=null!==(r=Dt(e,{onlyPath:!0}))&&void 0!==r?r:"";let i=Dt(e);if(null===i)throw new Error(`Could not get skylink out of input '${e}'`);i=De(i),a=St(t,i),a=_t(a,n,s)}else{const n=Dt(e,{includePath:!0});if(null===n)throw new Error(`Could not get skylink with path out of input '${e}'`);a=_t(t,i.endpointDownload,n),a=_t(a,s)}return Et(a,o)}(await this.portalUrl(),t,n)}async function ln(t,e){jt("domain",t,"parameter"),Lt("customOptions",e,"parameter",on);const n={...on,...this.customOptions,...e},r=wn(n.download);t=Jt(t,"hns://");const i=await this.portalUrl();return Et(n.subdomain?St(St(i,n.hnsSubdomain),t):_t(i,n.endpointDownloadHns,t),r)}async function fn(t,e){jt("domain",t,"parameter"),Lt("customOptions",e,"parameter",an);const n={...an,...this.customOptions,...e};return t=Jt(t,"hns://"),_t(await this.portalUrl(),n.endpointResolveHns,t)}async function dn(t,e){Lt("customOptions",e,"parameter",rn);const n={...rn,...this.customOptions,...e};if(Dt(t,{onlyPath:!0}))throw new Error("Skylink string should not contain a path");const r={endpointDownload:n.endpointGetMetadata},i=await this.getSkylinkUrl(t,r),o=await this.executeRequest({...n,endpointPath:n.endpointGetMetadata,method:"GET",url:i});return function(t,e){try{if(!t.data)throw new Error("'response.data' field missing");if(!t.headers)throw new Error("'response.headers' field missing");const n=t.headers["skynet-portal-api"];if(!n)throw new Error("'skynet-portal-api' header missing");jt('response.headers["skynet-portal-api"]',n,"getMetadata response header");const r=t.headers["skynet-skylink"];if(!r)throw new Error("'skynet-skylink' header missing");Bt('response.headers["skynet-skylink"]',r,"getMetadata response header"),Sn(e,r,t.headers["skynet-proof"])}catch(t){throw new Error(`Metadata response invalid despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(o,Dt(t)),{metadata:o.data,portalUrl:o.headers["skynet-portal-api"],skylink:Ie(o.headers["skynet-skylink"])}}async function hn(t,e){const n=await this.getFileContentRequest(t,e);return xn(n,Dt(t)),await kn(n)}async function pn(t,e){const n={...nn,...this.customOptions,...e},r=await this.getSkylinkUrl(t,n),i=bn(n.range);return await this.executeRequest({...n,endpointPath:n.endpointDownload,method:"get",url:r,headers:i})}async function mn(t,e){const n={...on,...this.customOptions,...e},r=await this.getHnsUrl(t,n),i=bn(n.range),[o,{skylink:a}]=await Promise.all([this.executeRequest({...n,endpointPath:n.endpointDownload,method:"get",url:r,headers:i}),this.resolveHns(t)]);return xn(o,a),await kn(o)}async function vn(t,e){const n={...nn,...this.customOptions,...e},r=await this.getSkylinkUrl(t,n);return window.open(r,"_blank"),r}async function gn(t,e){const n={...on,...this.customOptions,...e},r=await this.getHnsUrl(t,n);return window.open(r,"_blank"),r}async function yn(t,e){const n={...an,...this.customOptions,...e},r=await this.getHnsresUrl(t,n),i=await this.executeRequest({...n,endpointPath:n.endpointResolveHns,method:"get",url:r});if(function(t){try{if(!t.data)throw new Error("'response.data' field missing");t.data.skylink?Bt("response.data.skylink",t.data.skylink,"resolveHns response field"):t.data.registry?(Pt("response.data.registry",t.data.registry,"resolveHns response field"),jt("response.data.registry.publickey",t.data.registry.publickey,"resolveHns response field"),jt("response.data.registry.datakey",t.data.registry.datakey,"resolveHns response field")):qt("response.data",t.data,"response data object","object containing skylink or registry field")}catch(t){throw new Error(`Did not get a complete resolve HNS response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(i),i.data.skylink)return{data:i.data,skylink:i.data.skylink};{const t=Ye(i.data.registry.publickey,i.data.registry.datakey,{hashedDataKeyHex:!0});return{data:i.data,skylink:t}}}function bn(t){const e={};return t&&(e.range=t),e}function wn(t){const e={};return t&&(e.attachment="true"),e}async function kn(t){const e=t.headers["content-type"],n=t.headers["skynet-portal-api"],r=Ie(t.headers["skynet-skylink"]);return{data:t.data,contentType:e,portalUrl:n,skylink:r}}function xn(t,e){try{if(!t.data&&""!==t.data)throw new Error("'response.data' field missing");if(!t.headers)throw new Error("'response.headers' field missing");const n=t.headers["content-type"];if(!n)throw new Error("'content-type' header missing");jt('response.headers["content-type"]',n,"getFileContent response header");const r=t.headers["skynet-portal-api"];if(!r)throw new Error("'skynet-portal-api' header missing");jt('response.headers["skynet-portal-api"]',r,"getFileContent response header");const i=t.headers["skynet-skylink"];if(!i)throw new Error("'skynet-skylink' header missing");Bt('response.headers["skynet-skylink"]',i,"getFileContent response header"),Sn(e,i,t.headers["skynet-proof"])}catch(t){throw new Error(`File content response invalid despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}function Sn(t,e,n){let r=[];try{if(n&&(r=JSON.parse(n),!r))throw new Error("Could not parse 'skynet-proof' header as JSON")}catch(t){throw new Error(`Could not parse 'skynet-proof' header as JSON: ${t}`)}if(function(t){const e=Oe(t);return function(t){return 0==(3&t)}(new DataView(e.buffer).getUint16(0,!0))}(t)){if(t!==e)throw new Error("Expected returned skylink to be the same as input data link");if(n)throw new Error("Expected 'skynet-proof' header to be empty for data link")}else{if(t===e)throw new Error("Expected returned skylink to be different from input entry link");!function(t,e){let n=void 0,r=null==e?void 0:e.resolverSkylink;const i=null==e?void 0:e.skylink;if(0===t.length)throw new Error("Expected registry proof not to be empty");for(const e of t){if(1!==e.type)throw new Error(`Unsupported registry type in proof: '${e.type}'`);const t=e.publickey.key,i=Object(fe.toByteArray)(t),o=Qt(i),a=e.datakey,s=e.data,c=Xt(e.signature);let u=Ye(o,a,{hashedDataKeyHex:!0});if(u=Jt(u,"sia://"),r&&u!==r)throw new Error("Could not verify registry proof chain");n||(n=u);const l=Xt(s),f=ve(l),d={dataKey:a,data:l,revision:BigInt(e.revision)};if(Ft("signatureArray",c,"response value",we),Ft("publicKeyArray",i,"parameter",be/2),!ae.sign.detached.verify(Se(d,!0),c,i))throw new Error("Could not verify signature from retrieved, signed registry entry in registry proof");r=f}if(i&&r!==i)throw new Error("Could not verify registry proof chain")}(r,{resolverSkylink:t,skylink:e})}}var En=n(5);function _n(t,e){if(Ht("data",t,"parameter"),Ft("key",e,"parameter",32),!function(t){for(let e=0;e<53;e++)if(t<=80*(1<<e)*1024){return t%(4*(1<<e)*1024)==0}throw new Error("Could not check padded file size, overflow detected.")}(t.length))throw new Error(`Expected parameter 'data' to be padded encrypted data, length was '${t.length}', nearest padded block is '${Tn(t.length)}'`);const n=t.slice(0,24),r=(t=t.slice(24)).slice(0,16);t=t.slice(16);const i=(Ft("bytes",o=r,"encrypted file metadata bytes",16),{version:o[0]});var o;if(1!==i.version)throw new Error(`Received unrecognized JSON response version '${i.version}' in metadata, expected '1'`);let a=ae.secretbox.open(t,n,e);if(!a)throw new Error("Could not decrypt given encrypted JSON file");let s=a.length;for(;s>0&&0===a[s-1];)s--;return a=a.slice(0,s),JSON.parse(Yt(a))}function Cn(t,e,n){Pt("json",t,"parameter"),Rt("metadata.version",e.version,"parameter"),Ft("key",n,"parameter",32);let r=Gt(JSON.stringify(t));const i=Tn(r.length+56)-56;r=new Uint8Array([...r,...new Uint8Array(i-r.length)]);const o=new Uint8Array(oe()(24)),a=Object(ae.secretbox)(r,o,n),s=function(t){const e=new Uint8Array(16);if(t.version>=256||t.version<0)throw new Error(`Metadata version '${t.version}' could not be stored in a uint8`);return e[0]=t.version,e}(e),c=new Uint8Array([...s,...a]);return new Uint8Array([...o,...c])}function Mn(t){const e=On(t),n=new Uint8Array([...Ee("encryption"),...Ee(e)]);return Ee(n).slice(0,32)}function An(t){const e=On(t);let n=Ee(new Uint8Array([...Ee("encrypted filesystem tweak"),...Ee(e)]));return n=n.slice(0,32),Qt(n)}function Tn(t){for(let e=0;e<53;e++)if(t<=80*(1<<e)*1024){const n=4*(1<<e)*1024;let r=t;return r%n!=0&&(r=t-t%n+n),r}throw new Error("Could not pad file size, overflow detected.")}function On(t){return zt("pathSeed",t,"parameter"),64!==t.length&&qt("pathSeed",t,"parameter","a valid file path seed of length '64'"),Gt(t)}function Dn(t){return Qt(new In(t).getHash())}class In{constructor(t){const e=function(t){return t.split("/")}(t).map(Nn);this.version=1,this.path=e}encode(){const t=1+32*this.path.length,e=new Uint8Array(t);e.set([this.version]);let n=1;for(const t of this.path)e.set(t,n),n+=32;return e}getHash(){return ke(this.encode())}}function Nn(t){return ke(Gt(t))}function Pn(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Ln(t){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t){return function(t){if(Array.isArray(t))return Bn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Un(t,e)}function Un(t,e){return(Un=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qn(t);if(e){var i=qn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hn(this,n)}}function Hn(t,e){return!e||"object"!==Ln(e)&&"function"!=typeof e?Fn(t):e}function Fn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qn(t){return(qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kn(t,e,n){return e&&$n(t.prototype,e),n&&$n(t,n),t}var Wn="@post-me";function Jn(){var t=0;return function(){var e=t;return t+=1,e}}var Gn,Yn=function(){function t(){Vn(this,t),this._listeners={}}return Kn(t,[{key:"addEventListener",value:function(t,e){var n=this._listeners[t];n||(n=new Set,this._listeners[t]=n),n.add(e)}},{key:"removeEventListener",value:function(t,e){var n=this._listeners[t];n&&n.delete(e)}},{key:"once",value:function(t){var e=this;return new Promise((function(n){e.addEventListener(t,(function r(i){e.removeEventListener(t,r),n(i)}))}))}},{key:"emit",value:function(t,e){var n=this._listeners[t];n&&n.forEach((function(t){t(e)}))}},{key:"removeAllListeners",value:function(){Object.values(this._listeners).forEach((function(t){t&&t.clear()}))}}]),t}();function Xn(t){return t&&t.type===Wn}function Zn(t){return"callback_".concat(t)}function Qn(t){return"response_".concat(t)}!function(t){t.HandshakeRequest="handshake-request",t.HandshakeResponse="handshake-response",t.Call="call",t.Response="response",t.Error="error",t.Event="event",t.Callback="callback"}(Gn||(Gn={}));var tr,er=function(t){jn(n,t);var e=zn(n);function n(t,r){var i;return Vn(this,n),(i=e.call(this)).uniqueId=Jn(),i.messenger=t,i.sessionId=r,i.removeMessengerListener=i.messenger.addMessageListener(i.messengerListener.bind(Fn(i))),i}return Kn(n,[{key:"messengerListener",value:function(t){var e,n=t.data;Xn(n)&&(this.sessionId===n.sessionId&&(Xn(e=n)&&e.action===Gn.Call?this.emit(Gn.Call,n):!function(t){return Xn(t)&&t.action===Gn.Response}(n)?!function(t){return Xn(t)&&t.action===Gn.Event}(n)?function(t){return Xn(t)&&t.action===Gn.Callback}(n)&&this.emit(Zn(n.requestId),n):this.emit(Gn.Event,n):this.emit(Qn(n.requestId),n)))}},{key:"callOnRemote",value:function(t,e,n){var r=this.uniqueId(),i=Zn(r),o=Qn(r),a=function(t,e,n,r){return{type:Wn,action:Gn.Call,sessionId:t,requestId:e,methodName:n,args:r}}(this.sessionId,r,t,e);return this.messenger.postMessage(a,n),{callbackEvent:i,responseEvent:o}}},{key:"respondToRemote",value:function(t,e,n,r){n instanceof Error&&(n={name:n.name,message:n.message});var i=function(t,e,n,r){var i={type:Wn,action:Gn.Response,sessionId:t,requestId:e};return void 0!==n&&(i.result=n),void 0!==r&&(i.error=r),i}(this.sessionId,t,e,n);this.messenger.postMessage(i,r)}},{key:"callbackToRemote",value:function(t,e,n){var r=function(t,e,n,r){return{type:Wn,action:Gn.Callback,sessionId:t,requestId:e,callbackId:n,args:r}}(this.sessionId,t,e,n);this.messenger.postMessage(r)}},{key:"emitToRemote",value:function(t,e,n){var r=function(t,e,n){return{type:Wn,action:Gn.Event,sessionId:t,eventName:e,payload:n}}(this.sessionId,t,e);this.messenger.postMessage(r,n)}},{key:"close",value:function(){this.removeMessengerListener(),this.removeAllListeners()}}]),n}(Yn),nr=function(t){jn(n,t);var e=zn(n);function n(t,r){var i;return Vn(this,n),(i=e.call(this)).messenger=t,i.sessionId=r,i.removeMessengerListener=i.messenger.addMessageListener(i.messengerListener.bind(Fn(i))),i}return Kn(n,[{key:"messengerListener",value:function(t){var e,n=t.data;Xn(n)&&(this.sessionId===n.sessionId&&Xn(e=n)&&e.action===Gn.HandshakeResponse&&this.emit(n.sessionId,n))}},{key:"initiateHandshake",value:function(){var t,e=(t=this.sessionId,{type:Wn,action:Gn.HandshakeRequest,sessionId:t});return this.messenger.postMessage(e),this.sessionId}},{key:"close",value:function(){this.removeMessengerListener(),this.removeAllListeners()}}]),n}(Yn);function rr(t){return{type:Wn,proxy:tr.Callback,callbackId:t}}!function(t){t.Callback="callback"}(tr||(tr={}));var ir=function(t){jn(n,t);var e=zn(n);function n(t){var r;return Vn(this,n),(r=e.call(this))._dispatcher=t,r._callTransfer={},r._dispatcher.addEventListener(Gn.Event,r._handleEvent.bind(Fn(r))),r}return Kn(n,[{key:"close",value:function(){this.removeAllListeners()}},{key:"setCallTransfer",value:function(t,e){this._callTransfer[t]=e}},{key:"call",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return this.customCall(t,n)}},{key:"customCall",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(i,o){var a=[],s=[],c=0;e.forEach((function(t){"function"==typeof t?(s.push(t),a.push(rr(c)),c+=1):a.push(t)}));var u=s.length>0,l=void 0;u&&(l=function(t){var e=t.callbackId,n=t.args;s[e].apply(s,Rn(n))});var f,d=r.transfer;void 0===d&&n._callTransfer[t]&&(d=(f=n._callTransfer)[t].apply(f,a));var h=n._dispatcher.callOnRemote(t,a,d),p=h.callbackEvent,m=h.responseEvent;u&&n._dispatcher.addEventListener(p,l),n._dispatcher.once(m).then((function(t){l&&n._dispatcher.removeEventListener(p,l);var e=t.result,r=t.error;void 0!==r?o(r):i(e)}))}))}},{key:"_handleEvent",value:function(t){var e=t.eventName,n=t.payload;this.emit(e,n)}}]),n}(Yn),or=function(){function t(e,n){Vn(this,t),this._dispatcher=e,this._methods=n,this._returnTransfer={},this._emitTransfer={},this._dispatcher.addEventListener(Gn.Call,this._handleCall.bind(this))}return Kn(t,[{key:"emit",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.transfer;void 0===r&&this._emitTransfer[t]&&(r=this._emitTransfer[t](e)),this._dispatcher.emitToRemote(t,e,r)}},{key:"setMethods",value:function(t){this._methods=t}},{key:"setMethod",value:function(t,e){this._methods[t]=e}},{key:"setReturnTransfer",value:function(t,e){this._returnTransfer[t]=e}},{key:"setEmitTransfer",value:function(t,e){this._emitTransfer[t]=e}},{key:"_handleCall",value:function(t){var e=this,n=t.requestId,r=t.methodName,i=t.args;new Promise((function(t,o){var a;if("function"==typeof e._methods[r]){var s=i.map((function(t){if((i=t)&&i.type===Wn&&i.proxy===tr.Callback){var r=t.callbackId;return function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e._dispatcher.callbackToRemote(n,r,i)}}return t;var i}));Promise.resolve((a=e._methods)[r].apply(a,Rn(s))).then(t).catch(o)}else o(new Error('The method "'.concat(r,'" has not been implemented.')))})).then((function(t){var i;e._returnTransfer[r]&&(i=e._returnTransfer[r](t)),e._dispatcher.respondToRemote(n,t,void 0,i)})).catch((function(t){e._dispatcher.respondToRemote(n,void 0,t)}))}}]),t}(),ar=function(){function t(e,n){Vn(this,t),this._dispatcher=e,this._localHandle=new or(e,n),this._remoteHandle=new ir(e)}return Kn(t,[{key:"close",value:function(){this._dispatcher.close(),this.remoteHandle().close()}},{key:"localHandle",value:function(){return this._localHandle}},{key:"remoteHandle",value:function(){return this._remoteHandle}}]),t}(),sr=Jn(),cr=function(t,e,n,r,i){var o=0;!function a(){!e()&&(o<r||r<1)?(t(),o+=1,setTimeout(a,i)):!e()&&o>=r&&r>=1&&n()}()};function ur(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,i=sr(),o=!1;return new Promise((function(a,s){var c=new nr(t,i);c.once(i).then((function(n){o=!0,c.close();var r=n.sessionId,i=new er(t,r),s=new ar(i,e);a(s)})),cr((function(){return c.initiateHandshake()}),(function(){return o}),(function(){return s(new Error("Handshake failed, reached maximum number of attempts"))}),n,r)}))}var lr=function t(e){var n=e.localWindow,r=e.remoteWindow,i=e.remoteOrigin;Vn(this,t),n=n||window,this.postMessage=function(t,e){r.postMessage(t,i,e)},this.addMessageListener=function(t){var e=function(e){(function(t,e,n){var r=t.source,i=t.origin;return r===e&&(i===n||"*"===n)})(e,r,i)&&t(e)};n.addEventListener("message",e);return function(){n.removeEventListener("message",e)}}};const fr={dev:!1,debug:!1,alpha:!1,handshakeMaxAttempts:En.defaultHandshakeMaxAttempts,handshakeAttemptsInterval:En.defaultHandshakeAttemptsInterval};class dr{constructor(t,e,n,r,i){this.url=t,this.client=e,this.childFrame=n,this.connection=r,this.options=i}static async init(t,e,n){const r={...fr,...n};let i=await t.getFullDomainUrl(e);r.dev&&(i=Et(i,{dev:"true"})),r.debug&&(i=Et(i,{debug:"true"})),r.alpha&&(i=Et(i,{alpha:"true"}));const o=Object(En.createIframe)(i,i);if(!o.contentWindow)throw new Error("'childFrame.contentWindow' was null");const a=o.contentWindow,s=new lr({localWindow:window,remoteWindow:a,remoteOrigin:"*"}),c=await ur(s,{},r.handshakeMaxAttempts,r.handshakeAttemptsInterval);return new dr(i,t,o,c,r)}async call(t,...e){return this.connection.remoteHandle().call(t,...e)}}async function hr(t){return Ct(await this.portalUrl(),t)}async function pr(t){return function(t,e){let n;jt("portalUrl",t,"parameter"),jt("fullDomain",e,"parameter");try{const t=new URL(e);e=t.hostname,n=t.pathname,n=$t(n)}catch{e=$t(e),[e,n]=e.split(/\/(.+)/),e=e.toLowerCase()}let r=Wt(e,$t(new URL(t).hostname),1);return r=Wt(r,"."),n&&""!==n&&(n=$t(n),r=`${r}/${n}`),r}(await this.portalUrl(),t)}const[mr,vr]=[640,750];async function gr(t,e){return await yr.New(this,t,e)}class yr{constructor(t,e,n){this.connector=t,this.hostDomain=n,this.dacs=[],this.grantedPermissions=[],this.pendingPermissions=e}static async New(t,e,n){const r={...fr,...n};if(yr.instance)return yr.instance;let i="skynet-mysky.hns";r.alpha?i="sandbridge.hns":r.dev&&(i="skynet-mysky-dev.hns");const o=await dr.init(t,i,n),a=await t.extractDomain(window.location.hostname),s=[];if(e){const t=new En.Permission(a,e,En.PermCategory.Discoverable,En.PermType.Write),n=new En.Permission(a,e,En.PermCategory.Hidden,En.PermType.Read),r=new En.Permission(a,e,En.PermCategory.Hidden,En.PermType.Write);s.push(t,n,r)}return yr.instance=new yr(o,s,a),yr.instance}static async isBrowserSupported(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?[!1,"MySky is currently not supported in Safari browsers."]:[!0,""]}async loadDacs(...t){const e=[];for(const n of t)e.push(this.loadDac(n));this.dacs.push(...t),await Promise.all(e)}async addPermissions(...t){this.pendingPermissions.push(...t)}async checkLogin(){const[t,e]=await this.connector.connection.remoteHandle().call("checkLogin",this.pendingPermissions),{grantedPermissions:n,failedPermissions:r}=e;this.grantedPermissions=n,this.pendingPermissions=r;const i=t&&0===r.length;return await this.handleLogin(i),i}async destroy(){this.connector.connection.close();const t=this.connector.childFrame;if(t){if(!t.parentNode)throw new Error("'childFrame.parentNode' was not set");t.parentNode.removeChild(t)}}async logout(){return await this.connector.connection.remoteHandle().call("logout")}async requestLoginAccess(){let t,e,n=!1;const{promise:r,controller:i}=Object(En.monitorWindowError)(),o=new Promise(async(i,o)=>{r.catch(t=>{t!==En.errorWindowClosed?o(t):i()});try{t=this.launchUI(),e=await this.connectUi(t);const[r,o]=await e.remoteHandle().call("requestLoginAccess",this.pendingPermissions);n=r;const{grantedPermissions:a,failedPermissions:s}=o;this.grantedPermissions=a,this.pendingPermissions=s,i()}catch(t){o(t)}});await o.catch(t=>{throw t}).finally(()=>{t&&t.close(),e&&e.close(),i.cleanup()});const a=n&&0===this.pendingPermissions.length;return await this.handleLogin(a),a}async userID(){return await this.connector.connection.remoteHandle().call("userID")}async getJSON(t,e){jt("path",t,"parameter"),Lt("customOptions",e,"parameter",wr);const n={...wr,...this.connector.client.customOptions,...e},r=await this.userID(),i=Dn(t);return n.hashedDataKeyHex=!0,await this.connector.client.db.getJSON(r,i,n)}async getEntryLink(t){return jt("path",t,"parameter"),Ye(await this.userID(),Dn(t),{...Ve,hashedDataKeyHex:!0})}async setJSON(t,e,n){jt("path",t,"parameter"),Pt("json",e,"parameter"),Lt("customOptions",n,"parameter",kr);const r={...kr,...this.connector.client.customOptions,...n},i=await this.userID(),o=Dn(t);r.hashedDataKeyHex=!0;const[a,s]=await Ir(this.connector.client,i,o,e,r),c=await this.signRegistryEntry(a,t),u=ne(r,$e);return await this.connector.client.registry.postSignedEntry(i,a,c,u),{data:e,dataLink:s}}async deleteJSON(t,e){const n={...xr,...this.connector.client.customOptions,...e};await this.setEntryData(t,br,{...n,allowDeletionEntryData:!0})}async setDataLink(t,e,n){const r=Oe(Bt("dataLink",e,"parameter"));await this.setEntryData(t,r,n)}async getEntryData(t,e){jt("path",t,"parameter"),Lt("customOptions",e,"parameter",Ve);const n={...Ve,...this.connector.client.customOptions,...e},r=await this.userID(),i=Dn(t);return n.hashedDataKeyHex=!0,await this.connector.client.db.getEntryData(r,i,n)}async setEntryData(t,e,n){jt("path",t,"parameter"),Ht("data",e,"parameter"),Lt("customOptions",n,"parameter",xr);const r={...xr,...this.connector.client.customOptions,...n};Lr(e,r.allowDeletionEntryData);const i=await this.userID(),o=Dn(t);r.hashedDataKeyHex=!0;const a=ne(r,Ve),s=await Dr(this.connector.client,i,o,e,a),c=await this.signRegistryEntry(s,t),u=ne(r,$e);return await this.connector.client.registry.postSignedEntry(i,s,c,u),{data:s.data}}async deleteEntryData(t,e){await this.setEntryData(t,br,{...e,allowDeletionEntryData:!0})}async getEncryptedFileSeed(t,e){return await this.getEncryptedPathSeed(t,e)}async getEncryptedPathSeed(t,e){return jt("path",t,"parameter"),Nt("isDirectory",e,"parameter"),await this.connector.connection.remoteHandle().call("getEncryptedFileSeed",t,e)}async getJSONEncrypted(t,e){jt("path",t,"parameter"),Lt("customOptions",e,"parameter",wr);const n={...wr,...this.connector.client.customOptions,...e,hashedDataKeyHex:!0},[r,i]=await Promise.all([this.userID(),this.getEncryptedPathSeed(t,!1)]),o=An(i),{data:a}=await this.connector.client.db.getRawBytes(r,o,n);return null===a?{data:null}:{data:_n(a,Mn(i))}}async setJSONEncrypted(t,e,n){jt("path",t,"parameter"),Pt("json",e,"parameter"),Lt("customOptions",n,"parameter",kr);const r={...kr,...this.connector.client.customOptions,...n},[i,o]=await Promise.all([this.userID(),this.getEncryptedPathSeed(t,!1)]),a=An(o);r.hashedDataKeyHex=!0;const s=Cn(e,{version:1},Mn(o)),c=await async function(t,e,n,r,i){const o={...kr,...t.customOptions,...i};let a=n;o.hashedDataKeyHex||(a=Qt(Gt(n)));const s=new File([r],`dk:${a}`,{type:"application/octet-stream"}),c=ne(o,Ne),u=t.uploadFile(s,c),l=ne(o,Ve),f=t.registry.getEntry(e,n,l),[d,h]=await Promise.all([f,u]),p=Nr(d.entry),m=me(Jt(h.skylink,"sia://"));return Ft("rawDataLink",m,"skylink byte array",34),{dataKey:n,data:m,revision:p}}(this.connector.client,i,a,s,r),u=await this.signEncryptedRegistryEntry(c,t),l=ne(r,$e);return await this.connector.client.registry.postSignedEntry(i,c,u,l),{data:e}}async catchError(t){const e=new CustomEvent(En.dispatchedErrorEvent,{detail:t});window.dispatchEvent(e)}launchUI(){const t=new URL(this.connector.url);t.pathname="ui.html";const e=t.toString(),n=function(t,e,n,r){if(!window.top)throw new Error("Current window is not valid");t=Object(En.ensureUrl)(t);const i=window.top.outerHeight/2+window.top.screenY-r/2,o=window.top.outerWidth/2+window.top.screenX-n/2,a=window.open(t,e,`toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, copyhistory=no, width=${n}, height=${r}, top=${i}, left=${o}`);if(!a)throw new Error("Could not open window");return a.focus&&a.focus(),a}(e,"MySky UI",mr,vr);if(!n)throw new Error(`Could not open window at '${e}'`);return n}async connectUi(t){const e=this.connector.options,n=new lr({localWindow:window,remoteWindow:t,remoteOrigin:"*"}),r={catchError:this.catchError};return await ur(n,r,e.handshakeMaxAttempts,e.handshakeAttemptsInterval)}async loadDac(t){await t.init(this.connector.client,this.connector.options);const e=t.getPermissions();await this.addPermissions(...e)}async handleLogin(t){t&&await Promise.all(this.dacs.map(async t=>{try{await t.onUserLogin()}catch(t){console.warn(t)}}))}async signRegistryEntry(t,e){return await this.connector.connection.remoteHandle().call("signRegistryEntry",t,e)}async signEncryptedRegistryEntry(t,e){return await this.connector.connection.remoteHandle().call("signEncryptedRegistryEntry",t,e)}}yr.instance=null;const br=new Uint8Array(34),wr={...ee,...Ve,...nn,cachedDataLink:void 0},kr={...ee,...Ne,...wr,...$e},xr={...ee,...Ve,...$e,allowDeletionEntryData:!1};async function Sr(t,e,n){en("publicKey",t,"parameter"),jt("dataKey",e,"parameter"),Lt("customOptions",n,"parameter",wr);const r={...wr,...this.customOptions,...n},i=ne(r,Ve),o=await Rr(this,t,e,i);if(null===o)return{data:null,dataLink:null};const{rawDataLink:a,dataLink:s}=Br(o.data,!0);if(Pr(a,r.cachedDataLink))return{data:null,dataLink:s};const c=ne(r,nn),{data:u}=await this.getFileContent(s,c);if("object"!=typeof u||null===u)throw new Error(`File data for the entry at data key '${e}' is not JSON.`);if(!u._data||!u._v)return{data:u,dataLink:s};const l=u._data;if("object"!=typeof l||null===u)throw new Error(`File data '_data' for the entry at data key '${e}' is not JSON.`);return{data:l,dataLink:s}}async function Er(t,e,n,r){zt("privateKey",t,"parameter"),jt("dataKey",e,"parameter"),Pt("json",n,"parameter"),Lt("customOptions",r,"parameter",kr);const i={...kr,...this.customOptions,...r},{publicKey:o}=ae.sign.keyPair.fromSecretKey(Xt(t)),[a,s]=await Ir(this,Qt(o),e,n,i),c=ne(i,$e);return await this.registry.setEntry(t,a,c),{data:n,dataLink:Ie(s)}}async function _r(t,e,n){const r={...xr,...this.customOptions,...n};await this.db.setEntryData(t,e,br,{...r,allowDeletionEntryData:!0})}async function Cr(t,e,n,r){const i=Oe(Bt("dataLink",n,"parameter"));await this.db.setEntryData(t,e,i,r)}async function Mr(t,e,n){en("publicKey",t,"parameter"),jt("dataKey",e,"parameter"),Lt("customOptions",n,"parameter",Ve);const r={...Ve,...this.customOptions,...n},i=await Rr(this,t,e,r);return null===i?{data:null}:{data:i.data}}async function Ar(t,e,n,r){zt("privateKey",t,"parameter"),jt("dataKey",e,"parameter"),Ht("data",n,"parameter"),Lt("customOptions",r,"parameter",xr);const i={...xr,...this.customOptions,...r};Lr(n,i.allowDeletionEntryData);const{publicKey:o}=ae.sign.keyPair.fromSecretKey(Xt(t)),a=ne(i,Ve),s=await Dr(this,Qt(o),e,n,a),c=ne(i,$e);return await this.registry.setEntry(t,s,c),{data:s.data}}async function Tr(t,e,n){await this.db.setEntryData(t,e,br,{...n,allowDeletionEntryData:!0})}async function Or(t,e,n){en("publicKey",t,"parameter"),jt("dataKey",e,"parameter"),Lt("customOptions",n,"parameter",wr);const r={...wr,...this.customOptions,...n},i=ne(r,Ve),o=await Rr(this,t,e,i);if(null===o)return{data:null,dataLink:null};const{rawDataLink:a,dataLink:s}=Br(o.data,!1);if(Pr(a,r.cachedDataLink))return{data:null,dataLink:s};const c={...ne(r,nn),responseType:"arraybuffer"},{data:u}=await this.getFileContent(s,c);return{data:new Uint8Array(u),dataLink:s}}async function Dr(t,e,n,r,i){const o={...Ve,...t.customOptions,...i};return{dataKey:n,data:r,revision:Nr((await t.registry.getEntry(e,n,o)).entry)}}async function Ir(t,e,n,r,i){const o={...kr,...t.customOptions,...i},a={_data:r,_v:2};let s=n;o.hashedDataKeyHex||(s=Qt(Gt(n)));const c=new File([JSON.stringify(a)],`dk:${s}`,{type:"application/json"}),u=ne(o,Ne),l=t.uploadFile(c,u),f=ne(o,Ve),d=t.registry.getEntry(e,n,f),[h,p]=await Promise.all([d,l]),m=Nr(h.entry),v=Jt(p.skylink,"sia://"),g=me(v);return Ft("data",g,"skylink byte array",34),[{dataKey:n,data:g,revision:m},Ie(v)]}function Nr(t){let e;if(e=null===t?BigInt(0):t.revision+BigInt(1),e>de)throw new Error("Current entry already has maximum allowed revision, could not update the entry");return e}function Pr(t,e){return!!e&&t===(e=Bt("cachedDataLink",e,"optional parameter"))}function Lr(t,e){if(t.length>70&&qt("data",t,"parameter",`'Uint8Array' of length <= 70, was length ${t.length}`),!e&&Pn(t,br))throw new Error("Tried to set 'Uint8Array' entry data that is the deletion sentinel ('Uint8Array(RAW_SKYLINK_SIZE)'), please use the 'deleteEntryData' method instead`")}async function Rr(t,e,n,r){const{entry:i}=await t.registry.getEntry(e,n,r);return null===i||Pn(i.data,_e)?null:i}function Br(t,e){let n="";return e&&46===t.length?n=Yt(t):34===t.length?n=ve(t):qt("entry.data",t,"returned entry data","length 34 bytes"),{rawDataLink:n,dataLink:Ie(n)}}async function jr(t,e,n){jt("userID",t,"parameter"),jt("path",e,"parameter"),Lt("customOptions",n,"parameter",wr);const r={...wr,...this.customOptions,...n},i=Dn(e);return r.hashedDataKeyHex=!0,await this.db.getJSON(t,i,r)}async function Ur(t,e){return jt("userID",t,"parameter"),jt("path",e,"parameter"),Ye(t,Dn(e),{...Ve,hashedDataKeyHex:!0})}async function zr(t,e,n){jt("userID",t,"parameter"),jt("path",e,"parameter"),Lt("customOptions",n,"parameter",Ve);const r={...Ve,...this.customOptions,...n},i=Dn(e);return r.hashedDataKeyHex=!0,await this.db.getEntryData(t,i,r)}async function Hr(t,e,n){jt("userID",t,"parameter"),jt("pathSeed",e,"parameter"),Lt("customOptions",n,"parameter",wr);const r={...wr,...this.customOptions,...n,hashedDataKeyHex:!0},i=Mn(e),o=An(e),{data:a}=await this.db.getRawBytes(t,o,r);return null===a?{data:null}:{data:_n(a,i)}}const Fr={...ee,endpointPin:"/skynet/pin"};async function qr(t,e){const n=Bt("skylinkUrl",t,"parameter"),r={...Fr,...this.customOptions,...e};if(Dt(t,{onlyPath:!0}))throw new Error("Skylink string should not contain a path");const i=await this.executeRequest({...r,endpointPath:r.endpointPin,method:"post",extraPath:n});!function(t){try{if(!t.headers)throw new Error("response.headers field missing");jt('response.headers["skynet-skylink"]',t.headers["skynet-skylink"],"pin response field")}catch(t){throw new Error(`Did not get a complete pin response despite a successful request. Please try again and report this issue to the devs if it persists. ${t}`)}}(i);let o=i.headers["skynet-skylink"];return o=Ie(o),{skylink:o}}class Vr{constructor(t="",e={}){this.uploadFile=Pe,this.uploadSmallFile=Le,this.uploadSmallFileRequest=Re,this.uploadLargeFile=Be,this.uploadLargeFileRequest=je,this.uploadDirectory=Ue,this.uploadDirectoryRequest=ze,this.downloadFile=sn,this.downloadFileHns=cn,this.getSkylinkUrl=un,this.getHnsUrl=ln,this.getHnsresUrl=fn,this.getMetadata=dn,this.getFileContent=hn,this.getFileContentRequest=pn,this.getFileContentHns=mn,this.openFile=vn,this.openFileHns=gn,this.resolveHns=yn,this.pinSkylink=qr,this.extractDomain=pr,this.getFullDomainUrl=hr,this.loadMySky=gr,this.file={getJSON:jr.bind(this),getEntryData:zr.bind(this),getEntryLink:Ur.bind(this),getJSONEncrypted:Hr.bind(this)},this.db={deleteJSON:_r.bind(this),getJSON:Sr.bind(this),setJSON:Er.bind(this),getRawBytes:Or.bind(this),setDataLink:Cr.bind(this),getEntryData:Mr.bind(this),setEntryData:Ar.bind(this),deleteEntryData:Tr.bind(this)},this.registry={getEntry:Je.bind(this),getEntryUrl:Ge.bind(this),getEntryLink:Xe.bind(this),setEntry:Ze.bind(this),postSignedEntry:Qe.bind(this)},""===t?t="undefined"==typeof window?"/":window.location.origin:this.customPortalUrl=t,this.initialPortalUrl=t,this.customOptions=e}async initPortalUrl(){this.customPortalUrl||(Vr.resolvedPortalUrl||(Vr.resolvedPortalUrl=this.resolvePortalUrl()),await Vr.resolvedPortalUrl)}async portalUrl(){return this.customPortalUrl?this.customPortalUrl:(await this.initPortalUrl(),await Vr.resolvedPortalUrl)}async executeRequest(t){const e=await $r(this,t.endpointPath,t.url,t.extraPath,t.query),n=Kr(t.headers,t.customUserAgent,t.customCookie),r=t.APIKey?{username:"",password:t.APIKey}:void 0;let i=void 0;t.onDownloadProgress&&(i=function(e){const n=e.total?e.loaded/e.total:1;t.onDownloadProgress(n,e)});let a=void 0;return t.onUploadProgress&&(a=function(e){const n=e.total?e.loaded/e.total:1;t.onUploadProgress(n,e)}),o()({url:e,method:t.method,data:t.data,headers:n,auth:r,onDownloadProgress:i,onUploadProgress:a,responseType:t.responseType,transformRequest:t.transformRequest,transformResponse:t.transformResponse,maxContentLength:1/0,maxBodyLength:1/0,withCredentials:!0})}async resolvePortalUrl(){const t=await this.executeRequest({...this.customOptions,method:"head",url:this.initialPortalUrl,endpointPath:"/"});if(void 0===t.headers)throw new Error("Did not get 'headers' in response despite a successful request. Please try again and report this issue to the devs if it persists.");const e=t.headers["skynet-portal-api"];if(!e)throw new Error("Could not get portal URL for the given portal");return Wt(e,"/")}}async function $r(t,e,n,r,i){if(!n){n=_t(await t.portalUrl(),e,null!=r?r:"")}return i&&(n=Et(n,i)),n}function Kr(t,e,n){const r={...t};return e&&(r["User-Agent"]=e),n&&(r.Cookie=n),r}n(125),n(25);function Wr(t,e){const n=c()(t,!0);return e={...n.query,...e},n.set("query",e),n.toString()}new RegExp("^([a-zA-Z0-9_-]{46})$"),new RegExp("^/?([a-zA-Z0-9_-]{46})((/.*)?)$"),new RegExp("^([a-z0-9_-]{55})(\\..*)?$");function Jr(t,e,n){"boolean"!=typeof e&&ei(t,e,n,"type 'boolean'")}function Gr(t,e,n){"object"!=typeof e&&ei(t,e,n,"type 'object'"),null===e&&ei(t,e,n,"non-null")}function Yr(t,e,n,r){if(e){Gr(t,e,n);for(const i in e)if(!(i in r))throw new Error(`Object ${n} '${t}' contains unexpected property '${i}'`)}}function Xr(t,e,n){"number"!=typeof e&&ei(t,e,n,"type 'number'")}function Zr(t,e,n){"string"!=typeof e&&ei(t,e,n,"type 'string'")}function Qr(t,e,n){e instanceof Uint8Array||ei(t,e,n,"type 'Uint8Array'")}function ti(t,e,n,r){Qr(t,e,n);const i=e.length;i!==r&&ei(t,e,n,`type 'Uint8Array' of length ${r}, was length ${i}`)}function ei(t,e,n,r){let i;throw i=void 0===e?"type 'undefined'":null===e?"type 'null'":`type '${typeof e}', value '${e}'`,new Error(`Expected ${n} '${t}' to be ${r}, was ${i}`)}function ni(t,e,n){for(;t.endsWith(e)&&!(void 0!==n&&n<=0);)t=t.substring(0,t.length-e.length),n&&(n-=1);return t}function ri(t,e){const n=ni(e,"/");return t.startsWith(e)?t.slice(e.length):t.startsWith(n)?t.slice(n.length):t}function ii(t){return Zr("str",t,"parameter"),Uint8Array.from(wt.Buffer.from(t,"utf-8"))}function oi(t){return wt.Buffer.from(t).toString("utf-8")}function ai(t){let e="";return t.forEach((function(t){e+=("0"+(255&t).toString(16)).slice(-2)})),e}const si={APIKey:"",customUserAgent:"",customCookie:"",onUploadProgress:void 0};function ci(t,e){const n={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(!Object.prototype.hasOwnProperty.call(t,r))throw new Error(`Property '${r}' not found`);n[r]=t[r]}return n}var ui=n(11);const li=BigInt("18446744073709551615");function fi(t){t=t.toUpperCase();const e=ce()(t,"RFC4648-HEX");return new Uint8Array(e)}function di(t){return t=(t=`${t}==`).replace(/-/g,"+").replace(/_/g,"/"),Object(fe.toByteArray)(t)}function hi(...t){const e=Object(re.blake2bInit)(32,null);return t.forEach(t=>Object(re.blake2bUpdate)(e,t)),Object(re.blake2bFinal)(e)}function pi(t){return"string"==typeof t?Object(ui.hash)(ii(t)):Object(ui.hash)(t)}new Uint8Array(34);function mi(t){let e;if(55===(t=ri(t,"sia://")).length)e=fi(t);else{if(46!==t.length)throw new Error("skylink has incorrect size");e=di(t)}if(34!=e.length)throw new Error("failed to load skylink data");return e}function vi(t){return""===t?t:(t.startsWith("sia://")||(t=`sia://${t}`),t)}const gi={...si,endpointUpload:"/skynet/skyfile",endpointLargeUpload:"/skynet/tus",customFilename:"",largeFileSize:41943040,retryDelays:[0,5e3,15e3,6e4,3e5,6e5]};const yi={...si,endpointDownload:"/",download:!1,path:void 0,range:void 0,responseType:void 0,query:void 0,subdomain:!1};var bi=n(7);function wi(t,e){if(Qr("data",t,"parameter"),ti("key",e,"parameter",32),!function(t){for(let e=0;e<53;e++)if(t<=80*(1<<e)*1024){return t%(4*(1<<e)*1024)==0}throw new Error("Could not check padded file size, overflow detected.")}(t.length))throw new Error(`Expected parameter 'data' to be padded encrypted data, length was '${t.length}', nearest padded block is '${Ei(t.length)}'`);const n=t.slice(0,24),r=(t=t.slice(24)).slice(0,16);t=t.slice(16);const i=(ti("bytes",o=r,"encrypted file metadata bytes",16),{version:o[0]});var o;if(1!==i.version)throw new Error(`Received unrecognized JSON response version '${i.version}' in metadata, expected '1'`);let a=ui.secretbox.open(t,n,e);if(!a)throw new Error("Could not decrypt given encrypted JSON file");let s=a.length;for(;s>0&&0===a[s-1];)s--;return a=a.slice(0,s),JSON.parse(oi(a))}function ki(t,e,n){Gr("json",t,"parameter"),Xr("metadata.version",e.version,"parameter"),ti("key",n,"parameter",32);let r=ii(JSON.stringify(t));const i=Ei(r.length+56)-56;r=new Uint8Array([...r,...new Uint8Array(i-r.length)]);const o=new Uint8Array(oe()(24)),a=Object(ui.secretbox)(r,o,n),s=function(t){const e=new Uint8Array(16);if(t.version>=256||t.version<0)throw new Error(`Metadata version '${t.version}' could not be stored in a uint8`);return e[0]=t.version,e}(e),c=new Uint8Array([...s,...a]);return new Uint8Array([...o,...c])}function xi(t){const e=new Uint8Array([...pi("encryption"),...pi(t)]);return pi(e).slice(0,32)}function Si(t){let e=pi(new Uint8Array([...pi("encrypted filesystem tweak"),...pi(t)]));return e=e.slice(0,32),ai(e)}function Ei(t){for(let e=0;e<53;e++)if(t<=80*(1<<e)*1024){const n=4*(1<<e)*1024;let r=t;return r%n!=0&&(r=t-t%n+n),r}throw new Error("Could not pad file size, overflow detected.")}function _i(t){return ai(new Ci(t).getHash())}class Ci{constructor(t){const e=function(t){return t.split("/")}(t).map(Mi);this.version=1,this.path=e}encode(){const t=1+32*this.path.length,e=new Uint8Array(t);e.set([this.version]);let n=1;for(const t of this.path)e.set(t,n),n+=32;return e}getHash(){return hi(this.encode())}}function Mi(t){return hi(ii(t))}const Ai={...si,endpointGetEntry:"/skynet/registry",hashedDataKeyHex:!1},Ti={...si,endpointSetEntry:"/skynet/registry",hashedDataKeyHex:!1};const Oi={...si,...Ai,...yi,cachedDataLink:void 0},Di={...si,...Oi,...Ti,...gi};async function Ii(t,e,n,r,i){const o={...Ai,...t.customOptions,...i};return{dataKey:n,data:r,revision:Pi((await t.registry.getEntry(e,n,o)).entry)}}async function Ni(t,e,n,r,i){const o={...Di,...t.customOptions,...i},a={_data:r,_v:2};let s=n;o.hashedDataKeyHex||(s=ai(ii(n)));const c=new File([JSON.stringify(a)],`dk:${s}`,{type:"application/json"}),u=ci(o,gi),l=t.uploadFile(c,u),f=ci(o,Ai),d=t.registry.getEntry(e,n,f),[h,p]=await Promise.all([d,l]),m=Pi(h.entry),v=ri(p.skylink,"sia://"),g=di(v);return ti("data",g,"skylink byte array",34),[{dataKey:n,data:g,revision:m},vi(v)]}function Pi(t){let e;if(e=null===t?BigInt(0):t.revision+BigInt(1),e>li)throw new Error("Current entry already has maximum allowed revision, could not update the entry");return e}const Li={dev:!1,debug:!1,alpha:!1,handshakeMaxAttempts:bi.defaultHandshakeMaxAttempts,handshakeAttemptsInterval:bi.defaultHandshakeAttemptsInterval};class Ri{constructor(t,e,n,r,i){this.url=t,this.client=e,this.childFrame=n,this.connection=r,this.options=i}static async init(t,e,n){const r={...Li,...n};let i=await t.getFullDomainUrl(e);r.dev&&(i=Wr(i,{dev:"true"})),r.debug&&(i=Wr(i,{debug:"true"})),r.alpha&&(i=Wr(i,{alpha:"true"}));const o=Object(bi.createIframe)(i,i);if(!o.contentWindow)throw new Error("'childFrame.contentWindow' was null");const a=o.contentWindow,s=new lr({localWindow:window,remoteWindow:a,remoteOrigin:"*"}),c=await ur(s,{},r.handshakeMaxAttempts,r.handshakeAttemptsInterval);return new Ri(i,t,o,c,r)}async call(t,...e){return this.connection.remoteHandle().call(t,...e)}}const[Bi,ji]=[600,600];class Ui{constructor(t,e,n){this.connector=t,this.hostDomain=n,this.dacs=[],this.grantedPermissions=[],this.pendingPermissions=e}static async New(t,e,n){const r={...Li,...n};if(Ui.instance)return Ui.instance;let i="skynet-mysky.hns";r.alpha?i="sandbridge.hns":r.dev&&(i="skynet-mysky-dev.hns");const o=await Ri.init(t,i,n),a=await t.extractDomain(window.location.hostname),s=[];if(e){const t=new bi.Permission(a,e,bi.PermCategory.Hidden,bi.PermType.Read),n=new bi.Permission(a,e,bi.PermCategory.Hidden,bi.PermType.Write);s.push(t,n)}return Ui.instance=new Ui(o,s,a),Ui.instance}async loadDacs(...t){const e=[];for(const n of t)e.push(this.loadDac(n));this.dacs.push(...t),await Promise.all(e)}async addPermissions(...t){this.pendingPermissions.push(...t)}async checkLogin(){const[t,e]=await this.connector.connection.remoteHandle().call("checkLogin",this.pendingPermissions),{grantedPermissions:n,failedPermissions:r}=e;this.grantedPermissions=n,this.pendingPermissions=r;const i=t&&0===r.length;return this.handleLogin(i),i}async destroy(){this.connector.connection.close();const t=this.connector.childFrame;if(t){if(!t.parentNode)throw new Error("'childFrame.parentNode' was not set");t.parentNode.removeChild(t)}}async logout(){return await this.connector.connection.remoteHandle().call("logout")}async requestLoginAccess(){let t,e,n=!1;const{promise:r,controller:i}=Object(bi.monitorWindowError)(),o=new Promise(async(i,o)=>{r.catch(t=>{t!==bi.errorWindowClosed?o(t):i()});try{t=await this.launchUI(),e=await this.connectUi(t);const[r,o]=await e.remoteHandle().call("requestLoginAccess",this.pendingPermissions);n=r;const{grantedPermissions:a,failedPermissions:s}=o;this.grantedPermissions=a,this.pendingPermissions=s,i()}catch(t){o(t)}});await o.catch(t=>{throw t}).finally(()=>{t&&t.close(),e&&e.close(),i.cleanup()});const a=n&&0===this.pendingPermissions.length;return this.handleLogin(a),a}async userID(){return await this.connector.connection.remoteHandle().call("userID")}async getJSON(t,e){Zr("path",t,"parameter"),Yr("customOptions",e,"parameter",Oi);const n={...Oi,...this.connector.client.customOptions,...e},r=await this.userID(),i=_i(t);return n.hashedDataKeyHex=!0,await this.connector.client.db.getJSON(r,i,n)}async getEntryLink(t){Zr("path",t,"parameter");const e=await this.userID(),n=_i(t),r={...Ai,hashedDataKeyHex:!0};return await this.connector.client.registry.getEntryLink(e,n,r)}async setJSON(t,e,n){Zr("path",t,"parameter"),Gr("json",e,"parameter"),Yr("customOptions",n,"parameter",Di);const r={...Di,...this.connector.client.customOptions,...n},i=await this.userID(),o=_i(t);r.hashedDataKeyHex=!0;const[a,s]=await Ni(this.connector.client,i,o,e,r),c=await this.signRegistryEntry(a,t),u=ci(r,Ti);return await this.connector.client.registry.postSignedEntry(i,a,c,u),{data:e,dataLink:s}}async setDataLink(t,e,n){Zr("path",t,"parameter"),Zr("dataLink",e,"parameter"),Yr("customOptions",n,"parameter",Di);const r={...Di,...this.connector.client.customOptions,...n},i=await this.userID(),o=_i(t);r.hashedDataKeyHex=!0;const a=ci(r,Ai),s=await Ii(this.connector.client,i,o,mi(e),a),c=await this.signRegistryEntry(s,t),u=ci(r,Ti);await this.connector.client.registry.postSignedEntry(i,s,c,u)}async deleteJSON(t,e){Zr("path",t,"parameter"),Yr("customOptions",e,"parameter",Di);const n={...Di,...this.connector.client.customOptions,...e},r=await this.userID(),i=_i(t);n.hashedDataKeyHex=!0;const o=ci(n,Ai),a=await Ii(this.connector.client,r,i,new Uint8Array(34),o),s=await this.signRegistryEntry(a,t),c=ci(n,Ti);await this.connector.client.registry.postSignedEntry(r,a,s,c)}async getEntryData(t,e){Zr("path",t,"parameter"),Yr("customOptions",e,"parameter",Ai);const n={...Ai,...this.connector.client.customOptions,...e},r=await this.userID(),i=_i(t);n.hashedDataKeyHex=!0;const{entry:o}=await this.connector.client.registry.getEntry(r,i,n);return o?{data:o.data}:{data:null}}async setEntryData(t,e,n){Zr("path",t,"parameter"),Qr("data",e,"parameter"),Yr("customOptions",n,"parameter",Ti),e.length>70&&ei("data",e,"parameter",`'Uint8Array' of length <= 70, was length ${e.length}`);const r={...Di,...this.connector.client.customOptions,...n},i=await this.userID(),o=_i(t);r.hashedDataKeyHex=!0;const a=ci(r,Ai),s=await Ii(this.connector.client,i,o,e,a),c=await this.signRegistryEntry(s,t),u=ci(r,Ti);return await this.connector.client.registry.postSignedEntry(i,s,c,u),{data:s.data}}async getEncryptedFileSeed(t,e){return Zr("path",t,"parameter"),Jr("isDirectory",e,"parameter"),await this.connector.connection.remoteHandle().call("getEncryptedFileSeed",t,e)}async getJSONEncrypted(t,e){Zr("path",t,"parameter"),Yr("customOptions",e,"parameter",Oi);const n={...Oi,...this.connector.client.customOptions,...e,hashedDataKeyHex:!0},[r,i]=await Promise.all([this.userID(),this.getEncryptedFileSeed(t,!1)]),o=Si(i),{data:a}=await this.connector.client.db.getRawBytes(r,o,n);return null===a?{data:null}:{data:wi(a,xi(i))}}async setJSONEncrypted(t,e,n){Zr("path",t,"parameter"),Gr("json",e,"parameter"),Yr("customOptions",n,"parameter",Di);const r={...Di,...this.connector.client.customOptions,...n},[i,o]=await Promise.all([this.userID(),this.getEncryptedFileSeed(t,!1)]),a=Si(o);r.hashedDataKeyHex=!0;const s=ki(e,{version:1},xi(o)),c=await async function(t,e,n,r,i){const o={...Di,...t.customOptions,...i};let a=n;o.hashedDataKeyHex||(a=ai(ii(n)));const s=new File([r],`dk:${a}`,{type:"application/octet-stream"}),c=ci(o,gi),u=t.uploadFile(s,c),l=ci(o,Ai),f=t.registry.getEntry(e,n,l),[d,h]=await Promise.all([f,u]),p=Pi(d.entry),m=di(ri(h.skylink,"sia://"));return ti("rawDataLink",m,"skylink byte array",34),{dataKey:n,data:m,revision:p}}(this.connector.client,i,a,s,r),u=await this.signEncryptedRegistryEntry(c,t),l=ci(r,Ti);return await this.connector.client.registry.postSignedEntry(i,c,u,l),{data:e}}async catchError(t){const e=new CustomEvent(bi.dispatchedErrorEvent,{detail:t});window.dispatchEvent(e)}async launchUI(){const t=new URL(this.connector.url);t.pathname="ui.html";const e=t.toString(),n=function(t,e,n,r){t=Object(bi.ensureUrl)(t);const i=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=a/window.screen.availWidth,u=(a-n)/2/c+i,l=(s-r)/2/c+o,f=window.open(t,e,`\nscrollbars=yes,\nwidth=${n/c},\nheight=${r/c},\ntop=${l},\nleft=${u}\n`);if(!f)throw new Error("could not open window");return f.focus&&f.focus(),f}(e,"MySky UI",Bi,ji);if(!n)throw new Error(`Could not open window at '${e}'`);return n}async connectUi(t){const e=this.connector.options,n=new lr({localWindow:window,remoteWindow:t,remoteOrigin:"*"}),r={catchError:this.catchError};return await ur(n,r,e.handshakeMaxAttempts,e.handshakeAttemptsInterval)}async loadDac(t){await t.init(this.connector.client,this.connector.options);const e=t.getPermissions();this.addPermissions(...e)}handleLogin(t){if(t)for(const t of this.dacs)t.onUserLogin()}async signRegistryEntry(t,e){return await this.connector.connection.remoteHandle().call("signRegistryEntry",t,e)}async signEncryptedRegistryEntry(t,e){return await this.connector.connection.remoteHandle().call("signEncryptedRegistryEntry",t,e)}}Ui.instance=null;var zi=n(126),Hi=n.n(zi),Fi=n(66),qi={insert:"head",singleton:!1},Vi=(Hi()(Fi.a,qi),Fi.a.locals,"040a97thkkkgrcs38gfvdc8tjntakaiq2uon13j10u7uh911ajffru8"),$i=new r.a({el:document.querySelector("#editor"),height:"100%",initialEditType:"markdown",previewStyle:"vertical"}),Ki=new Vr,Wi=new class extends class{constructor(t){this.dacDomain=t}async init(t,e){this.connector=await Ri.init(t,this.dacDomain,e),await this.connector.connection.remoteHandle().call("init")}onUserLogin(){if(!this.connector)throw new Error("init was not called");this.connector.connection.remoteHandle().call("onUserLogin")}}{constructor(){super("fs-dac.hns")}async init(t,e){return this.client=t,super.init(t,e)}getPermissions(){return[new En.Permission("fs-dac.hns","fs-dac.hns",En.PermCategory.Discoverable,En.PermType.Read),new En.Permission("fs-dac.hns","fs-dac.hns",En.PermCategory.Discoverable,En.PermType.Write)]}async uploadFileData(t,e,n){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("uploadFileData",t,e,n)}async downloadFileData(t,e,n,r){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("downloadFileData",t,e,n,r)}async loadThumbnail(t){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("loadThumbnail",t)}async createDirectory(t,e){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("createDirectory",t,e)}async copyFile(t,e){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("copyFile",t,e)}async moveFile(t,e){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("moveFile",t,e)}async renameFile(t,e){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("renameFile",t,e)}async createFile(t,e,n){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("createFile",t,e,n)}async updateFile(t,e,n){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("updateFile",t,e,n)}async getDirectoryIndex(t){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("getDirectoryIndex",t)}async getShareUriReadOnly(t){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("getShareUriReadOnly",t)}async mountUri(t,e){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("mountUri",t,e)}async generateShareUriReadWrite(){if(!this.connector)throw new Error("Connector not initialized");return await this.connector.connection.remoteHandle().call("generateShareUriReadWrite")}};function Ji(){$("#exportToSkynet").popover({content:'<div class="input-group">\n                <input id="filenameInput" type="text" class="form-control" placeholder="filename" aria-label="filename" minlength="1">\n                <div class="input-group-append">\n                  <button class="btn btn-outline-secondary" type="button" id="saveBtn" disabled>Save</button>\n                </div>\n              </div>',placement:"auto",html:!0,sanitize:!1,customClass:"loadPopover"}),$("#exportToSkynet").popover("show"),$("#filenameInput").on("input",(function(t){var e=$(this);$("#saveBtn").attr("disabled",!e[0].validity.valid)})),$("#saveBtn").click((function(t){var e=$("#filenameInput").val();console.log($("#filenameInput")),$("#exportToSkynet").popover("dispose"),function(t){console.log("Saving to skynet!"),$("#exportToSkynet").popover({content:'<div id="loadingIndicator" class="spinner-grow" role="status"><span class="sr-only">Uploading...</span></div>',placement:"auto",html:!0,trigger:"focus"}),$("#exportToSkynet").popover("show");var e=$i.getMarkdown();console.log(e);var n=new Blob([e],{type:"text/plain"});Wi.createDirectory(Vi,"Documents").then((function(e){console.log(e),Wi.uploadFileData(n).then((function(e){console.log(e),Wi.createFile(Vi+"/Documents",t+".md",e).then((function(t){console.log(t),$("#exportToSkynet").popover("dispose")}),(function(t){return console.log("createFile error: "+t)}))}),(function(t){return console.log("uploadFileData error: "+t)}))}),(function(t){return console.log("Create directory error: "+t)}))}(e)}))}function Gi(){var t=this;console.log("Loading from skynet"),Wi.getDirectoryIndex(Vi+"/Documents").then((function(e){if(null==e||null===e.files||void 0===e.files)console.log("Got dir index, doesn't exist"),$("#loadFromSkynet").popover({content:"No files found",placement:"auto",trigger:"focus"}),$("#loadFromSkynet").popover("show");else{console.log("Got dir index, exists");var n=Object.keys(e.files),r=document.createElement("ul");r.id="fileList";for(var i=0;i<n.length;i++){var o=document.createElement("li"),a=document.createElement("a");o.appendChild(a),a.innerHTML=n[i],a.href="javascript:void(0);",r.appendChild(o)}$(document).on("click","#fileList > li > a",(function(e){var n;console.log($(t)),console.log(e),n=e.currentTarget.innerHTML,console.log("Loading: "+n),Wi.getDirectoryIndex(Vi+"/Documents").then((function(t){var e=t.files[n];Wi.downloadFileData(e.file,"text/plain").then((function(t){console.log("Downloaded File: "+t),t.text().then((function(t){console.log("Downloaded File Text: "+t),$i.setMarkdown(t),$("#loadFromSkynet").popover("dispose")}))}),(function(t){console.log("!"),console.log(t)}))}))})),$("#loadFromSkynet").popover({content:r.outerHTML,placement:"auto",html:!0,sanitize:!1,customClass:"loadPopover",trigger:"focus"}),$("#loadFromSkynet").popover("show")}}),(function(t){console.log("Failed to get dir index: "+t)}))}Ki.loadMySky().then((function(t){t.loadDacs(Wi),t.checkLogin();var e=new URLSearchParams(window.location.search).get("file");e&&console.log(e)}),(function(t){console.log("Error in loadMySky: "+t)})),$(".toastui-editor-defaultUI-toolbar").append('<div class="toastui-editor-toolbar-group">\n            <div class="toastui-editor-toolbar-divider"></div>\n            <button class=\'tui-image-editor-load-skynet-image-btn\' id="loadFromSkynet" style="background: none;">\n              <i class="fa fa-folder-open-o fa-2x"></i>\n            </button>\n            <button class=\'tui-image-editor-download-image-btn\' id="exportToSkynet" style="background: none;">\n              <i class="fa fa-save fa-2x"></i>\n            </button>\n          </div>'),$("#exportToSkynet").click(Ji),$("#loadFromSkynet").click(Gi)}]);